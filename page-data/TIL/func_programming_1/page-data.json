{"componentChunkName":"component---src-templates-blog-post-js","path":"/TIL/func_programming_1/","result":{"data":{"site":{"siteMetadata":{"title":"42Log"}},"markdownRemark":{"id":"2bd2b65f-8fa5-5f0f-856f-47eebaab9672","excerpt":"자바스크립트의 함수형 프로그래밍을 이해하기 위해 사전에 알아야할 것들을 먼저 정리해보려고 한다. 일급 객체, Symbol…","html":"<p>자바스크립트의 함수형 프로그래밍을 이해하기 위해 사전에 알아야할 것들을 먼저 정리해보려고 한다. 일급 객체, Symbol, 이터러블, 고차 함수 등을 차례로 살펴보자.</p>\n<h3>함수는 일급 객체.</h3>\n<p>자바스크립트의 함수는 일급 객체다. 이는 함수를 객체와 동일하게, ‘값’으로 사용할 수 있다는 것을 의미한다.</p>\n<p>일급 객체의 조건은 다음과 같다.</p>\n<ol>\n<li>무명의 리터럴로 생성할 수 있다.</li>\n<li>변수나 자료구조에 저장할 수 있다.</li>\n<li>함수의 매개변수에 전달할 수 있다. = 인자로 사용될 수 있다.</li>\n<li>함수의 반환값으로 사용할 수 있다.</li>\n</ol>\n<p>즉, 값이 사용되는 곳이라면 어디든지 함수도 사용될 수 있다는 뜻이다. (변수 할당, 객체의 프로퍼티, 배열 요소 등) 함수도 객체이지만, 일반 객체에는 없는 프로퍼티를 가지고 있기도 하다. 함수의 이름을 담고 있는 <code class=\"language-text\">name</code>, 인자를 담고 있는 <code class=\"language-text\">arguments</code>, 그리고 <code class=\"language-text\">prototype</code> 프로퍼티 등등.</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token comment\">// arguments 프로퍼티의 값은 함수 내부에서만 참조할 수 있는 객체다(이터러블)</span>\n<span class=\"token comment\">// arguments 객체를 사용하면 인자의 개수가 정해지지 않았을 때도</span>\n<span class=\"token comment\">// 인자를 활용하는 함수를 만들 수 있다.</span>\n<span class=\"token keyword\">function</span> <span class=\"token function\">args</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"arguments: \"</span><span class=\"token punctuation\">,</span> arguments<span class=\"token punctuation\">.</span>length<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n\nconsole<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token function\">args</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\t\t<span class=\"token comment\">// arguments: 0</span>\nconsole<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token function\">args</span><span class=\"token punctuation\">(</span><span class=\"token number\">1</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\t\t<span class=\"token comment\">// arguments: 1</span>\nconsole<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token function\">args</span><span class=\"token punctuation\">(</span><span class=\"token number\">1</span><span class=\"token punctuation\">,</span> <span class=\"token number\">2</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\t<span class=\"token comment\">// arguments: 2</span>\nconsole<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token function\">args</span><span class=\"token punctuation\">(</span><span class=\"token number\">1</span><span class=\"token punctuation\">,</span> <span class=\"token number\">2</span><span class=\"token punctuation\">,</span> <span class=\"token number\">3</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\t<span class=\"token comment\">// arguments: 3</span></code></pre></div>\n<h4>고차 함수</h4>\n<p>이러한 일급 객체로서의 함수의 성질 덕분에 고차 함수가 존재한다. 고차 함수는 함수를 인수로 전달받거나, 함수를 반환하는 (클로저를 만들어 반환하는) 함수를 말한다. 즉, 함수를 값으로 다루는 함수이다.</p>\n<p>함수가 일급 객체인 덕분에 자바스크립트를 통한 <strong>함수형 프로그래밍</strong>이 가능해진다. </p>\n<p>자바스크립트 함수형 프로그래밍에서 중요한 이터러블, 제너레이터 등을 살펴보기에 앞서 먼저 알아둘 내용이 있다. 바로 ES6에서 자바스크립트의 7번째 데이터 타입으로 추가된 <strong>Symbol</strong>이다.</p>\n<h3>Symbol.</h3>\n<p>심벌은 <strong>고유한</strong> 원시 타입의 값이다. 다른 값과 절대 중복되지 않는 유일무이한 값이라는 뜻이다. 따라서 <strong>유일한 프로퍼티 key</strong>를 만들기 위해 주로 사용한다.</p>\n<p>심벌 값을 생성하기 위해서는 Symbol 함수를 호출한다. 다른 원시 타입 값과 달리 리터럴 표기법을 통해 생성하는 것이 불가능하다. 이때 Symbol 함수를 통해 생성된 심벌 값은 다른 값과 절대 중복되지 않는 유일무이한 값이지만 그 값의 실체(?)를 확인할 수는 없다.</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token keyword\">const</span> example <span class=\"token operator\">=</span> <span class=\"token function\">Symbol</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\nconsole<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>example<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\t<span class=\"token comment\">// Symbol()</span>\n<span class=\"token keyword\">typeof</span><span class=\"token punctuation\">(</span>example<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\t\t<span class=\"token comment\">// \"symbol\"</span></code></pre></div>\n<p>심벌은 객체가 아닌 원시 타입 값이기 때문에 <code class=\"language-text\">new</code>와 함께 사용하여 생성자 함수처럼 호출하면 오류가 발생한다.</p>\n<p>Symbol 함수의 인자로 문자열을 전달할 수 있지만, 이 문자열은 디버깅 용도로 생성된 심볼 값을 설명하는 데에만 사용되어진다. 실제 심벌 값이랑은 상관이 없다.</p>\n<p>객체의 프로퍼티로 심벌 값을 사용하려면 대괄호를 사용해야 한다. 접근할 때도 마찬가지다. 프로퍼티로서 사용된 심벌 값은 <code class=\"language-text\">for..in</code>문이나 <code class=\"language-text\">Object.keys</code>, <code class=\"language-text\">getOwnPropertyNames</code> 메서드 등을 사용하여 키 값을 순회하여 출력할 때 배제된다. 이처럼 ‘심볼형 프로퍼티 숨기기, hiding symbolic property)‘라고 불리는 원칙 덕분에 외부 스크립트나 라이브러리는 심벌 키를 가진 프로퍼티에 접근하지 못한다.</p>\n<p>ES6에서 도입된 <code class=\"language-text\">getOwnPropertySymbols</code> 메서드를 사용하면 심벌 값 프로퍼티를 찾을 수 있다.</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token keyword\">const</span> obj <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token punctuation\">[</span>example<span class=\"token punctuation\">]</span><span class=\"token operator\">:</span> <span class=\"token string\">'symbolValue'</span>\n<span class=\"token punctuation\">}</span>\n\nconsole<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>Object<span class=\"token punctuation\">.</span><span class=\"token function\">keys</span><span class=\"token punctuation\">(</span>obj<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\t<span class=\"token comment\">// []</span>\nconsole<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>Object<span class=\"token punctuation\">.</span><span class=\"token function\">getOwnPropertySymbols</span><span class=\"token punctuation\">(</span>obj<span class=\"token punctuation\">)</span><span class=\"token punctuation\">[</span><span class=\"token number\">0</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\t<span class=\"token comment\">// 'symbolValue'</span></code></pre></div>\n<p>자바스크립트가 기본 제공하는 빌트인 심벌 값은 Symbol 함수의 프로퍼티 값으로 할당되어 있다. 이 값들을 <strong>Well-known Symbol</strong>이라고 한다. 이터러블을 살펴보며 다룰 <code class=\"language-text\">Symbol.iterator</code>가 여기에 해당된다.</p>\n<h3>Iterable 그리고..</h3>\n<p>지금부터는 <code class=\"language-text\">iterable</code>, <code class=\"language-text\">iterator</code>, <code class=\"language-text\">iterable protocol</code>, <code class=\"language-text\">iterator protocol</code>, <code class=\"language-text\">iterator result object</code>에 대해 알아보자.</p>\n<h4>이터러블</h4>\n<p>반복 가능한 객체 이터러블은 “이터러블 프로토콜을 준수한 객체”를 가리킨다. 대표적으로는 Array, Set, Map, 문자열 등이 있다. 그렇다면 <em>이터러블 프로토콜</em>이란 뭘까.</p>\n<h4>이터러블 프로토콜</h4>\n<p> [Symbol.iterator]를 프로퍼티 키로 사용하여 메서드를 직접 구현한 뒤, 메서드를 호출하면 ‘이터레이터 프로토콜’을 준수한 이터레이터를 반환한다. 또는 프로토타입 체인을 통해 상속받은 [Symbol.iterator]를 호출해도 마찬가지다. 이러한 규약을 이터러블 프로토콜이라고 한다. 그리고 이터러블 프토로콜을 준수한 객체를 이터러블이라고 한다.</p>\n<p>한마디로 말하자면, <strong>이터레이터 프로토콜을 준수하는 이터레이터를 반환하는 객체</strong>가 <strong>이터러블</strong>인 것이다. 이터러블의 특징은 다음과 같다.</p>\n<ul>\n<li><code class=\"language-text\">for...of 문</code>으로 순회할 수 있다.</li>\n<li>스프레드 문법의 대상으로 사용 가능</li>\n<li>디스트럭처링 할당의 대상으로 사용 가능</li>\n</ul>\n<p>그렇다면 <em>이터레이터</em>, <em>이터레이터 프로토콜</em>은 또 뭔가.</p>\n<h4>이터레이터, 이터레이터 프로토콜, 이터레이터 리절트 객체</h4>\n<p>이터레이터는 <code class=\"language-text\">next()</code> 메서드를 가지고 있다. 이터레이터의 next 메서드를 호출하면 이터러블을 순회하며 요소 값을 담은 <code class=\"language-text\">value</code> 프로퍼티와 순회 완료 여부를 나타내는 <code class=\"language-text\">done</code> 프로퍼티를 가진 객체를 반환한다. 이 객체를 <strong>이터레이터 리절트 객체</strong>라고 부른다. (이터레이터 리절트 객체는 이터러블의 요소 순회가 끝나면 value에는 undefined, done에는 true를 담아 반환한다)</p>\n<p>이처럼 next 메서드를 통해 이터레이터 리절트 객체를 만드는 규약을 <strong>이터레이터 프로토콜</strong>이라고 한다. <strong>이터레이터</strong>는 <strong>이터레이터 프로토콜을 준수하는 객체</strong>인 것이다. </p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token comment\">// 배열 arr은 이터러블</span>\n<span class=\"token keyword\">const</span> arr <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span><span class=\"token number\">1</span><span class=\"token punctuation\">,</span> <span class=\"token number\">2</span><span class=\"token punctuation\">,</span> <span class=\"token number\">3</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span>\n<span class=\"token comment\">// iterator는 이터러블 arr이 Symbol.iterator 메서드를 통해 반환한 이터레이터</span>\n<span class=\"token keyword\">const</span> iterator <span class=\"token operator\">=</span> arr<span class=\"token punctuation\">[</span>Symbol<span class=\"token punctuation\">.</span>iterator<span class=\"token punctuation\">]</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token comment\">// 이터레이터는 next 메서드를 통해 value와 done 프로퍼티를 갖는 이터레이터 리절트 객체를 반환</span>\nconsole<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>iterator<span class=\"token punctuation\">.</span><span class=\"token function\">next</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\t<span class=\"token comment\">// {value: 1, done: false}</span>\nconsole<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>iterator<span class=\"token punctuation\">.</span><span class=\"token function\">next</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\t<span class=\"token comment\">// {value: 2, done: false}</span>\nconsole<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>iterator<span class=\"token punctuation\">.</span><span class=\"token function\">next</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\t<span class=\"token comment\">// {value: 3, done: false}</span>\nconsole<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>iterator<span class=\"token punctuation\">.</span><span class=\"token function\">next</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\t<span class=\"token comment\">// {value: undefined, done: true}</span></code></pre></div>\n<p>즉,</p>\n<p>이터러블 프로토콜을 준수하는 객체인 이터러블에는 대표적으로 문자열, 배열, 맵, 셋 등이 있는데, 이들은 for…of 문으로 순회가 가능하며 스프레드 문법과 디스트럭처링 할당의 대상이 될 수 있다. 이터러블의 메서드 [Symbol.iterator]()를 호출하면, 이터레이터 프로토콜을 준수하는 이터레이터를 반환한다. 반환된 이터레이터는 next() 메서드를 사용하면 이터러블을 순회하며 value와 done 프로퍼티를 갖는 객체를 차례 차례 반환하는데, 이 객체를 이터레이터 리절트 객체라고 부르는 것이다..😭</p>\n<p>위에서 설명했듯, [Symbol.iterator]를 프로퍼티 키로 갖는 메서드를 직접 정의해도 이터러블을 생성할 수 있다. 이때  반환되는 이터레이터는 이터레이터 프로토콜을 준수하기 위해 next 메서드를 통해 이터레이터 리절트 객체를 반환해야 한다.</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token keyword\">const</span> customIterable <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token comment\">// Symbol.iterator 메서드 정의</span>\n    <span class=\"token punctuation\">[</span>Symbol<span class=\"token punctuation\">.</span>iterator<span class=\"token punctuation\">]</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token keyword\">let</span> i <span class=\"token operator\">=</span> <span class=\"token number\">1</span><span class=\"token punctuation\">;</span>\n        <span class=\"token comment\">// 이터레이터 반환</span>\n        <span class=\"token keyword\">return</span> <span class=\"token punctuation\">{</span>\n            <span class=\"token comment\">// 이터레이터의 next 메서드 정의</span>\n            <span class=\"token function\">next</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n                <span class=\"token comment\">// 이터레이터 리절트 객체 반환</span>\n                <span class=\"token keyword\">return</span> i <span class=\"token operator\">></span> <span class=\"token number\">3</span> <span class=\"token operator\">?</span> <span class=\"token punctuation\">{</span> done<span class=\"token operator\">:</span> <span class=\"token boolean\">true</span> <span class=\"token punctuation\">}</span> <span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span> value<span class=\"token operator\">:</span> i<span class=\"token operator\">++</span><span class=\"token punctuation\">,</span> done<span class=\"token operator\">:</span> <span class=\"token boolean\">false</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\n            <span class=\"token punctuation\">}</span>\n        <span class=\"token punctuation\">}</span>\n    <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<h4>for…of 문의 작동 원리</h4>\n<p>결국 우리가 알고 있는 일반적인 반복문 <code class=\"language-text\">for(let i=0; i&lt;arr.length; i++){}</code> 없이 <code class=\"language-text\">for...of 문</code>으로 이터러블을 순회할 수 있는 이유는 이터러블에는 [Symbol.iterator] 메서드가 존재하고, 그 메서드가 반환하는 이터레이터에는 next 메서드가 있어, 이터레이터 리절트 객체를 반환하기 때문이다.</p>\n<p>반대로 [Symbol.iterator] 메서드가 없으면 이터러블이 아니고, for…of 문으로 순회할 수가 없다는 것을 의미한다. for…of 문은 내부적으로 이터레이터의 next 메서드를 호출하여 반환된 이터레이터 리절트 객체의 value 값을 변수에 할당하는 방식으로 작동하기 때문이다. (done이 true가 될 때까지)</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token comment\">// [Symbol.iterator] 메서드 삭제해보기</span>\n<span class=\"token comment\">// 배열은 Array.prototype의 Symbol.iterator 메서드를 상속 받는다.</span>\n<span class=\"token keyword\">const</span> arr <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span><span class=\"token number\">1</span><span class=\"token punctuation\">,</span> <span class=\"token number\">2</span><span class=\"token punctuation\">,</span> <span class=\"token number\">3</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span>\n\narr<span class=\"token punctuation\">[</span>Symbol<span class=\"token punctuation\">.</span>iterator<span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> <span class=\"token keyword\">null</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">for</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">const</span> el <span class=\"token keyword\">of</span> arr<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>el<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\t\t\t\t\t\t<span class=\"token comment\">// Uncaught TypeError: arr is not iterable</span></code></pre></div>\n<h4>유사 배열 객체</h4>\n<p>이번에는 유사 배열 객체에 대해서 짚고 넘어가자. </p>\n<p>유사 배열 객체는 말 그대로 배열과 유사하지만 배열이 아닌 객체를 말한다. 유사 배열 객체의 조건으로는 프로퍼티 key로서 숫자를 가지며, <code class=\"language-text\">length</code> 프로퍼티를 가지고 있어야 한다. 인덱스가 존재하기 때문에 배열처럼 인덱스를 통해 값에 접근할 수 있고, length가 있기 때문에 for 문으로 순회할 수 있다.</p>\n<p><strong>Array.from 메서드</strong><br>\n보통의 유사 배열 객체는 이터러블이 아니다. 따라서 for…of 문으로 순회가 불가능하다. [Symbol.iterator] 메서드가 없다는 뜻이다. 그러나 ES6에서 도입된 Array.from 메서드를 사용하면 유사 배열 객체도 배열로 변환할 수 있다.</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token keyword\">const</span> arrLike <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token number\">0</span><span class=\"token operator\">:</span> <span class=\"token number\">1</span><span class=\"token punctuation\">,</span>\n    <span class=\"token number\">1</span><span class=\"token operator\">:</span> <span class=\"token number\">2</span><span class=\"token punctuation\">,</span>\n    <span class=\"token number\">2</span><span class=\"token operator\">:</span> <span class=\"token number\">3</span><span class=\"token punctuation\">,</span>\n    length<span class=\"token operator\">:</span> <span class=\"token number\">3</span>\n<span class=\"token punctuation\">}</span>\n\nconsole<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>Array<span class=\"token punctuation\">.</span><span class=\"token function\">isArray</span><span class=\"token punctuation\">(</span>arrLike<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\t\t<span class=\"token comment\">// false</span>\nconsole<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>arrLike<span class=\"token punctuation\">[</span>Symbol<span class=\"token punctuation\">.</span>iterator<span class=\"token punctuation\">]</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\t<span class=\"token comment\">// arrLike[Symbol.iterator] is not a function</span>\n<span class=\"token comment\">// 배열로 변환</span>\n<span class=\"token keyword\">const</span> arr <span class=\"token operator\">=</span> Array<span class=\"token punctuation\">.</span><span class=\"token function\">from</span><span class=\"token punctuation\">(</span>arrayLike<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\nconsole<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>Array<span class=\"token punctuation\">.</span><span class=\"token function\">isArray</span><span class=\"token punctuation\">(</span>arr<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\t\t\t<span class=\"token comment\">// true</span>\nconsole<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>arr<span class=\"token punctuation\">[</span>Symbol<span class=\"token punctuation\">.</span>iterator<span class=\"token punctuation\">]</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\t\t<span class=\"token comment\">// Array Iterator {}</span></code></pre></div>\n<p><strong>유사 배열 객체 + 이터러블</strong><br>\n대표적인 유사 배열 객체로는 <code class=\"language-text\">document.querySelectorAll</code>이 반환하는 <code class=\"language-text\">NodeList</code>, <code class=\"language-text\">document.body.children</code>이 반환하는 <code class=\"language-text\">HTMLCollection</code> 같은 DOM Collection 그리고 함수의 <code class=\"language-text\">arguments</code> 객체 등이 있다. 그러나 이 유사 배열 객체들은 유사 배열 객체이면서 동시에 이터러블인 특수한 경우다. 따라서 인덱스로 접근할 수 있으면서도 for…of 문으로 순회가 가능하다는 점을 기억하자.</p>\n<h4>스프레드 문법</h4>\n<p>스프레드 문법은  ES6에서 도입되었다. 이터러블은 스프레드 문법의 대상이 될 수 있다고 했다. </p>\n<p>스프레드 문법은 값들이 들어있는 집합을 전개하여 개별적인 값의 목록으로 바꿔준다. 단, 스프레드 문법에 의해 전개된 결과물을 변수에 할당하는 등 값처럼 사용할 수가 없다는 점을 기억하자. 스프레드 문법의 결과는 ‘값’이 아닌 ‘목록’이기 때문이다.</p>\n<p>스프레드 문법은 다음과 같이 <strong>“쉼표로 구분한 값의 목록”</strong>이 사용되는 맥락에서 사용될 수 있다.</p>\n<p><strong>1. 함수 호출문의 인수</strong><br>\n<code class=\"language-text\">Math.max()</code> 같은 메서드는 인수로 여러 개의 숫자를 필요로 한다. 이때 인수는 배열의 형태로 전달되어서는 안 된다. 따라서 배열의 요소들을 전개시켜주는 스프레드 문법을 사용하면 효율적이다.</p>\n<p>🚨 <strong>Rest 파라미터</strong><br>\n…을 사용하는 스프레드 문법은 Rest 파라미터와 사용 형태가 동일하다. 그러나 서로 반대되는 개념이기 때문에 주의해야 한다. Rest 파라미터는 함수에 전달된 인수들의 목록을 ‘배열로’ 변환시킨다. 반면 스프레드 문법은 ‘배열을’ 인수들의 목록으로 변환한다.</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token comment\">// Rest 파라미터</span>\n<span class=\"token keyword\">function</span> <span class=\"token function\">restParams</span><span class=\"token punctuation\">(</span><span class=\"token parameter\"><span class=\"token operator\">...</span>rest</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>rest<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\nconsole<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token function\">restParams</span><span class=\"token punctuation\">(</span><span class=\"token number\">1</span><span class=\"token punctuation\">,</span><span class=\"token number\">2</span><span class=\"token punctuation\">,</span><span class=\"token number\">3</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\t<span class=\"token comment\">// [1, 2, 3]</span>\n\n<span class=\"token comment\">// 스프레드 문법</span>\n<span class=\"token keyword\">const</span> arr <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span><span class=\"token number\">1</span><span class=\"token punctuation\">,</span> <span class=\"token number\">2</span><span class=\"token punctuation\">,</span> <span class=\"token number\">3</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span>\nconsole<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token operator\">...</span>arr<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\t<span class=\"token comment\">// 1 2 3</span></code></pre></div>\n<p><strong>2. 배열 리터럴의 요소</strong><br>\n기존에는 두 개의 배열을 하나의 배열로 합치기 위해 <code class=\"language-text\">concat</code>과 같은 메서드를 사용해야 했다. 그러나 스프레드 문법을 사용하면 메서드 없이 두 배열을 하나로 합칠 수 있다. <code class=\"language-text\">splice</code>를 사용하여 배열을 배열의 요소로서 추가하거나, <code class=\"language-text\">slice</code>를 사용해 원본 배열을 복사할 때도 스프레드 문법이 유용하다.</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token keyword\">const</span> arr1 <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span><span class=\"token number\">1</span><span class=\"token punctuation\">,</span> <span class=\"token number\">2</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">const</span> arr2 <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span><span class=\"token number\">3</span><span class=\"token punctuation\">,</span> <span class=\"token number\">4</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span>\n<span class=\"token comment\">// 합치기</span>\n<span class=\"token keyword\">const</span> arr3 <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span><span class=\"token operator\">...</span>arr1<span class=\"token punctuation\">,</span> <span class=\"token operator\">...</span>arr2<span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span>\nconsole<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>arr3<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\t<span class=\"token comment\">// [1, 2, 3, 4]</span>\n<span class=\"token comment\">// 추가하기</span>\narr1<span class=\"token punctuation\">.</span><span class=\"token function\">splice</span><span class=\"token punctuation\">(</span><span class=\"token number\">2</span><span class=\"token punctuation\">,</span> <span class=\"token number\">0</span><span class=\"token punctuation\">,</span> <span class=\"token operator\">...</span>arr2<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\nconsole<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>arr1<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\t<span class=\"token comment\">// [1, 2, 3, 4]</span>\n<span class=\"token comment\">// 복사하기</span>\n<span class=\"token keyword\">const</span> arr4 <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span><span class=\"token operator\">...</span>arr3<span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span>\nconsole<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>arr4<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\t<span class=\"token comment\">// [1, 2, 3, 4]</span></code></pre></div>\n<p>💡 이밖에 이터러블인 유사 배열 객체를 배열로 변환할 때도 스프레드 문법을 사용하면 편리하다.</p>\n<p><strong>3. 객체 리터럴의 프로퍼티</strong><br>\n‘스프레드 프로퍼티’는 현재 ECMAScript 표준에 제안된 (stage4) 상태다. 객체 리터럴의 프로퍼티 목록에 대해서도 스프레드 문법을 사용할 수 있다는 내용이다. 원래 스프레드 문법의 대상은 이터러블이어야하지만, 스프레드 프로퍼티는 일반 객체를 대상으로도 사용할 수 있다. <code class=\"language-text\">Object.assgin</code> 메서드를 대체할 수 있다.</p>\n<h4>디스트럭처링 할당</h4>\n<p>스프레드 프로퍼티와 더불어 디스트럭처링 할당의 대상도 이터러블과 객체 리터럴이다. 디스트럭처링 할당은 배열과 같은 이터러블 또는 객체의 구조를 파괴하여 변수에 개별적으로 할당하는 것을 말한다. 객체에서 필요한 값만 추출할 때 유용하게 사용할 수 있다.</p>\n<p><strong>배열 디스트럭처링 할당</strong><br>\n배열 디스트럭처링 할당의 좌변은 변수, 우변은 이터러블이어야 한다. 배열 인덱스의 순서를 따라 차례대로 할당된다. 변수의 개수와 배열 요소의 개수가 일치하지 않아도 상관없다. 변수의 개수만큼만 할당되며, 변수가 더 많은 경우 할당되지 않은 변수의 값은 undefined이다. 좌변의 변수는 배열 리터럴 형태여야 한다.</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token comment\">// 변수의 기본값을 설정할 수도 있다.</span>\n<span class=\"token keyword\">const</span> <span class=\"token punctuation\">[</span>a<span class=\"token punctuation\">,</span> b<span class=\"token operator\">=</span><span class=\"token number\">1</span><span class=\"token punctuation\">,</span> c<span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span><span class=\"token number\">1</span><span class=\"token punctuation\">,</span> <span class=\"token number\">2</span><span class=\"token punctuation\">,</span> <span class=\"token number\">3</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span>\nconsole<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>a<span class=\"token punctuation\">,</span> c<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\t<span class=\"token comment\">// 1 1 3</span>\n<span class=\"token comment\">// 기본값이 설정된 변수에 새로운 값이 할당되면 덮어씌워진다.</span>\n<span class=\"token keyword\">const</span> <span class=\"token punctuation\">[</span>d<span class=\"token punctuation\">,</span> e<span class=\"token operator\">=</span><span class=\"token number\">0</span><span class=\"token punctuation\">,</span> f<span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span><span class=\"token number\">4</span><span class=\"token punctuation\">,</span> <span class=\"token number\">5</span><span class=\"token punctuation\">,</span> <span class=\"token number\">6</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span>\nconsole<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>d<span class=\"token punctuation\">,</span> e<span class=\"token punctuation\">,</span> f<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\t<span class=\"token comment\">// 4, 0, 6</span></code></pre></div>\n<p><strong>객체 디스트럭처링 할당</strong>  ㅈ\n객체 디스트럭처링 할당을 위해서는 객체의 프로퍼티 키를 사용해야 한다. 인덱스를 기준으로 할당하던 배열 디스트럭처링과는 달리, 객체 디스트럭처링 할당은 일치하는 프로퍼티 키가 없으면 변수에 값이 할당되지 않는다. 배열과 마찬가지로 좌변의 변수는 객체 리터럴 형태여야 하며, 우변은 객체로 평가될 수 있는 표현식이어야 한다.</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token comment\">// 배열과 마찬가지로 기본값을 설정할 수 있다.</span>\n<span class=\"token comment\">// 객체 프로퍼티 키와 다른 이름의 변수에 할당할 수도 있다.</span>\n<span class=\"token keyword\">const</span> user <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span> name<span class=\"token operator\">:</span> <span class=\"token string\">\"Kim\"</span><span class=\"token punctuation\">,</span> age<span class=\"token operator\">:</span> <span class=\"token number\">20</span><span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">const</span> <span class=\"token punctuation\">{</span> name<span class=\"token punctuation\">,</span> age<span class=\"token operator\">:</span> old <span class=\"token punctuation\">}</span> <span class=\"token operator\">=</span> user<span class=\"token punctuation\">;</span>\nconsole<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>name<span class=\"token punctuation\">,</span> old<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\t<span class=\"token comment\">// Kim 20</span>\n<span class=\"token comment\">// 함수의 매개변수에도 사용 가능하다.</span>\n<span class=\"token keyword\">function</span> <span class=\"token function\">introduce</span><span class=\"token punctuation\">(</span><span class=\"token parameter\"><span class=\"token punctuation\">{</span> name<span class=\"token punctuation\">,</span> age <span class=\"token punctuation\">}</span></span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token string\">I am </span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span>name<span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token string\">, </span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span>age<span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token string\"> years old.</span><span class=\"token template-punctuation string\">`</span></span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n<span class=\"token function\">introduce</span><span class=\"token punctuation\">(</span>user<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\t<span class=\"token comment\">// I am Kim, 20 years old.</span>\n<span class=\"token comment\">// 중첩 객체에도 사용할 수 있다.</span>\n<span class=\"token keyword\">const</span> person <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span>\n    name<span class=\"token operator\">:</span> <span class=\"token string\">\"Kim\"</span><span class=\"token punctuation\">,</span>\n    info<span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n        age<span class=\"token operator\">:</span> <span class=\"token number\">20</span><span class=\"token punctuation\">,</span>\n        job<span class=\"token operator\">:</span> <span class=\"token string\">\"student\"</span>\n    <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span>\n<span class=\"token keyword\">const</span> <span class=\"token punctuation\">{</span> name<span class=\"token punctuation\">,</span> info<span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span> job <span class=\"token punctuation\">}</span><span class=\"token punctuation\">}</span> <span class=\"token operator\">=</span> person<span class=\"token punctuation\">;</span>\nconsole<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>name<span class=\"token punctuation\">,</span> job<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\t<span class=\"token comment\">// Kim student</span></code></pre></div>\n<h3>제너레이터</h3>\n<p>ES6에서 도입된 제너레이터는 코드 블록의 실행을 일시 중지했다가 필요할 때 재개할 수 있다. 한 번에 하나의 값만을 반환하는 일반 함수와는 달리, 제너레이터는 여러 개의 값을 필요에 따라 반환(<strong>yield</strong>)할 수 있다. </p>\n<p>호출하면 코드 블록을 실행하는 일반 함수와는 달리, 제너레이터를 호출하면 제너레이터 객체를 반환한다. 제너레이터 객체는 <strong>이터러블인 이터레이터</strong>이다. 따라서 next() 메서드를 호출하면 제너레이터 함수 내부의 <code class=\"language-text\">yield</code> 표현식까지 코드를 실행하고, yield된 값을 이터레이터 리절트 객체의 <code class=\"language-text\">value</code> 값으로 반환한다.</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token keyword\">function</span> <span class=\"token operator\">*</span><span class=\"token function\">gen</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">yield</span> <span class=\"token number\">1</span><span class=\"token punctuation\">;</span>\n    <span class=\"token keyword\">yield</span> <span class=\"token number\">2</span><span class=\"token punctuation\">;</span>\n    <span class=\"token keyword\">yield</span> <span class=\"token number\">3</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token keyword\">const</span> generator <span class=\"token operator\">=</span> <span class=\"token function\">gen</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\nconsole<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>generator<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\t\t\t<span class=\"token comment\">// gen {&lt;suspended>}</span>\nconsole<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>generator<span class=\"token punctuation\">.</span><span class=\"token function\">next</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\t<span class=\"token comment\">// {value: 1, done: false}</span>\nconsole<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>generator<span class=\"token punctuation\">.</span><span class=\"token function\">next</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\t<span class=\"token comment\">// {value: 2, done: false}</span>\nconsole<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>generator<span class=\"token punctuation\">.</span><span class=\"token function\">next</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\t<span class=\"token comment\">// {value: 3, done: false}</span>\nconsole<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>generator<span class=\"token punctuation\">.</span><span class=\"token function\">next</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\t<span class=\"token comment\">// {value: undefined, done: true}</span></code></pre></div>\n<p>호출하면 이터레이터를 반환하는 제너레이터의 특성은 함수형 프로그래밍의 지연 평가와 관계가 깊다. 앞으로 더 깊게 알아보자.</p>\n<p>본격적으로 함수형 프로그래밍에 대해 공부하기 전에 기본적으로 알아둬야 할 내용들에 대해 간략하게 (하지만 모아놓으니 많은..) 정리해보았다.  </p>\n<p>여기까지 공부할 때는 뒤에 닥칠 진짜 시련을 미처 예상하지 못했지.</p>","frontmatter":{"title":"[TIL] 함수형 프로그래밍 준비하기","date":"August 11, 2021","description":null}},"previous":{"fields":{"slug":"/TIL/browser_rendering/"},"frontmatter":{"title":"브라우저 렌더링 (Browser Rendering)"}},"next":{"fields":{"slug":"/TIL/network_devices/"},"frontmatter":{"title":"네트워크 장비 (Network Devices)"}}},"pageContext":{"id":"2bd2b65f-8fa5-5f0f-856f-47eebaab9672","previousPostId":"e4c25597-f5b9-5675-8c66-879dd43923a3","nextPostId":"0ad50185-3058-5b03-8ee4-e0636eed68f3"}},"staticQueryHashes":["2841359383","3257411868"]}