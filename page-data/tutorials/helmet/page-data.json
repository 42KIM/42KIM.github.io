{"componentChunkName":"component---src-templates-blog-post-js","path":"/tutorials/helmet/","result":{"data":{"site":{"siteMetadata":{"title":"42Log"}},"markdownRemark":{"id":"cbc8c7a6-5ffe-5daf-8951-38acfa7bbaeb","excerpt":"Helmet 이란? 은 다양한 HTTP header 설정을 통해 애플리케이션의 보안 강화를 도와주는 모듈이자,  프레임워크에서 호환되는 미들웨어 묶음이다.   사용법 Helmet은 15개의 하위 미들웨어로 구성되어 있는데, 위 방법으로 사용할 경우 1…","html":"<h3>Helmet 이란?</h3>\n<p><code class=\"language-text\">Helmet</code>은 다양한 HTTP header 설정을 통해 애플리케이션의 보안 강화를 도와주는 모듈이자, <code class=\"language-text\">Expresss</code> 프레임워크에서 호환되는 미들웨어 묶음이다.  </p>\n<h4>사용법</h4>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\">app<span class=\"token punctuation\">.</span><span class=\"token function\">use</span><span class=\"token punctuation\">(</span><span class=\"token function\">helmet</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre></div>\n<p>Helmet은 15개의 하위 미들웨어로 구성되어 있는데, 위 방법으로 사용할 경우 11개의 하위 미들웨어가 디폴트로 포함되어 있다. </p>\n<p>따라서 위의 코드는 아래의 코드와 동일하다.</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\">app<span class=\"token punctuation\">.</span><span class=\"token function\">use</span><span class=\"token punctuation\">(</span>helmet<span class=\"token punctuation\">.</span><span class=\"token function\">contentSecurityPolicy</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\napp<span class=\"token punctuation\">.</span><span class=\"token function\">use</span><span class=\"token punctuation\">(</span>helmet<span class=\"token punctuation\">.</span><span class=\"token function\">dnsPrefetchControl</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\napp<span class=\"token punctuation\">.</span><span class=\"token function\">use</span><span class=\"token punctuation\">(</span>helmet<span class=\"token punctuation\">.</span><span class=\"token function\">expectCt</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\napp<span class=\"token punctuation\">.</span><span class=\"token function\">use</span><span class=\"token punctuation\">(</span>helmet<span class=\"token punctuation\">.</span><span class=\"token function\">frameguard</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\napp<span class=\"token punctuation\">.</span><span class=\"token function\">use</span><span class=\"token punctuation\">(</span>helmet<span class=\"token punctuation\">.</span><span class=\"token function\">hidePoweredBy</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\napp<span class=\"token punctuation\">.</span><span class=\"token function\">use</span><span class=\"token punctuation\">(</span>helmet<span class=\"token punctuation\">.</span><span class=\"token function\">hsts</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\napp<span class=\"token punctuation\">.</span><span class=\"token function\">use</span><span class=\"token punctuation\">(</span>helmet<span class=\"token punctuation\">.</span><span class=\"token function\">ieNoOpen</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\napp<span class=\"token punctuation\">.</span><span class=\"token function\">use</span><span class=\"token punctuation\">(</span>helmet<span class=\"token punctuation\">.</span><span class=\"token function\">noSniff</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\napp<span class=\"token punctuation\">.</span><span class=\"token function\">use</span><span class=\"token punctuation\">(</span>helmet<span class=\"token punctuation\">.</span><span class=\"token function\">permittedCrossDomainPolicies</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\napp<span class=\"token punctuation\">.</span><span class=\"token function\">use</span><span class=\"token punctuation\">(</span>helmet<span class=\"token punctuation\">.</span><span class=\"token function\">referrerPolicy</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\napp<span class=\"token punctuation\">.</span><span class=\"token function\">use</span><span class=\"token punctuation\">(</span>helmet<span class=\"token punctuation\">.</span><span class=\"token function\">xssFilter</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre></div>\n<h4>Options</h4>\n<p>다음과 같이 특정 하위 미들웨어에 대한 옵션을 설정할 수도 있다.</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\">app<span class=\"token punctuation\">.</span><span class=\"token function\">use</span><span class=\"token punctuation\">(</span>\n  <span class=\"token function\">helmet</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span>\n    <span class=\"token comment\">// set custom option</span>\n    referrerPolicy<span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span> policy<span class=\"token operator\">:</span> <span class=\"token string\">\"no-referrer\"</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n    <span class=\"token comment\">// disable middleware</span>\n    contentSecurityPolicy<span class=\"token operator\">:</span> <span class=\"token boolean\">false</span><span class=\"token punctuation\">,</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre></div>\n<h3>하위 미들웨어</h3>\n<h4>Defaults</h4>\n<p><code class=\"language-text\">app.use(helmet());</code>에 의해 디폴트로 실행되는 미들웨어들이다. </p>\n<p><span style=\"color:red\">(각각에 대한 설명은 관련 내용 심화 학습 후 보강)</span></p>\n<ul>\n<li><code class=\"language-text\">helmet.contentSecurityPolicy(options)</code><br>\nXSS 공격을 감지하고 일부 완화시켜주는 Content Security Policy(CSP) 헤더 설정</li>\n<li><code class=\"language-text\">helmet.expectCt(options)</code></li>\n<li><code class=\"language-text\">helmet.referrerPolicy(options)</code></li>\n<li><code class=\"language-text\">helmet.hsts(options)</code></li>\n<li><code class=\"language-text\">helmet.noSniff()</code></li>\n<li><code class=\"language-text\">helmet.dnsPrefetchControl(options)</code></li>\n<li><code class=\"language-text\">helmet.ieNoOpen()</code></li>\n<li><code class=\"language-text\">helmet.frameguard(options)</code></li>\n<li><code class=\"language-text\">helmet.permittedCrossDomainPolicies(options)</code></li>\n<li><code class=\"language-text\">helmet.hidePoweredBy()</code></li>\n<li><code class=\"language-text\">helmet.xssFilter()</code></li>\n</ul>\n<h4>Extras</h4>\n<ul>\n<li><code class=\"language-text\">helmet.crossOriginEmbedderPolicy()</code><br>\n허가되지 않은 cross-origin 자원의 로드를 방지하는 Cross-Origin-Embedder-Policy(COEP) 헤더 설정</li>\n<li><code class=\"language-text\">helmet.crossOriginOpenerPolicy()</code></li>\n<li><code class=\"language-text\">helmet.crossOriginResourcePolicy()</code></li>\n<li><code class=\"language-text\">helmet.originAgentCluster()</code></li>\n</ul>\n<h4>참고</h4>\n<p><a href=\"https://www.npmjs.com/package/helmet\">helmet - npm</a><br>\n<a href=\"https://developer.mozilla.org/en-US/docs/Web/HTTP/CSP\">MDN Web Docs</a></p>","frontmatter":{"title":"[Docs] Helmet 모듈","date":"June 16, 2021","description":null}},"previous":{"fields":{"slug":"/algorithm/BOJ17298오큰수/"},"frontmatter":{"title":"[알고리즘] BOJ 17298번 오큰수 (JavaScript)"}},"next":{"fields":{"slug":"/tutorials/dotenv/"},"frontmatter":{"title":"[Docs] Dotenv, 환경 변수"}}},"pageContext":{"id":"cbc8c7a6-5ffe-5daf-8951-38acfa7bbaeb","previousPostId":"f8477254-e504-54c7-a364-fdaa20686e12","nextPostId":"001a5531-75b5-54c2-9014-04f34d770855"}},"staticQueryHashes":["2841359383","3257411868"]}