<?xml version="1.0" encoding="UTF-8"?><rss xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:content="http://purl.org/rss/1.0/modules/content/" xmlns:atom="http://www.w3.org/2005/Atom" version="2.0"><channel><title><![CDATA[42Log]]></title><description><![CDATA[보고 듣고 읽은 것들의 파편을 붙잡아 두고자]]></description><link>https://42kim.github.io</link><generator>GatsbyJS</generator><lastBuildDate>Sun, 15 Aug 2021 05:22:47 GMT</lastBuildDate><item><title><![CDATA[프로그래머스 데브 코스 2주차 후기]]></title><description><![CDATA[고통과 쾌감을 동반한다. 하등 쓸 데 없는 TMI로 이번 주 WIF…]]></description><link>https://42kim.github.io/etc/W2/</link><guid isPermaLink="false">https://42kim.github.io/etc/W2/</guid><pubDate>Sat, 14 Aug 2021 00:00:00 GMT</pubDate><content:encoded>&lt;h4&gt;고통과 쾌감을 동반한다.&lt;/h4&gt;
&lt;p&gt;하등 쓸 데 없는 TMI로 이번 주 WIF를 시작해본다.&lt;/p&gt;
&lt;p&gt;나는 비위가 약한 편이다. 영화를 보고난 후에도 잔상이 오래 남는 편이라 고어물은 절대 찾아서 보지 않는다.&lt;/p&gt;
&lt;p&gt;그런데 내 신체 (그리고 정신)에 가해지는 고통에 대해서는 관대하다고 해야하나. 심지어 살면서 겪었던 외과적 수술들, 사랑니 발치, 화생방 등등의 고통에서는 오히려 일정량의 쾌감이 느껴진다고 늘 생각해왔다. &lt;/p&gt;
&lt;h4&gt;*&lt;/h4&gt;
&lt;p&gt;지난 몇 달간 자바스크립트로 이것 저것 시도해보며 이제 ‘조금은’ 익숙해졌다고 생각하려는 찰나, 니가? 감히?라며 등장한 함수형 프로그래밍에 후드려 맞은 일주일이 되어버렸다. &lt;/p&gt;
&lt;p&gt;2주 차는 유인동 멘토님의 함수형 프로그래밍 교육이 이뤄졌다. 나는 잘 모르지만, 다른 사람들의 반응을 보아하니 이 분야(?)에서 꽤 유명하신 분인듯 했다. 사실 다른 개발자도 아무도 모른다. (아, 하트시그널에 나왔던 그 사람이 개발자였다는 사실은 안다) 앞으로는 훌륭한 개발자들의 행보에 대해 좀 더 관심을 가져봐야겠다. 아무튼.&lt;/p&gt;
&lt;p&gt;프로그래밍 패러다임에 대한 이해가 없는 내게, 함수형 프로그래밍의 첫 인상은 ‘신기하네’였다. 내가 지난 몇 달간 써왔던 자바스크립트와는 전혀 다른 언어 같기도 했다. 한 줄 두 줄씩 리팩토링을 하며 코드가 줄어들고 정리될 때마다 그걸 보고 있는 나도 왠지 모를 쾌감이 느껴졌다고 해야하나. 알고리즘 문제를 성공적으로 풀었을 때의 쾌감과 약간 비슷하지만, 결과가 나오는 순간보다 그 과정을 정리함에 있어서 느껴지는 쾌감에 좀 더 가까웠다.&lt;/p&gt;
&lt;p&gt;그렇게 신기한 강의를 들으며 직접 함수형 프로그래밍을 시전해볼 생각에 살짝 들떠있었는데 문제를 풀어보려는 순간 머리가 멈췄고, 정신차려 보니 토요일이 되어 있었다. 힘겹게 개별 함수의 기능까지는 해석할 수 있었지만, 함수형 ‘사고’ 자체가 전혀 되질 않았다. 사실 생각해보면 당연한 일이다. 함수형 프로그래밍의 존재를 알 게 된 지 며칠 되지도 않았는데 제대로 이해할 수 있을리가. 풀리지도, 풀 수도 없는 문제를 가지고 며칠을 보낼 필요는 없었다.&lt;/p&gt;
&lt;h4&gt;*&lt;/h4&gt;
&lt;p&gt;다시 tmi를 이어가자면, 사실 지난 날의 고통 자체가 쾌감을 주지는 않았을 것이다. (진짜로 고통 === 쾌감인 성향의 사람들도 있다지만 나는 아닌 것으로…) 돌이켜보면 쾌감은 고통의 순간이 끝남과 동시에 몰려왔다. 그리고 고통의 시간이 길어질 수록 쾌감의 체감은 더욱 커진다. 물 속에서 오랫동안 잠수를 하며 1초만 더, 1초만 더 버티다가 수면 위의 산소를 들이마시는 순간이 그렇다. 아마 그 순간의 쾌감을 극대화하기 위해서 가능한 오랫동안 고통을 감내하려는 것 같은데 이런 습관은 전혀 효율적이지 않다. 적어도 학습에 있어서는 그렇다. 오래 붙잡고 버티고 있을 때 해결되는 문제가 있고, 그 시간에 차라리 정답을 참고해서 공부를 하는 게 훨씬 효율적일 때도 있다. 아니면 차라리 나가서 놀던가, 쌓인 설거지를 하는 게 더 효율적일지도. 효율적 학습 페이스에 대해 고민했던 지난 주 WIF이 무색한 일주일을 보냈다. &lt;/p&gt;
&lt;p&gt;사실 인생의 효율을 따지는 걸 누구보다 싫어했다. 만약 그랬다면 그렇게 살지도 않았을 것이다. 하지만 이 시점에, 이 곳에서, 이 기간 동안 개발을 공부해보겠다고 마음을 먹은 이상 효율이 무엇보다 중요한 가치가 되어야 함은 분명하다. 보다 빠르게 쾌감에 도달할 수 있는 방법은 고통을 오래 감내하는 것이 아니라, 고통을 극복할 방안을 빠르게 모색하는 것임을 잊지말자. 다음주에는 하지 않는 것과 할 수 없는 것을 잘 구분해보기로.&lt;/p&gt;
&lt;h4&gt;*&lt;/h4&gt;
&lt;p&gt;TIL을 새벽에 쓰지 않기로 했는데 오늘도 4시다. 그런데 아직도 줌에 남아있는 사람들이 있다. 나도 있다. 공부 반, 잡담 반인 것 같지만 고통스러운 일주일 끝에 찾아온 소소한 쾌감이라고 해두자.&lt;/p&gt;</content:encoded></item><item><title><![CDATA[네트워크 장비 (Network Devices)]]></title><description><![CDATA[OSI 7 Layer를 학습하면서 이론적으로는 각 계층이 어떠한 역할을 담당하는지 알 수 있었다. 그러나 네트워크라는 과목을 처음 접하다보니 개념화된 각 계층의 실질적인 프로세스가 어디서, 어떻게 진행되는지를 이해하지 않고서는 OSI 7 Layer…]]></description><link>https://42kim.github.io/TIL/network_devices/</link><guid isPermaLink="false">https://42kim.github.io/TIL/network_devices/</guid><pubDate>Fri, 13 Aug 2021 00:00:00 GMT</pubDate><content:encoded>&lt;p&gt;OSI 7 Layer를 학습하면서 이론적으로는 각 계층이 어떠한 역할을 담당하는지 알 수 있었다. 그러나 네트워크라는 과목을 처음 접하다보니 개념화된 각 계층의 실질적인 프로세스가 어디서, 어떻게 진행되는지를 이해하지 않고서는 OSI 7 Layer를 이해하는 데에 어려움이 있었다.&lt;/p&gt;
&lt;p&gt;일부 계층의 역할을 수행하는 실체가 존재하는 네트워크 장비에 대해 알아보면 그 과정을 구체화하는 데에 조금이나마 도움이 되지 않을까 생각하여, 네트워크 장비들에 대해 알아보았다.&lt;/p&gt;
&lt;h3&gt;네트워크 흐름&lt;/h3&gt;
&lt;img src=&quot;https://user-images.githubusercontent.com/75300807/129347333-550a2054-d207-4fcf-a529-ae9168267bdf.png&quot; style=&quot;zoom:65%;&quot;&gt;
&lt;p&gt;먼저 통신이 발생하는 흐름에 대해서 간략히 살펴보자.&lt;/p&gt;
&lt;p&gt;사용자가 자신의 PC에서 특정 웹사이트를 접속하기 위해 주소창에 주소를 입력한 상황을 예로 들어보자. 사용자의 GET 요청은 응용계층에서 시작하여 하위 계층을 거치며 캡슐화될 것이다. 최하위 계층인 물리 계층에서는 데이터가 전기 신호로 변환된다. 이때, 메인보드의 &lt;code class=&quot;language-text&quot;&gt;PHY 칩&lt;/code&gt;이라는 하드웨어가 데이터를 전기 신호로 변환시키는 역할을 수행한다.&lt;/p&gt;
&lt;p&gt;변환된 전기 신호는 사용자가 속한 네트워크의 스위치를 거치고, 라우터를 거쳐서 웹 서버가 속한 ‘다른 네트워크’의  라우터로 전달된다. 여기서부터 다시 역순으로 웹 서버가 위치한 PC에 도달하면 물리 계층에서 전기 신호가 다시 데이터로 변환되고, 7계층의 역캡슐화 과정을 거쳐서 비로소 요청이 전달될 것이다.&lt;/p&gt;
&lt;p&gt;이 과정에서 네트워크 장비들은 물리 계층, 데이터 링크 계층, 네트워크 계층에 해당되는 역할을 수행한다. 그 부분을 염두해두자.&lt;/p&gt;
&lt;h3&gt;LAN 통신에 이용되는 장비&lt;/h3&gt;
&lt;p&gt;리피터, 허브, 스위치는 로컬 네트워크에서의 통신 장비, 즉 사무실이나 가정 LAN에서 역할을 수행하는 장비다. 외부 네트워크와의 통신은 불가능한 상태다.&lt;/p&gt;
&lt;p&gt;리피터와 허브는 이제 거의 사용되지 않으니 그냥 이런 게 있었다 정도만 확인해두자.&lt;/p&gt;
&lt;h4&gt;리피터 Repeater&lt;/h4&gt;
&lt;img src=&quot;https://user-images.githubusercontent.com/75300807/129363220-0d7a31d6-afe0-4822-bd59-28da0f3d8435.jpg&quot; style=&quot;zoom:85%;&quot;&gt;
&lt;p&gt;리피터는 전기 신호가 노이즈에 의해 손상을 입는 경우 신호를 복원시켜주거나, 신호의 도달 범위를 늘리기 위해서 신호를 증폭시켜주는 장비다. 어떤 데이터나 경로 식별 같은 논리적 작업 없이, 말 그대로 신호를 정형하고 연장시켜주는 보조도구인 것이다. 이제는 다른 장비들도 이 기능을 지원하기 때문에 더 이상 필요가 없어졌다.&lt;/p&gt;
&lt;h4&gt;허브 Hub&lt;/h4&gt;
&lt;img src=&quot;https://user-images.githubusercontent.com/75300807/129361680-730c8711-2b6c-434d-9875-1346df6da8c5.PNG&quot; style=&quot;zoom:45%;&quot;&gt;
&lt;p&gt;허브는 동일 네트워크 내에 있는 컴퓨터들을 LAN 케이블을 통해 서로 연결하여 통신할 수 있도록 돕는 장비이다. 허브를 통해서 LAN 통신이 가능하게 되는 것이다. &lt;/p&gt;
&lt;p&gt;허브에 연결되어 있으면 1대 多 통신이 가능해진다. 그러나 허브의 통신 방식에는 문제가 있다. 어떤 컴퓨터가 LAN에 있는 특정 컴퓨터 한 대에만 데이터를 전송하려고 해도, 해당 허브에 연결된 모든 컴퓨터에 일괄적으로 데이터가 전송된다. 때문에 LAN의 모든 컴퓨터는 자신에게 온 요청이 맞는지 일일이 검증하는 과정이 필요하다. 비효율적인 통신이 발생하는 것이다.&lt;/p&gt;
&lt;h4&gt;스위치 Switch&lt;/h4&gt;
&lt;p&gt;&lt;img src=&quot;https://user-images.githubusercontent.com/75300807/129364651-8b5391e8-2c7b-45d6-9a5b-4dd14a8c220c.gif&quot; alt=&quot;network_switch&quot;&gt;&lt;/p&gt;
&lt;p&gt;허브의 문제를 보완한 것이 스위치이다. 스위치의 역할은 허브와 비슷한데, 원하는 대상에게만 데이터를 전송할 수 있게 된 것이다. 이는 MAC 주소라는 것 덕분에 가능하다. 간단히만 언급하자면..&lt;/p&gt;
&lt;p&gt;모든 랜 카드에는 고유의 MAC 주소가 지정되어 있다. 이 덕분에 출발지에서는 자신의 MAC 주소와 도착지의 MAC 주소를 데이터에 함께 담을 수 있다. 이를 물리 계층으로 전달하여 전기 신호로 변환되면 스위치로 보내진다. 스위치에는 MAC 주소 테이블이 있다. MAC 주소 테이블에 의해 MAC 주소를 등록하고, 식별할 수 있다. 따라서 목적지에 해당되는 MAC 주소를 가진 컴퓨터에게만 데이터를 전송할 수 있게 해주는 것이다.&lt;/p&gt;
&lt;p&gt;스위치가 데이터 링크 계층에 속하는 이유는 데이터에 MAC 주소가 캡슐화되는 과정이 데이터 링크 계층에서 수행되기 때문이다. 마찬가지로 역캡슐화도 데이터 링크에서 수행된다.&lt;/p&gt;
&lt;p&gt;이렇게 스위치를 사용하여 동일 네트워크에 속한 컴퓨터들이 통신할 수 있는데, 사실 더욱 중요한 건 외부 네트워크와의 통신일 것이다. 스위치는 LAN의 컴퓨터들을 연결하는 장비라고 했으니, 이제 스위치와 또 다른 스위치를 연결해줄 수 있는 역할을 수행할 장비가 필요하다.&lt;/p&gt;
&lt;h3&gt;외부 네트워크와의 통신에 이용되는 장비&lt;/h3&gt;
&lt;h4&gt;라우터 Router&lt;/h4&gt;
&lt;p&gt;&lt;img src=&quot;https://user-images.githubusercontent.com/75300807/129361620-b1b4a27a-d6d9-4ce6-8e94-c61a4443a7e1.jpg&quot; alt=&quot;router&quot;&gt;&lt;/p&gt;
&lt;p&gt;라우터는 LAN이 아닌 다른 네트워크와의 통신을 가능하게 하는 장비이다. 즉, 현재 네트워크의 라우터에서 다른 네트워크의 라우터로 데이터를 전송하게 해주는 것이다.&lt;/p&gt;
&lt;p&gt;라우터가 네트워크 계층에 속하는 이유는 IP주소 정보를 이용하여 외부 네트워크와의 연결을 가능하게 해주기 때문이다. 네트워크 계층의 캡슐화 과정에서 데이터에 IP 정보가 포함된다. 라우터에는 스위치의 MAC 주소 테이블과 비슷한 역할을 하는 ‘라우팅 테이블’이 있어서, 마찬가지로 출발지와 도착지의 IP 주소를 관리하여 통신이 필요한 두 네트워크를 연결할 수 있는 것이다. 이렇게 IP주소를 사용하여 어떤 경로를 통해 데이터를 가장 빠르게 보낼지를 결정하는 것을 ‘라우팅’이라고 한다. (라우팅에 대해서는 추후 알아보기로)&lt;/p&gt;
&lt;h3&gt;정리&lt;/h3&gt;
&lt;p&gt;마지막으로 내용을 되짚어 보면,&lt;/p&gt;
&lt;img src=&quot;https://user-images.githubusercontent.com/75300807/129347333-550a2054-d207-4fcf-a529-ae9168267bdf.png&quot; style=&quot;zoom:65%;&quot;&gt;
&lt;p&gt;7계층의 캡슐화 과정을 거쳐 물리 계층에 도달한 데이터는 PHY 칩에 의해 전기 신호로 변환된다. 전기 신호는 데이터 링크 계층의 스위치로 전송되고, 스위치는 MAC 주소 테이블을 통해 MAC 주소를 식별하여 동일한 네트워크 내에서의 통신을 가능하게 해준다.&lt;/p&gt;
&lt;p&gt;외부 네트워크와의 통신이 필요하다면 전기 신호는 라우터로 전송이 된다. 우선 MAC 주소를 식별한 뒤, 한 계층 더 들어가 IP 주소를 식별하는 네트워크 계층의 작업까지 수행이 되는 것이다. 데이터는 다시 캡슐화 과정을 거쳐서 목적지 네트워크의 라우터로 전달되어 데이터가 외부 네트워크에 송신될 수 있게 되는 것이다. &lt;/p&gt;
&lt;p&gt;즉, 스위치는 동일 네트워크에 속한 컴퓨터끼리의 통신을 중계하는 장비이고, 라우터는 외부 네트워크와의 통신을 중계하는 장비인 것이다. 실제로는 스위치와 라우터의 역할이 하나의 장비에 의해 수행되는 경우도 많다는 사실도 알아두면 좋을 것 같다.&lt;/p&gt;
&lt;h4&gt;&lt;strong&gt;이미지 출처&lt;/strong&gt;&lt;/h4&gt;
&lt;p&gt;&lt;a href=&quot;https://www.brainkart.com/article/Network-devices_36829/&quot;&gt;Network devices - computer network&lt;/a&gt;&lt;br&gt;
&lt;a href=&quot;https://www.learnabhi.com/hub/&quot;&gt;What is hub in Networking&lt;/a&gt;&lt;br&gt;
&lt;a href=&quot;http://www.yourownlinux.com/2013/07/network-switch-purpose-and-functions.html&quot;&gt;Network Switch : Purpose and Functions&lt;/a&gt;&lt;br&gt;
&lt;a href=&quot;http://what-when-how.com/data-communications-and-networking/backbone-network-components-data-communications-and-networking/&quot;&gt;Backbone network components&lt;/a&gt;  &lt;/p&gt;</content:encoded></item><item><title><![CDATA[[TIL] 함수형 프로그래밍 준비하기]]></title><description><![CDATA[자바스크립트의 함수형 프로그래밍을 이해하기 위해 사전에 알아야할 것들을 먼저 정리해보려고 한다. 일급 객체, Symbol…]]></description><link>https://42kim.github.io/TIL/func_programming_1/</link><guid isPermaLink="false">https://42kim.github.io/TIL/func_programming_1/</guid><pubDate>Wed, 11 Aug 2021 00:00:00 GMT</pubDate><content:encoded>&lt;p&gt;자바스크립트의 함수형 프로그래밍을 이해하기 위해 사전에 알아야할 것들을 먼저 정리해보려고 한다. 일급 객체, Symbol, 이터러블, 고차 함수 등을 차례로 살펴보자.&lt;/p&gt;
&lt;h3&gt;함수는 일급 객체.&lt;/h3&gt;
&lt;p&gt;자바스크립트의 함수는 일급 객체다. 이는 함수를 객체와 동일하게, ‘값’으로 사용할 수 있다는 것을 의미한다.&lt;/p&gt;
&lt;p&gt;일급 객체의 조건은 다음과 같다.&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;무명의 리터럴로 생성할 수 있다.&lt;/li&gt;
&lt;li&gt;변수나 자료구조에 저장할 수 있다.&lt;/li&gt;
&lt;li&gt;함수의 매개변수에 전달할 수 있다. = 인자로 사용될 수 있다.&lt;/li&gt;
&lt;li&gt;함수의 반환값으로 사용할 수 있다.&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;즉, 값이 사용되는 곳이라면 어디든지 함수도 사용될 수 있다는 뜻이다. (변수 할당, 객체의 프로퍼티, 배열 요소 등) 함수도 객체이지만, 일반 객체에는 없는 프로퍼티를 가지고 있기도 하다. 함수의 이름을 담고 있는 &lt;code class=&quot;language-text&quot;&gt;name&lt;/code&gt;, 인자를 담고 있는 &lt;code class=&quot;language-text&quot;&gt;arguments&lt;/code&gt;, 그리고 &lt;code class=&quot;language-text&quot;&gt;prototype&lt;/code&gt; 프로퍼티 등등.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;javascript&quot;&gt;&lt;pre class=&quot;language-javascript&quot;&gt;&lt;code class=&quot;language-javascript&quot;&gt;&lt;span class=&quot;token comment&quot;&gt;// arguments 프로퍼티의 값은 함수 내부에서만 참조할 수 있는 객체다(이터러블)&lt;/span&gt;
&lt;span class=&quot;token comment&quot;&gt;// arguments 객체를 사용하면 인자의 개수가 정해지지 않았을 때도&lt;/span&gt;
&lt;span class=&quot;token comment&quot;&gt;// 인자를 활용하는 함수를 만들 수 있다.&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;args&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    console&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;log&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;arguments: &quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; arguments&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;length&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;

console&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;log&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;args&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;		&lt;span class=&quot;token comment&quot;&gt;// arguments: 0&lt;/span&gt;
console&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;log&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;args&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;		&lt;span class=&quot;token comment&quot;&gt;// arguments: 1&lt;/span&gt;
console&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;log&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;args&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;	&lt;span class=&quot;token comment&quot;&gt;// arguments: 2&lt;/span&gt;
console&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;log&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;args&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;3&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;	&lt;span class=&quot;token comment&quot;&gt;// arguments: 3&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h4&gt;고차 함수&lt;/h4&gt;
&lt;p&gt;이러한 일급 객체로서의 함수의 성질 덕분에 고차 함수가 존재한다. 고차 함수는 함수를 인수로 전달받거나, 함수를 반환하는 (클로저를 만들어 반환하는) 함수를 말한다. 즉, 함수를 값으로 다루는 함수이다.&lt;/p&gt;
&lt;p&gt;함수가 일급 객체인 덕분에 자바스크립트를 통한 &lt;strong&gt;함수형 프로그래밍&lt;/strong&gt;이 가능해진다. &lt;/p&gt;
&lt;p&gt;자바스크립트 함수형 프로그래밍에서 중요한 이터러블, 제너레이터 등을 살펴보기에 앞서 먼저 알아둘 내용이 있다. 바로 ES6에서 자바스크립트의 7번째 데이터 타입으로 추가된 &lt;strong&gt;Symbol&lt;/strong&gt;이다.&lt;/p&gt;
&lt;h3&gt;Symbol.&lt;/h3&gt;
&lt;p&gt;심벌은 &lt;strong&gt;고유한&lt;/strong&gt; 원시 타입의 값이다. 다른 값과 절대 중복되지 않는 유일무이한 값이라는 뜻이다. 따라서 &lt;strong&gt;유일한 프로퍼티 key&lt;/strong&gt;를 만들기 위해 주로 사용한다.&lt;/p&gt;
&lt;p&gt;심벌 값을 생성하기 위해서는 Symbol 함수를 호출한다. 다른 원시 타입 값과 달리 리터럴 표기법을 통해 생성하는 것이 불가능하다. 이때 Symbol 함수를 통해 생성된 심벌 값은 다른 값과 절대 중복되지 않는 유일무이한 값이지만 그 값의 실체(?)를 확인할 수는 없다.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;javascript&quot;&gt;&lt;pre class=&quot;language-javascript&quot;&gt;&lt;code class=&quot;language-javascript&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; example &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;Symbol&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
console&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;log&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;example&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;	&lt;span class=&quot;token comment&quot;&gt;// Symbol()&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;typeof&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;example&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;		&lt;span class=&quot;token comment&quot;&gt;// &quot;symbol&quot;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;심벌은 객체가 아닌 원시 타입 값이기 때문에 &lt;code class=&quot;language-text&quot;&gt;new&lt;/code&gt;와 함께 사용하여 생성자 함수처럼 호출하면 오류가 발생한다.&lt;/p&gt;
&lt;p&gt;Symbol 함수의 인자로 문자열을 전달할 수 있지만, 이 문자열은 디버깅 용도로 생성된 심볼 값을 설명하는 데에만 사용되어진다. 실제 심벌 값이랑은 상관이 없다.&lt;/p&gt;
&lt;p&gt;객체의 프로퍼티로 심벌 값을 사용하려면 대괄호를 사용해야 한다. 접근할 때도 마찬가지다. 프로퍼티로서 사용된 심벌 값은 &lt;code class=&quot;language-text&quot;&gt;for..in&lt;/code&gt;문이나 &lt;code class=&quot;language-text&quot;&gt;Object.keys&lt;/code&gt;, &lt;code class=&quot;language-text&quot;&gt;getOwnPropertyNames&lt;/code&gt; 메서드 등을 사용하여 키 값을 순회하여 출력할 때 배제된다. 이처럼 ‘심볼형 프로퍼티 숨기기, hiding symbolic property)‘라고 불리는 원칙 덕분에 외부 스크립트나 라이브러리는 심벌 키를 가진 프로퍼티에 접근하지 못한다.&lt;/p&gt;
&lt;p&gt;ES6에서 도입된 &lt;code class=&quot;language-text&quot;&gt;getOwnPropertySymbols&lt;/code&gt; 메서드를 사용하면 심벌 값 프로퍼티를 찾을 수 있다.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;javascript&quot;&gt;&lt;pre class=&quot;language-javascript&quot;&gt;&lt;code class=&quot;language-javascript&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; obj &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;example&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;symbolValue&apos;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;

console&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;log&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;Object&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;keys&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;obj&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;	&lt;span class=&quot;token comment&quot;&gt;// []&lt;/span&gt;
console&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;log&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;Object&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;getOwnPropertySymbols&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;obj&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;	&lt;span class=&quot;token comment&quot;&gt;// &apos;symbolValue&apos;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;자바스크립트가 기본 제공하는 빌트인 심벌 값은 Symbol 함수의 프로퍼티 값으로 할당되어 있다. 이 값들을 &lt;strong&gt;Well-known Symbol&lt;/strong&gt;이라고 한다. 이터러블을 살펴보며 다룰 &lt;code class=&quot;language-text&quot;&gt;Symbol.iterator&lt;/code&gt;가 여기에 해당된다.&lt;/p&gt;
&lt;h3&gt;Iterable 그리고..&lt;/h3&gt;
&lt;p&gt;지금부터는 &lt;code class=&quot;language-text&quot;&gt;iterable&lt;/code&gt;, &lt;code class=&quot;language-text&quot;&gt;iterator&lt;/code&gt;, &lt;code class=&quot;language-text&quot;&gt;iterable protocol&lt;/code&gt;, &lt;code class=&quot;language-text&quot;&gt;iterator protocol&lt;/code&gt;, &lt;code class=&quot;language-text&quot;&gt;iterator result object&lt;/code&gt;에 대해 알아보자.&lt;/p&gt;
&lt;h4&gt;이터러블&lt;/h4&gt;
&lt;p&gt;반복 가능한 객체 이터러블은 “이터러블 프로토콜을 준수한 객체”를 가리킨다. 대표적으로는 Array, Set, Map, 문자열 등이 있다. 그렇다면 &lt;em&gt;이터러블 프로토콜&lt;/em&gt;이란 뭘까.&lt;/p&gt;
&lt;h4&gt;이터러블 프로토콜&lt;/h4&gt;
&lt;p&gt; [Symbol.iterator]를 프로퍼티 키로 사용하여 메서드를 직접 구현한 뒤, 메서드를 호출하면 ‘이터레이터 프로토콜’을 준수한 이터레이터를 반환한다. 또는 프로토타입 체인을 통해 상속받은 [Symbol.iterator]를 호출해도 마찬가지다. 이러한 규약을 이터러블 프로토콜이라고 한다. 그리고 이터러블 프토로콜을 준수한 객체를 이터러블이라고 한다.&lt;/p&gt;
&lt;p&gt;한마디로 말하자면, &lt;strong&gt;이터레이터 프로토콜을 준수하는 이터레이터를 반환하는 객체&lt;/strong&gt;가 &lt;strong&gt;이터러블&lt;/strong&gt;인 것이다. 이터러블의 특징은 다음과 같다.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code class=&quot;language-text&quot;&gt;for...of 문&lt;/code&gt;으로 순회할 수 있다.&lt;/li&gt;
&lt;li&gt;스프레드 문법의 대상으로 사용 가능&lt;/li&gt;
&lt;li&gt;디스트럭처링 할당의 대상으로 사용 가능&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;그렇다면 &lt;em&gt;이터레이터&lt;/em&gt;, &lt;em&gt;이터레이터 프로토콜&lt;/em&gt;은 또 뭔가.&lt;/p&gt;
&lt;h4&gt;이터레이터, 이터레이터 프로토콜, 이터레이터 리절트 객체&lt;/h4&gt;
&lt;p&gt;이터레이터는 &lt;code class=&quot;language-text&quot;&gt;next()&lt;/code&gt; 메서드를 가지고 있다. 이터레이터의 next 메서드를 호출하면 이터러블을 순회하며 요소 값을 담은 &lt;code class=&quot;language-text&quot;&gt;value&lt;/code&gt; 프로퍼티와 순회 완료 여부를 나타내는 &lt;code class=&quot;language-text&quot;&gt;done&lt;/code&gt; 프로퍼티를 가진 객체를 반환한다. 이 객체를 &lt;strong&gt;이터레이터 리절트 객체&lt;/strong&gt;라고 부른다. (이터레이터 리절트 객체는 이터러블의 요소 순회가 끝나면 value에는 undefined, done에는 true를 담아 반환한다)&lt;/p&gt;
&lt;p&gt;이처럼 next 메서드를 통해 이터레이터 리절트 객체를 만드는 규약을 &lt;strong&gt;이터레이터 프로토콜&lt;/strong&gt;이라고 한다. &lt;strong&gt;이터레이터&lt;/strong&gt;는 &lt;strong&gt;이터레이터 프로토콜을 준수하는 객체&lt;/strong&gt;인 것이다. &lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;javascript&quot;&gt;&lt;pre class=&quot;language-javascript&quot;&gt;&lt;code class=&quot;language-javascript&quot;&gt;&lt;span class=&quot;token comment&quot;&gt;// 배열 arr은 이터러블&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; arr &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;3&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token comment&quot;&gt;// iterator는 이터러블 arr이 Symbol.iterator 메서드를 통해 반환한 이터레이터&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; iterator &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; arr&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;Symbol&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;iterator&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token comment&quot;&gt;// 이터레이터는 next 메서드를 통해 value와 done 프로퍼티를 갖는 이터레이터 리절트 객체를 반환&lt;/span&gt;
console&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;log&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;iterator&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;next&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;	&lt;span class=&quot;token comment&quot;&gt;// {value: 1, done: false}&lt;/span&gt;
console&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;log&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;iterator&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;next&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;	&lt;span class=&quot;token comment&quot;&gt;// {value: 2, done: false}&lt;/span&gt;
console&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;log&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;iterator&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;next&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;	&lt;span class=&quot;token comment&quot;&gt;// {value: 3, done: false}&lt;/span&gt;
console&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;log&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;iterator&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;next&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;	&lt;span class=&quot;token comment&quot;&gt;// {value: undefined, done: true}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;즉,&lt;/p&gt;
&lt;p&gt;이터러블 프로토콜을 준수하는 객체인 이터러블에는 대표적으로 문자열, 배열, 맵, 셋 등이 있는데, 이들은 for…of 문으로 순회가 가능하며 스프레드 문법과 디스트럭처링 할당의 대상이 될 수 있다. 이터러블의 메서드 [Symbol.iterator]()를 호출하면, 이터레이터 프로토콜을 준수하는 이터레이터를 반환한다. 반환된 이터레이터는 next() 메서드를 사용하면 이터러블을 순회하며 value와 done 프로퍼티를 갖는 객체를 차례 차례 반환하는데, 이 객체를 이터레이터 리절트 객체라고 부르는 것이다..😭&lt;/p&gt;
&lt;p&gt;위에서 설명했듯, [Symbol.iterator]를 프로퍼티 키로 갖는 메서드를 직접 정의해도 이터러블을 생성할 수 있다. 이때  반환되는 이터레이터는 이터레이터 프로토콜을 준수하기 위해 next 메서드를 통해 이터레이터 리절트 객체를 반환해야 한다.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;javascript&quot;&gt;&lt;pre class=&quot;language-javascript&quot;&gt;&lt;code class=&quot;language-javascript&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; customIterable &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token comment&quot;&gt;// Symbol.iterator 메서드 정의&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;Symbol&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;iterator&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
        &lt;span class=&quot;token keyword&quot;&gt;let&lt;/span&gt; i &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
        &lt;span class=&quot;token comment&quot;&gt;// 이터레이터 반환&lt;/span&gt;
        &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
            &lt;span class=&quot;token comment&quot;&gt;// 이터레이터의 next 메서드 정의&lt;/span&gt;
            &lt;span class=&quot;token function&quot;&gt;next&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
                &lt;span class=&quot;token comment&quot;&gt;// 이터레이터 리절트 객체 반환&lt;/span&gt;
                &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; i &lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;3&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;?&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; done&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token boolean&quot;&gt;true&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; value&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; i&lt;span class=&quot;token operator&quot;&gt;++&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; done&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token boolean&quot;&gt;false&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
            &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
        &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h4&gt;for…of 문의 작동 원리&lt;/h4&gt;
&lt;p&gt;결국 우리가 알고 있는 일반적인 반복문 &lt;code class=&quot;language-text&quot;&gt;for(let i=0; i&amp;lt;arr.length; i++){}&lt;/code&gt; 없이 &lt;code class=&quot;language-text&quot;&gt;for...of 문&lt;/code&gt;으로 이터러블을 순회할 수 있는 이유는 이터러블에는 [Symbol.iterator] 메서드가 존재하고, 그 메서드가 반환하는 이터레이터에는 next 메서드가 있어, 이터레이터 리절트 객체를 반환하기 때문이다.&lt;/p&gt;
&lt;p&gt;반대로 [Symbol.iterator] 메서드가 없으면 이터러블이 아니고, for…of 문으로 순회할 수가 없다는 것을 의미한다. for…of 문은 내부적으로 이터레이터의 next 메서드를 호출하여 반환된 이터레이터 리절트 객체의 value 값을 변수에 할당하는 방식으로 작동하기 때문이다. (done이 true가 될 때까지)&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;javascript&quot;&gt;&lt;pre class=&quot;language-javascript&quot;&gt;&lt;code class=&quot;language-javascript&quot;&gt;&lt;span class=&quot;token comment&quot;&gt;// [Symbol.iterator] 메서드 삭제해보기&lt;/span&gt;
&lt;span class=&quot;token comment&quot;&gt;// 배열은 Array.prototype의 Symbol.iterator 메서드를 상속 받는다.&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; arr &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;3&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

arr&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;Symbol&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;iterator&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;null&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;for&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; el &lt;span class=&quot;token keyword&quot;&gt;of&lt;/span&gt; arr&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    console&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;log&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;el&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;						&lt;span class=&quot;token comment&quot;&gt;// Uncaught TypeError: arr is not iterable&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h4&gt;유사 배열 객체&lt;/h4&gt;
&lt;p&gt;이번에는 유사 배열 객체에 대해서 짚고 넘어가자. &lt;/p&gt;
&lt;p&gt;유사 배열 객체는 말 그대로 배열과 유사하지만 배열이 아닌 객체를 말한다. 유사 배열 객체의 조건으로는 프로퍼티 key로서 숫자를 가지며, &lt;code class=&quot;language-text&quot;&gt;length&lt;/code&gt; 프로퍼티를 가지고 있어야 한다. 인덱스가 존재하기 때문에 배열처럼 인덱스를 통해 값에 접근할 수 있고, length가 있기 때문에 for 문으로 순회할 수 있다.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Array.from 메서드&lt;/strong&gt;&lt;br&gt;
보통의 유사 배열 객체는 이터러블이 아니다. 따라서 for…of 문으로 순회가 불가능하다. [Symbol.iterator] 메서드가 없다는 뜻이다. 그러나 ES6에서 도입된 Array.from 메서드를 사용하면 유사 배열 객체도 배열로 변환할 수 있다.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;javascript&quot;&gt;&lt;pre class=&quot;language-javascript&quot;&gt;&lt;code class=&quot;language-javascript&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; arrLike &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;token number&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;3&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
    length&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;3&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;

console&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;log&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;Array&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;isArray&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;arrLike&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;		&lt;span class=&quot;token comment&quot;&gt;// false&lt;/span&gt;
console&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;log&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;arrLike&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;Symbol&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;iterator&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;	&lt;span class=&quot;token comment&quot;&gt;// arrLike[Symbol.iterator] is not a function&lt;/span&gt;
&lt;span class=&quot;token comment&quot;&gt;// 배열로 변환&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; arr &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; Array&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;from&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;arrayLike&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
console&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;log&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;Array&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;isArray&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;arr&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;			&lt;span class=&quot;token comment&quot;&gt;// true&lt;/span&gt;
console&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;log&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;arr&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;Symbol&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;iterator&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;		&lt;span class=&quot;token comment&quot;&gt;// Array Iterator {}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;&lt;strong&gt;유사 배열 객체 + 이터러블&lt;/strong&gt;&lt;br&gt;
대표적인 유사 배열 객체로는 &lt;code class=&quot;language-text&quot;&gt;document.querySelectorAll&lt;/code&gt;이 반환하는 &lt;code class=&quot;language-text&quot;&gt;NodeList&lt;/code&gt;, &lt;code class=&quot;language-text&quot;&gt;document.body.children&lt;/code&gt;이 반환하는 &lt;code class=&quot;language-text&quot;&gt;HTMLCollection&lt;/code&gt; 같은 DOM Collection 그리고 함수의 &lt;code class=&quot;language-text&quot;&gt;arguments&lt;/code&gt; 객체 등이 있다. 그러나 이 유사 배열 객체들은 유사 배열 객체이면서 동시에 이터러블인 특수한 경우다. 따라서 인덱스로 접근할 수 있으면서도 for…of 문으로 순회가 가능하다는 점을 기억하자.&lt;/p&gt;
&lt;h4&gt;스프레드 문법&lt;/h4&gt;
&lt;p&gt;스프레드 문법은  ES6에서 도입되었다. 이터러블은 스프레드 문법의 대상이 될 수 있다고 했다. &lt;/p&gt;
&lt;p&gt;스프레드 문법은 값들이 들어있는 집합을 전개하여 개별적인 값의 목록으로 바꿔준다. 단, 스프레드 문법에 의해 전개된 결과물을 변수에 할당하는 등 값처럼 사용할 수가 없다는 점을 기억하자. 스프레드 문법의 결과는 ‘값’이 아닌 ‘목록’이기 때문이다.&lt;/p&gt;
&lt;p&gt;스프레드 문법은 다음과 같이 &lt;strong&gt;“쉼표로 구분한 값의 목록”&lt;/strong&gt;이 사용되는 맥락에서 사용될 수 있다.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;1. 함수 호출문의 인수&lt;/strong&gt;&lt;br&gt;
&lt;code class=&quot;language-text&quot;&gt;Math.max()&lt;/code&gt; 같은 메서드는 인수로 여러 개의 숫자를 필요로 한다. 이때 인수는 배열의 형태로 전달되어서는 안 된다. 따라서 배열의 요소들을 전개시켜주는 스프레드 문법을 사용하면 효율적이다.&lt;/p&gt;
&lt;p&gt;🚨 &lt;strong&gt;Rest 파라미터&lt;/strong&gt;&lt;br&gt;
…을 사용하는 스프레드 문법은 Rest 파라미터와 사용 형태가 동일하다. 그러나 서로 반대되는 개념이기 때문에 주의해야 한다. Rest 파라미터는 함수에 전달된 인수들의 목록을 ‘배열로’ 변환시킨다. 반면 스프레드 문법은 ‘배열을’ 인수들의 목록으로 변환한다.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;javascript&quot;&gt;&lt;pre class=&quot;language-javascript&quot;&gt;&lt;code class=&quot;language-javascript&quot;&gt;&lt;span class=&quot;token comment&quot;&gt;// Rest 파라미터&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;restParams&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;&lt;span class=&quot;token operator&quot;&gt;...&lt;/span&gt;rest&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    console&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;log&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;rest&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
console&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;log&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;restParams&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;3&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;	&lt;span class=&quot;token comment&quot;&gt;// [1, 2, 3]&lt;/span&gt;

&lt;span class=&quot;token comment&quot;&gt;// 스프레드 문법&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; arr &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;3&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
console&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;log&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;...&lt;/span&gt;arr&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;	&lt;span class=&quot;token comment&quot;&gt;// 1 2 3&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;&lt;strong&gt;2. 배열 리터럴의 요소&lt;/strong&gt;&lt;br&gt;
기존에는 두 개의 배열을 하나의 배열로 합치기 위해 &lt;code class=&quot;language-text&quot;&gt;concat&lt;/code&gt;과 같은 메서드를 사용해야 했다. 그러나 스프레드 문법을 사용하면 메서드 없이 두 배열을 하나로 합칠 수 있다. &lt;code class=&quot;language-text&quot;&gt;splice&lt;/code&gt;를 사용하여 배열을 배열의 요소로서 추가하거나, &lt;code class=&quot;language-text&quot;&gt;slice&lt;/code&gt;를 사용해 원본 배열을 복사할 때도 스프레드 문법이 유용하다.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;javascript&quot;&gt;&lt;pre class=&quot;language-javascript&quot;&gt;&lt;code class=&quot;language-javascript&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; arr1 &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; arr2 &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;3&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;4&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token comment&quot;&gt;// 합치기&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; arr3 &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;...&lt;/span&gt;arr1&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;...&lt;/span&gt;arr2&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
console&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;log&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;arr3&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;	&lt;span class=&quot;token comment&quot;&gt;// [1, 2, 3, 4]&lt;/span&gt;
&lt;span class=&quot;token comment&quot;&gt;// 추가하기&lt;/span&gt;
arr1&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;splice&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;...&lt;/span&gt;arr2&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
console&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;log&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;arr1&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;	&lt;span class=&quot;token comment&quot;&gt;// [1, 2, 3, 4]&lt;/span&gt;
&lt;span class=&quot;token comment&quot;&gt;// 복사하기&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; arr4 &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;...&lt;/span&gt;arr3&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
console&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;log&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;arr4&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;	&lt;span class=&quot;token comment&quot;&gt;// [1, 2, 3, 4]&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;💡 이밖에 이터러블인 유사 배열 객체를 배열로 변환할 때도 스프레드 문법을 사용하면 편리하다.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;3. 객체 리터럴의 프로퍼티&lt;/strong&gt;&lt;br&gt;
‘스프레드 프로퍼티’는 현재 ECMAScript 표준에 제안된 (stage4) 상태다. 객체 리터럴의 프로퍼티 목록에 대해서도 스프레드 문법을 사용할 수 있다는 내용이다. 원래 스프레드 문법의 대상은 이터러블이어야하지만, 스프레드 프로퍼티는 일반 객체를 대상으로도 사용할 수 있다. &lt;code class=&quot;language-text&quot;&gt;Object.assgin&lt;/code&gt; 메서드를 대체할 수 있다.&lt;/p&gt;
&lt;h4&gt;디스트럭처링 할당&lt;/h4&gt;
&lt;p&gt;스프레드 프로퍼티와 더불어 디스트럭처링 할당의 대상도 이터러블과 객체 리터럴이다. 디스트럭처링 할당은 배열과 같은 이터러블 또는 객체의 구조를 파괴하여 변수에 개별적으로 할당하는 것을 말한다. 객체에서 필요한 값만 추출할 때 유용하게 사용할 수 있다.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;배열 디스트럭처링 할당&lt;/strong&gt;&lt;br&gt;
배열 디스트럭처링 할당의 좌변은 변수, 우변은 이터러블이어야 한다. 배열 인덱스의 순서를 따라 차례대로 할당된다. 변수의 개수와 배열 요소의 개수가 일치하지 않아도 상관없다. 변수의 개수만큼만 할당되며, 변수가 더 많은 경우 할당되지 않은 변수의 값은 undefined이다. 좌변의 변수는 배열 리터럴 형태여야 한다.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;javascript&quot;&gt;&lt;pre class=&quot;language-javascript&quot;&gt;&lt;code class=&quot;language-javascript&quot;&gt;&lt;span class=&quot;token comment&quot;&gt;// 변수의 기본값을 설정할 수도 있다.&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;a&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; b&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; c&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;3&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
console&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;log&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;a&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; c&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;	&lt;span class=&quot;token comment&quot;&gt;// 1 1 3&lt;/span&gt;
&lt;span class=&quot;token comment&quot;&gt;// 기본값이 설정된 변수에 새로운 값이 할당되면 덮어씌워진다.&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;d&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; e&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; f&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;4&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;5&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;6&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
console&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;log&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;d&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; e&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; f&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;	&lt;span class=&quot;token comment&quot;&gt;// 4, 0, 6&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;&lt;strong&gt;객체 디스트럭처링 할당&lt;/strong&gt;  ㅈ
객체 디스트럭처링 할당을 위해서는 객체의 프로퍼티 키를 사용해야 한다. 인덱스를 기준으로 할당하던 배열 디스트럭처링과는 달리, 객체 디스트럭처링 할당은 일치하는 프로퍼티 키가 없으면 변수에 값이 할당되지 않는다. 배열과 마찬가지로 좌변의 변수는 객체 리터럴 형태여야 하며, 우변은 객체로 평가될 수 있는 표현식이어야 한다.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;javascript&quot;&gt;&lt;pre class=&quot;language-javascript&quot;&gt;&lt;code class=&quot;language-javascript&quot;&gt;&lt;span class=&quot;token comment&quot;&gt;// 배열과 마찬가지로 기본값을 설정할 수 있다.&lt;/span&gt;
&lt;span class=&quot;token comment&quot;&gt;// 객체 프로퍼티 키와 다른 이름의 변수에 할당할 수도 있다.&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; user &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; name&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;Kim&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; age&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;20&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; name&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; age&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; old &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; user&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
console&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;log&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;name&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; old&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;	&lt;span class=&quot;token comment&quot;&gt;// Kim 20&lt;/span&gt;
&lt;span class=&quot;token comment&quot;&gt;// 함수의 매개변수에도 사용 가능하다.&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;introduce&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; name&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; age &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    console&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;log&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token template-string&quot;&gt;&lt;span class=&quot;token template-punctuation string&quot;&gt;`&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;I am &lt;/span&gt;&lt;span class=&quot;token interpolation&quot;&gt;&lt;span class=&quot;token interpolation-punctuation punctuation&quot;&gt;${&lt;/span&gt;name&lt;span class=&quot;token interpolation-punctuation punctuation&quot;&gt;}&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;, &lt;/span&gt;&lt;span class=&quot;token interpolation&quot;&gt;&lt;span class=&quot;token interpolation-punctuation punctuation&quot;&gt;${&lt;/span&gt;age&lt;span class=&quot;token interpolation-punctuation punctuation&quot;&gt;}&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt; years old.&lt;/span&gt;&lt;span class=&quot;token template-punctuation string&quot;&gt;`&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token function&quot;&gt;introduce&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;user&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;	&lt;span class=&quot;token comment&quot;&gt;// I am Kim, 20 years old.&lt;/span&gt;
&lt;span class=&quot;token comment&quot;&gt;// 중첩 객체에도 사용할 수 있다.&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; person &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    name&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;Kim&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
    info&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
        age&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;20&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
        job&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;student&quot;&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; name&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; info&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; job &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; person&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
console&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;log&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;name&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; job&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;	&lt;span class=&quot;token comment&quot;&gt;// Kim student&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h3&gt;제너레이터&lt;/h3&gt;
&lt;p&gt;ES6에서 도입된 제너레이터는 코드 블록의 실행을 일시 중지했다가 필요할 때 재개할 수 있다. 한 번에 하나의 값만을 반환하는 일반 함수와는 달리, 제너레이터는 여러 개의 값을 필요에 따라 반환(&lt;strong&gt;yield&lt;/strong&gt;)할 수 있다. &lt;/p&gt;
&lt;p&gt;호출하면 코드 블록을 실행하는 일반 함수와는 달리, 제너레이터를 호출하면 제너레이터 객체를 반환한다. 제너레이터 객체는 &lt;strong&gt;이터러블인 이터레이터&lt;/strong&gt;이다. 따라서 next() 메서드를 호출하면 제너레이터 함수 내부의 &lt;code class=&quot;language-text&quot;&gt;yield&lt;/code&gt; 표현식까지 코드를 실행하고, yield된 값을 이터레이터 리절트 객체의 &lt;code class=&quot;language-text&quot;&gt;value&lt;/code&gt; 값으로 반환한다.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;javascript&quot;&gt;&lt;pre class=&quot;language-javascript&quot;&gt;&lt;code class=&quot;language-javascript&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;gen&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;yield&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;yield&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;yield&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;3&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;

&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; generator &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;gen&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
console&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;log&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;generator&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;			&lt;span class=&quot;token comment&quot;&gt;// gen {&amp;lt;suspended&gt;}&lt;/span&gt;
console&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;log&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;generator&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;next&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;	&lt;span class=&quot;token comment&quot;&gt;// {value: 1, done: false}&lt;/span&gt;
console&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;log&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;generator&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;next&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;	&lt;span class=&quot;token comment&quot;&gt;// {value: 2, done: false}&lt;/span&gt;
console&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;log&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;generator&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;next&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;	&lt;span class=&quot;token comment&quot;&gt;// {value: 3, done: false}&lt;/span&gt;
console&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;log&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;generator&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;next&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;	&lt;span class=&quot;token comment&quot;&gt;// {value: undefined, done: true}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;호출하면 이터레이터를 반환하는 제너레이터의 특성은 함수형 프로그래밍의 지연 평가와 관계가 깊다. 앞으로 더 깊게 알아보자.&lt;/p&gt;
&lt;p&gt;본격적으로 함수형 프로그래밍에 대해 공부하기 전에 기본적으로 알아둬야 할 내용들에 대해 간략하게 (하지만 모아놓으니 많은..) 정리해보았다.  &lt;/p&gt;
&lt;p&gt;여기까지 공부할 때는 뒤에 닥칠 진짜 시련을 미처 예상하지 못했지.&lt;/p&gt;</content:encoded></item><item><title><![CDATA[브라우저 렌더링 (Browser Rendering)]]></title><description><![CDATA[Browser. 브라우저의 주요한 역할은 사용자가 서버에 특정 리소스를 요청하였을 때 서버가 응답해준 리소스를 화면에 표시해주는 것이다. 서버가 넘겨준 HTML, CSS, JavaScript…]]></description><link>https://42kim.github.io/TIL/browser_rendering/</link><guid isPermaLink="false">https://42kim.github.io/TIL/browser_rendering/</guid><pubDate>Sun, 08 Aug 2021 00:00:00 GMT</pubDate><content:encoded>&lt;h3&gt;Browser.&lt;/h3&gt;
&lt;p&gt;브라우저의 주요한 역할은 사용자가 서버에 특정 리소스를 요청하였을 때 서버가 응답해준 리소스를 화면에 표시해주는 것이다. 서버가 넘겨준 HTML, CSS, JavaScript 파일을 브라우저가 어떤 과정을 거쳐서 시각적으로 그려내는 지에 대해서 알아보자.&lt;/p&gt;
&lt;p&gt;그 전에 브라우저를 구성하는 요소들에 대해 간략히 살펴보면 다음과 같다.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;사용자 인터페이스&lt;br&gt;
주소 표시줄, 이전/다음 버튼, 북마크 등등 뷰포트를 제외한 나머지 부분을 가리킨다.&lt;/li&gt;
&lt;li&gt;브라우저 엔진&lt;br&gt;
사용자 인터페이스와 렌더링 엔진 사이의 동작을 제어하는 역할. URL을 로드 하거나 새로고침, 뒤로가기 등을 실행하는 메서드를 제공한다.&lt;/li&gt;
&lt;li&gt;통신&lt;br&gt;
HTTP, FTP 등 브라우저 내부 계층에서 이루어지는 통신&lt;/li&gt;
&lt;li&gt;자바스크립트 해석기&lt;br&gt;
자바스크립트 코드를 해석하고 실행하는 역할. 크롬의 V8.&lt;/li&gt;
&lt;li&gt;UI 백엔드&lt;br&gt;
select box, input box 등과 같은 기본 위젯을 그리는 역할. OS의 사용자 인터페이스 체계를 이용한다. &lt;/li&gt;
&lt;li&gt;자료 저장소&lt;br&gt;
쿠키, 로컬 스토리지, IndexedDB 등 브라우저 내에서 자료가 저장되는 영역.&lt;/li&gt;
&lt;li&gt;그리고 &lt;strong&gt;‘렌더링 엔진’&lt;/strong&gt;이 있다.&lt;br&gt;
사용자가 요청한 리소스를 파싱하여 화면에 표시해주는 역할을 담당하는, 이 글의 주제와 가장 관련 깊은 부분이다.&lt;/li&gt;
&lt;/ul&gt;
&lt;img src=&quot;https://user-images.githubusercontent.com/75300807/128510906-105bd8d6-2b7c-4747-8e2a-4b9e9fc61436.png&quot; alt=&quot;렌더링 엔진-50px&quot; style=&quot;zoom:50%;&quot;&gt;  
&lt;p&gt;(파이어폭스의 Gecko, 사파리의 Webkit, 크롬의 Blink 등이 렌더링 엔진이다)&lt;/p&gt;
&lt;h3&gt;렌더링 엔진의 동작 원리.&lt;/h3&gt;
&lt;p&gt;브라우저가 서버에 요청을 보낸다. 서버는 브라우저가 요청을 보낸 HTML 파일을 읽어 들여 메모리에 저장한 다음, 메모리에 저장된 바이트(2진수)를 응답한다.&lt;/p&gt;
&lt;p&gt;응답된 2진수 형태의 HTML 문서는 meta 태그의 charset 어트리뷰트에 의해 지정된 인코딩 방식(UTF-8)을 기준으로 브라우저가 문자열로 변환한다. 이때 meta 태그의 인코딩 방식은 응답 header의 content-type에 담겨 전달된다.&lt;/p&gt;
&lt;p&gt;이제 본격적인 렌더링 과정이 수행된다.&lt;/p&gt;
&lt;h4&gt;Critical Rendering Path. 중요 렌더링 경로&lt;/h4&gt;
&lt;p&gt;렌더링 엔진의 동작은 크게 4단계로 구분할 수 있다. &lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;파싱(을 통한 DOM Tree 구축)&lt;/li&gt;
&lt;li&gt;Render Tree 구축&lt;/li&gt;
&lt;li&gt;Render Tree 배치&lt;/li&gt;
&lt;li&gt;REnder Tree 그리기&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;이 과정을 Critical Rendering Path라고 부른다.&lt;/p&gt;
&lt;h4&gt;1. 파싱&lt;/h4&gt;
&lt;p&gt;파싱을 통해 개발자가 작성한 HTML 마크업을 ‘브라우저가 이해할 수 있는 객체 구조’로 변환하는데 그것이 바로 &lt;strong&gt;DOM, Document Object Model&lt;/strong&gt;이다. DOM은 HTML 마크업이 각각의 노드로 변환된 트리 자료구조를 뜻한다.&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://poiemaweb.com/img/HTMLElement.png&quot; alt=&quot;DOM tree&quot;&gt;&lt;/p&gt;
&lt;p&gt;각각의 element, attribute, text 심지어 주석까지, HTML 파일 안에 작성된 문자열이 노드로 변환된다.&lt;/p&gt;
&lt;p&gt;이제 화면에 표시될 콘텐츠들이 브라우저가 이해할 수 있는 형태로 변환됐으니 이를 ‘어떻게’ 보여줄지에 대한 시각 정보가 필요하다.&lt;/p&gt;
&lt;p&gt;이를 위해 브라우저는 HTML 파일을 읽어 내려가다가 CSS 파일을 참조하는 &amp;#x3C;link&gt;나 &amp;#x3C;style&gt;태그를 만나면, HTML을 파싱한 것과 마찬가지로 CSS 파싱을 시작한다. DOM을 생성했듯, CCS를 파싱하여 생성한 객체 모델을 CSSOM, CSS Object Model이라고 한다.&lt;/p&gt;
&lt;h4&gt;2. 렌더 트리 구축&lt;/h4&gt;
&lt;p&gt;이제 브라우저가 화면에 표시할 콘텐츠인 DOM과 스타일 정보인 CSSOM이 각각 생성되었다.  다음 단계로는 화면을 그리기 위해 어떤 콘텐츠에 어떤 스타일이 적용되어야 하는지를 알아야 할 것이다. 이를 위해 DOM 트리와 CSSOM 트리가 순서에 맞게 결합되어 렌더 트리를 형성한다.&lt;/p&gt;
&lt;img src=&quot;https://developers.google.com/web/fundamentals/performance/critical-rendering-path/images/render-tree-construction.png?hl=ko&quot; alt=&quot;렌더 트리&quot; style=&quot;zoom: 60%;&quot;&gt;
&lt;p&gt;이때, 렌더 트리에는 레이아웃에서 공간을 차지하지 않는 요소들은 포함되지 않는다. &amp;#x3C;meta&gt;태그, &amp;#x3C;script&gt;태그, 그리고 display: none 인 요소 등이 이에 해당된다.&lt;/p&gt;
&lt;p&gt;반면 visibility가 hidden인 요소들은 화면에 보이지 않지만 레이아웃에서는 공간을 차지하기 때문에 렌더 트리에 포함이 된다.&lt;/p&gt;
&lt;h4&gt;3. 렌더 트리 배치&lt;/h4&gt;
&lt;p&gt;이제 어떤 콘텐츠에 어떤 스타일이 적용되는지를 알았으니, 화면의 어떤 위치에 어떤 크기로 콘텐츠를 그려줄지를 계산하는 과정이 필요하다. 이 과정을 &lt;strong&gt;레이아웃&lt;/strong&gt; 또는 &lt;strong&gt;리플로우&lt;/strong&gt;라고 한다.&lt;/p&gt;
&lt;p&gt;CSS에서 사용된 &lt;code class=&quot;language-text&quot;&gt;width: 100%&lt;/code&gt;, &lt;code class=&quot;language-text&quot;&gt;1.2em&lt;/code&gt;, &lt;code class=&quot;language-text&quot;&gt;100vh&lt;/code&gt; 같은 상대적 단위를 px 값으로 계산하는 과정이 여기에 포함된다.&lt;/p&gt;
&lt;h4&gt;4. 렌더 트리 그리기&lt;/h4&gt;
&lt;p&gt;레이아웃 계산이 끝나면, 브라우저는 Paint 이벤트를 발생시켜 렌더 트리를 화면의 픽셀로 변환하여 사용자의 뷰포트에 그려준다. &lt;/p&gt;
&lt;p&gt;이렇게 브라우저의 렌더링 단계인 Critical Rendering Path에 대해서 간략히 알아봤다. 작동 과정을 알게 되었으니 이제 요소에 변화가 생길 때마다 렌더링 과정에서 어떤 일이 발생하는지에 대해서 고려해볼 수 있을 것이다.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;repaint&lt;/p&gt;
&lt;p&gt;예를 들어 요소의 위치나 크기는 그대로인데, 버튼 클릭에 따라 배경 색만 바뀌는 상황이 발생한다면 마지막 단계인 페인팅 과정만 다시 수행하면 된다.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;reflow + repaint&lt;/p&gt;
&lt;p&gt;브라우저 창의 크기가 바뀌거나, 요소의 크기가 조작되거나, 새로운 요소가 생성되거나 하는 경우는 요소들의 위치와 크기 값도 다시 계산해야 하고, 계산이 반영된 내용을 화면에 다시 그려야한다. 리플로우는 비용이 큰 작업이니 최소화 하는 것이 효율적이다.&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;이런 부분을 염두해둔다면 CSS를 사용할 때 렌더링 비용이 적게 드는 방법을 고를 수 있는 근거를 마련할 수 있을 것이다. (ex. &lt;code class=&quot;language-text&quot;&gt;fixed&lt;/code&gt;는 다른 요소들의 관계에 영향을 받지 않으니 리플로우의 대상이 아니다)&lt;/p&gt;
&lt;h3&gt;HTML 속의 CSS와 JavaScript&lt;/h3&gt;
&lt;h4&gt;점진적 렌더링&lt;/h4&gt;
&lt;p&gt;렌더링 엔진은 사용자 경험을 향상시키기 위해 가능하면 화면에 내용을 빠르게 표시하고자 한다. 이를 위해 모든 HTML이 파싱될 때까지 기다리지 않고, 파싱이 완료된 것부터 배치와 그리기 과정을 수행한다. 이를 점진적 렌더링이라고 한다.&lt;/p&gt;
&lt;h4&gt;CSS&lt;/h4&gt;
&lt;p&gt;그러나 CSS는 이것이 불가능하다. CSS는 규칙을 덮어쓸 수 있기 때문에 파싱된 부분을 먼저 렌더링하기 시작했다가 이를 변경하는 스타일이 추후에 등장한다면 문제가 될 것이기 때문이다.&lt;/p&gt;
&lt;p&gt;따라서 렌더링 엔진은 HTML을 파싱하다가 CSS를 만나면 처리가 다 끝날 때까지 모든 콘텐츠의 렌더링을 일시적으로 ‘중단’한다. 그렇기 때문에 CSS를 참조하는 &amp;#x3C;link&gt; 태그가 &amp;#x3C;head&gt;에 포함된다. 만약 &amp;#x3C;body&gt; 중간에 CSS가 있다면, 점진적 렌더링을 중단시킬 것이기 때문이다.&lt;/p&gt;
&lt;h4&gt;JavaScript&lt;/h4&gt;
&lt;p&gt;자바스크립트 엔진은 자바스크립트 코드를 CPU가 이해할 수 있는 low-level-language로 변환하고 실행하는 역할을 담당한다. DOM과 CSSOM 처럼 자바스크립트 엔진은 자바스크립트를 해석하여 추상적 구문 트리 AST (Abstract Syntax Tree)를 생성한다. 그리고 AST를 기반으로 &lt;a href=&quot;https://ko.wikipedia.org/wiki/%EB%B0%94%EC%9D%B4%ED%8A%B8%EC%BD%94%EB%93%9C&quot;&gt;바이트코드&lt;/a&gt;를 생성하여 실행한다.&lt;/p&gt;
&lt;p&gt;렌더링 엔진이 HTML 파싱 중에 &amp;#x3C;script&gt; 태그를 만나는 경우에는 스크립트가 실행 종료될 때까지 DOM 생성이 일시 중지된다. 이는 렌더링 엔진의 제어권한이 자바스크립트 엔진으로 넘어가기 때문이다.&lt;/p&gt;
&lt;p&gt;그렇기 때문에 자바스크립트 파일을 &amp;#x3C;body&gt; 태그의 가장 하단에 배치한다. 자바스크립트를 통해서 DOM 요소를 조작하려고 하는데 만약 해당 요소가 &amp;#x3C;/script&gt; 이후에 위치하고 있다면, 스크립트 실행 시점에 아직 파싱되지 않은 상태라는 뜻이다. 따라서 존재하지 않는 요소를 조작하려고 시도하여 원치 않는 결과가 발생한다.&lt;/p&gt;
&lt;p&gt;또한 자바스크립트로 CSS를 조작해야 하는 경우도 있다. 따라서 스크립트가 실행되는 시점에 CSSOM 생성이 완료되지 않았다면 스크립트는 실행되지 않고, CSSOM 완료가 될 때까지 ‘대기’한다. &lt;/p&gt;
&lt;p&gt;HTML5에서는 즉각적인 스크립트 태그의 실행이 야기하는 문제를 해결하기 위해 HTML 파싱과 자바스크립트 파일 로드를 비동기적으로 처리하도록 돕는 &lt;code class=&quot;language-text&quot;&gt;async&lt;/code&gt;와 &lt;code class=&quot;language-text&quot;&gt;defer&lt;/code&gt;가 도입되었다. &lt;a href=&quot;https://ko.javascript.info/script-async-defer&quot;&gt;👉링크&lt;/a&gt;&lt;/p&gt;
&lt;h3&gt;렌더링 과정과 관련된 유용한 기능.&lt;/h3&gt;
&lt;p&gt;브라우저의 렌더링과 관련된 정보들을 확인해볼 수 있는 몇 가지 방법을 찾아봤다.&lt;/p&gt;
&lt;h4&gt;csstriggers.com&lt;/h4&gt;
&lt;img src=&quot;https://user-images.githubusercontent.com/75300807/128514534-00ebbfde-8c6b-4c50-a452-2617d0153d3d.PNG&quot; alt=&quot;csstriggers&quot; style=&quot;zoom: 48%;&quot;&gt;
&lt;p&gt;&lt;a href=&quot;https://csstriggers.com/&quot;&gt;이곳&lt;/a&gt;에서는 특정 CSS를 수정하면 각 브라우저의 엔진별로 어떤 렌더링 과정을 다시 수행해야하는지를 알려준다.&lt;/p&gt;
&lt;h4&gt;크롬 개발자 도구&lt;/h4&gt;
&lt;p&gt;크롬 개발자 도구의 기능들을 잘 활용한다면, 웹페이지의 렌더링 성능과 효율성에 관한 다양한 정보를 얻을 수 있다.&lt;/p&gt;
&lt;img src=&quot;https://user-images.githubusercontent.com/75300807/128514950-52cc8aaf-b276-428f-8a91-2908c94e2cb7.PNG&quot; alt=&quot;network&quot; style=&quot;zoom: 69%;&quot;&gt;
&lt;p&gt;[개발자 도구] - [Performance] 탭의 Record 기능을 활용하면, 녹화된 시간 동안 브라우저에서 발생한 이벤트, 렌더링 단계를 각 프레임 별로 확인할 수 있다.&lt;/p&gt;
&lt;img src=&quot;https://user-images.githubusercontent.com/75300807/128519046-6586e6da-8d48-4b04-ab5f-124f263d72f4.PNG&quot; alt=&quot;콘솔&quot; style=&quot;zoom: 68%;&quot;&gt;
&lt;p&gt;또한 [console drawer] - [Rendering]의 Paint flashing 기능을 사용하면, 페이지에서 리페인트 해야하는 영역을 실시간으로 표시해주기도 한다. &lt;/p&gt;
&lt;p&gt;이밖에도 DOMContentLoaded 시간을 통해 DOM이 생성되는 데에 걸린 시간 등을 체크해볼 수도 있다.&lt;/p&gt;
&lt;h4&gt;더하여.&lt;/h4&gt;
&lt;p&gt;모던 브라우저에서 CSS나 애니메이션의 렌더링 과정에 대해 더욱 깊게 이해하기 위해서는 레이아웃 단계 이후에 등장하는 ‘Layer Model’ 개념에 대해서 자세히 공부해보면 좋을 것 같다. &lt;/p&gt;
&lt;h4&gt;참고&lt;/h4&gt;
&lt;p&gt;&lt;a href=&quot;https://www.html5rocks.com/en/tutorials/internals/howbrowserswork/&quot;&gt;How Browsers Work: Behind the scenes of modern web browsers&lt;/a&gt;&lt;br&gt;
&lt;a href=&quot;https://d2.naver.com/helloworld/59361&quot;&gt;브라우저는 어떻게 동작하는가?&lt;/a&gt;&lt;br&gt;
&lt;a href=&quot;https://developers.google.com/web/fundamentals/performance/critical-rendering-path?hl=ko&quot;&gt;Critical Rendering Path&lt;/a&gt;&lt;br&gt;
&lt;a href=&quot;https://sculove.github.io/slides/improveBrowserRendering/#/&quot;&gt;FrontEnd 개발자가 수행하는 성능 개선 작업&lt;/a&gt;&lt;br&gt;
&lt;a href=&quot;https://www.html5rocks.com/ko/tutorials/speed/layers/&quot;&gt;Accelerated Rendering in Chrome&lt;/a&gt;&lt;br&gt;
&lt;a href=&quot;https://poiemaweb.com/js-dom&quot;&gt;문서 객체 모델&lt;/a&gt;&lt;br&gt;
&lt;a href=&quot;https://webclub.tistory.com/346&quot;&gt;Reflow or Repaint(or ReDraw)과정 설명 및 최적화 방법&lt;/a&gt;&lt;br&gt;
&lt;a href=&quot;https://12bme.tistory.com/140&quot;&gt;[자바스크립트] 브라우저 렌더링&lt;/a&gt;  &lt;/p&gt;
&lt;p&gt;&lt;strong&gt;이미지 출처&lt;/strong&gt;&lt;br&gt;
&lt;a href=&quot;https://medium.com/@jonbiro/browser-engines-chromium-v8-blink-gecko-webkit-98d6b0490968&quot;&gt;브라우저 렌더링 엔진&lt;/a&gt;&lt;br&gt;
&lt;a href=&quot;https://poiemaweb.com/&quot;&gt;DOM Nodes&lt;/a&gt;&lt;br&gt;
&lt;a href=&quot;https://developers.google.com/web/fundamentals/performance/critical-rendering-path/&quot;&gt;Render Tree&lt;/a&gt;  &lt;/p&gt;</content:encoded></item><item><title><![CDATA[프로그래머스 데브 코스 1주차 후기]]></title><description><![CDATA[정말 큰 마음을 먹고 결심한 일이었다. 최근 10년, 아니 20년을 돌아봐도 이번 만큼 뜬금 없는 결정을 내린 적이 없었던 것 같다. Anti…]]></description><link>https://42kim.github.io/etc/W1/</link><guid isPermaLink="false">https://42kim.github.io/etc/W1/</guid><pubDate>Sat, 07 Aug 2021 00:00:00 GMT</pubDate><content:encoded>&lt;p&gt;정말 큰 마음을 먹고 결심한 일이었다. 최근 10년, 아니 20년을 돌아봐도 이번 만큼 뜬금 없는 결정을 내린 적이 없었던 것 같다. Anti-이공계를 부르짖으며 평생을 살아온 내가 지난 몇 년간 일련의 사건들을 겪고 나서 내린 결정이 개발을 배우겠다는 것이었으니. &lt;/p&gt;
&lt;p&gt;작년까지만 해도 나의 프로그래밍 경험은 나원이와 비슷했다. (나원이는 올해 두 살이 된 조카 이름이다) 아무 것도 몰랐다는 얘기다. 올초 서점에 가서 제일 두꺼운 자바스크립트 책 한 권을 샀고, 방구석에 처박혀서 구글과 유튜브를 통해 개발 신생아로서 상반기를 보냈다.&lt;/p&gt;
&lt;p&gt;혼자서는 더 이상 안된다는 생각이 들었다. 효율성 측면에서도 사회성 측면에서도. 최소한의 코테, 최소한의 자바스크립트, 최소한의 프로그래밍 지식과 경험만을 가지고 어쩌다 알게 된 부트캠프형 교육 코스에 지원했다. 운 좋게도 2021년 하반기는 데브 코스로 시작하게 되었다.&lt;/p&gt;
&lt;p&gt;엊그제 OT를 한 것 같은데 일주일이 정신 없이 지나갔다. 열심히 살아보겠다고 다짐했던 2021년이었건만, 가슴에 손을 얹고 생각해보면 올해 들어 이번 주 만큼 바쁘게 살았던 때가 없었다. 하루가 이렇게 짧았나. 지난 6개월을 반성하게 된다. 몇 가지 중구난방으로 느낀 점들을 기록으로 남기고자 한다.&lt;/p&gt;
&lt;h4&gt;TIL 그리고 WIF&lt;/h4&gt;
&lt;p&gt;Today I Learned를 적는 것이 본래의 의도였겠지만 Weekly I Felt가 되어버렸다. 여기엔 이유가 있다. 아직 학습의 ‘정도’를 설정에 있어서 적합한 기준을 마련하지 못했기 때문이다. &lt;/p&gt;
&lt;p&gt;TIL이란 무엇인가에 대한 설명을 들어보니 그날 학습한 내용의 요약 정리에 가까운 것 같다. 무언가를 요약한다는 것은 원래의 (방대한) 내용을 충분히 학습하고 이해한 뒤에 간추린 핵심 내용이어야 한다. 충분한 학습이 없는 요약은 그냥 적게 대충 공부하는 것일 뿐이니까. 내가 이미 잘 알고 있는 경우는 복습 차원에서 슬쩍 훑고 넘어갈 수는 있겠지만, 문제는 여기서 발생한다. &lt;/p&gt;
&lt;p&gt;내가 아는 게 없다. 오늘 강의에 새로운 내용이 10개 나왔다고 치자. 어차피 내가 그 내용들 중 완벽하게 알고있는 것이 있을 가능성은 없다. 처음 들어보거나 잘 알지 못하는 것이 대다수다. 10개를 다 공부하기엔 절대적인 시간이 턱없이 부족하다. 그렇다고 짧게 정리하고 넘어가기엔 내게 쌓이는 지식이 없다. 그 둘 사이의 적당한 균형점을 찾아야 5개월을 효율적으로 사용할 수 있을 것 같은데 첫 주는 실패다. 8월에는 내게 가장 효율적인 학습 페이스를 설정하고, 적합한 TIL 작성 방향을 찾는 것이 목표다.&lt;/p&gt;
&lt;h4&gt;소속감&lt;/h4&gt;
&lt;p&gt;어딘가에 소속감을 가진 지 정말 오래됐다. 학교를 10년만에 졸업했지만 실질적인 학교생활은 이미 몇 년 전에 끝났다. 여긴 120 + @명의 사람들이 비슷한 목표를 가지고 모여있다. 아직 이름도 얼굴도 거의 알지 못하고, 5개월 뒤에 어느 정도로 가까워질 지도 모르겠지만 어딘가에 속하게 되었다는 사실은 많은 것을 달라지게 만든다. &lt;/p&gt;
&lt;p&gt;소속감은 책임감을 자극한다. 책임감은 성실성을 요구하고, 그 성실함은 성장으로 귀결된다 라는 말도 안되는 명언충 같은 표현을 써봤는데 새벽 4시라 그렇다. 무튼 소속이 생겼기에 이 시간까지 뭔가를 열심히 하고 있게 되었다는 대충 그런 얘기다.&lt;/p&gt;
&lt;h4&gt;INFJ&lt;/h4&gt;
&lt;p&gt;자기 소개를 하다보니 오랜만에 MBTI를 꺼냈는데 마침 생각나는 내용이 있다. 나는, INFJ는 인생의 깨어있는 시간 대부분을 걱정과 고민과 망상을 반복하며 정신적 스트레스에 시달린다. 그런데 학습 내용을 따라가기 급급하여 밥 먹는 시간, 잠 잘 시간 외에는 딴 짓을 할 겨를이 없다. 보고 읽고 정리하고 외워도 여전히 새롭게 공부할 내용이 날 기다린다. &lt;/p&gt;
&lt;p&gt;다른 생각이 전혀 들지 않은 일주일이었다. 비록 눈은 따갑고 허리는 아프지만, 정신적으로는 그 어느 때보다 건강하다는 느낌이 들었다. 생각을 차단하니 생각이 건강해지는 아이러니. INFJ의 ‘정신적 스트레스’는 할 일이 터져나갈 때 비로소 해소된다.&lt;/p&gt;
&lt;h4&gt;동료&lt;/h4&gt;
&lt;p&gt;새로운 집단에 대해 내가 늘 기대하는 것이 한 가지 있다. ‘나보다 뛰어난 동료들만 모여있는 집단’인데 사실 안타깝게도 그런 집단에서 날 필요로 하는 경우는 많지 않다. 어쨌든 일주일 간 데브 코스에서 느낀 점이라고 한다면 적어도 프로그래밍을 학습하는 데 있어서 나보다 관련 경험과 지식이 많은 사람들이 이 곳의 절대 다수일 것 같다는 사실이다.&lt;/p&gt;
&lt;p&gt;이런 집단에 속하는 것의 장점은 우선 내게는 배울 일만 남았다는 것이다. 내가 이토록 아는 게 없는 환경에 처한 적은 어릴 적 유학을 갔을 때 이후로 처음인 것 같다는 생각이 든다. 경험 상 애매하게 아는 사람보다 깨끗하게 모르는 사람이 더 빠르게 많이 흡수한다.&lt;/p&gt;
&lt;p&gt;그리고 뒤처진다는 사실은 당연하게도 배로 노력하게 만든다. 그 이유가 타인에게 폐를 끼치지 않기 위함인지, 남들보다 못한다는 열등감인지, 언젠가는 뛰어넘겠다는 경쟁심인지, 다 함께 목표를 달성하겠다는 목표 의식인지를 가려내는 것은 사실 그렇게 중요하지는 않은 것 같다. 일단 열심히 하면 성장해있을 것이라는 사실은 변하지 않는다.&lt;/p&gt;
&lt;h4&gt;Atmosphere&lt;/h4&gt;
&lt;p&gt;동료들에 대해 너무 비인간적으로 말한 것 같기도 한데 사실 누구보다 그들에 대한 인간적인 관심이 많다. 새로운 환경에 내던져지는 것을 좋아하는 이유이기도 한데, 그 땐 무엇보다 그 곳의 기류를 파악하는 것이 중요하다고 생각한다. 가장 재밌기도 하고. &lt;/p&gt;
&lt;p&gt;개발, 컴퓨터 공학, 프로그래밍, IT와는 접점이 없는 생활 반경에서 인생의 대부분을 살아왔다보니 개발자를 꿈꾸는 사람들이 모여있는 이 곳의 기류는 사실 내게 낯설다. 하지만 혼자 공부하며 가장 궁금했고, 또한 가장 절실하게 경험하고 싶었던 부분이기도 하다. 도대체 그들은 어떤 단어를 쓰고, 어떤 생각을 하고, 무엇에 관심을 갖고, 무엇을 싫어하는지를 끊임없이 관찰하는 중이다. 나도 모르게 &lt;strong&gt;‘그들’&lt;/strong&gt;이라고 말하고 있는 걸 보니 아직 나는 이 세계에 대한 심리적 거리감이 꽤 있는 것 같다. 5개월 뒤에는 나도 one of them이 되어 있을까. 오프라인에서 진행되지 않는다는 사실이 아쉬운 부분이다. 상대방 눈을 보고 얘기해야 기류를 제대로 캐치할 수 있을 텐데, ZOOM으로 아무리 쳐다봐봤자 내가 보고 있는 건 모니터 아니면 카메라 렌즈다.&lt;/p&gt;
&lt;p&gt;너무 내가 얻어갈 것들에 대해서만 이야기한 것 같은데, 나는 이 친구들에게 무엇을 줄 수 있을까?&lt;/p&gt;
&lt;h4&gt;마무리&lt;/h4&gt;
&lt;p&gt;쓰다보니 5시다. 두서 없이 머리 속에 떠오른 생각들을 써내려 갔는데 한 가지 확실하게 깨달은 점은 있다. 앞으로는 절대 글을 새벽에 쓰지 않아야겠다는 것. 벌써 일주일이 지났다. 이제 겨우 일주일이 지났을 뿐이다. &lt;/p&gt;</content:encoded></item><item><title><![CDATA[[TIL] 프로퍼티 어트리뷰트, 생성자 함수]]></title><description><![CDATA[…]]></description><link>https://42kim.github.io/TIL/js_property_constructorFunc/</link><guid isPermaLink="false">https://42kim.github.io/TIL/js_property_constructorFunc/</guid><pubDate>Wed, 04 Aug 2021 00:00:00 GMT</pubDate><content:encoded>&lt;p&gt;본격적으로 자바스크립트의 객체를 파고들기에 앞서,&lt;br&gt;
프로퍼티 어트리뷰트와 생성자 함수에 대해 확인하고 넘어가고자 한다. 프로퍼티 어트리뷰트는 객체를 구성하는 프로퍼티들에 대해 겉으로는 드러나지 않는 상세한 정보들을 담고 있는데 도대체 뭐가 들었는지를 알아본다.&lt;br&gt;
또한 그동안은 객체 리터럴을 사용해서만 객체를 만들어왔는데 도대체 생성자 함수는 무엇이길래 또 다른 방법으로 객체를 만들어주는 것인지에 대해서도 알아보려고 한다.&lt;/p&gt;
&lt;h2&gt;프로퍼티 어트리뷰트&lt;/h2&gt;
&lt;p&gt;자바스크립트 엔진은 프로퍼티를 생성할 때 프로퍼티의 상태를 나타내는 &lt;strong&gt;프로퍼티 어트리뷰트&lt;/strong&gt;를 기본값으로 자동 정의한다. 프로퍼티의 상태란 ‘값value’, ‘값의 갱신 가능 여부writable’, ‘열거 가능 여부enumerable’, ‘재정의 가능 여부configurable’를 뜻한다. 이들을 &lt;strong&gt;프로퍼티 플래그&lt;/strong&gt;라고도 한다.&lt;/p&gt;
&lt;p&gt;각각의 프로퍼티 어트리뷰트에 직접 접근할 수는 없지만, &lt;code class=&quot;language-text&quot;&gt;Object.getOwnPropertyDescriptor&lt;/code&gt; 메서드를 사용하면 정보들이 제공되는 &lt;strong&gt;프로퍼티 디스크립터 객체&lt;/strong&gt;가 반환되어 간접적으로 확인할 수 있다. 일반적인 방식(객체 리터럴, 프로퍼티 동적 추가 등)으로 프로퍼티를 만들면 프로퍼티 플래그의 값은 모두 &lt;code class=&quot;language-text&quot;&gt;true&lt;/code&gt;이다. &lt;code class=&quot;language-text&quot;&gt;Object.defineProperty&lt;/code&gt; 메서드를 사용하면 프로퍼티의 플래그를 변경할 수 있다. 만약 해당되는 프로퍼티가 없다면 새로운 프로퍼티가 생성되는데 이때 플래그 값을 지정하지 않으면 모든 플래그 값이 &lt;code class=&quot;language-text&quot;&gt;false&lt;/code&gt;로 생성된다.  &lt;/p&gt;
&lt;p&gt;즉, 일반적인 방식으로 생성된 프로퍼티의 플래그 값은 true이지만, defineProperty 메서드로 생성한 프로퍼티의 플래그는 false라는 차이가 있다.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code class=&quot;language-text&quot;&gt;writable&lt;/code&gt; 플래그가 true이면, 프로퍼티의 value를 수정할 수 있다. false인 경우 해당 프로퍼티는 읽기 전용 프로퍼티가 된다.&lt;/li&gt;
&lt;li&gt;&lt;code class=&quot;language-text&quot;&gt;enumerable&lt;/code&gt; 플래그가 true이면, for…in 문이나 Object.keys 메서드 등을 사용해 열거할 수 있다.&lt;/li&gt;
&lt;li&gt;&lt;code class=&quot;language-text&quot;&gt;configurable&lt;/code&gt; 플래그가 false이면, 다른 플래그 값의 변경이 불가능하다. 단! &lt;code class=&quot;language-text&quot;&gt;writable&lt;/code&gt;이 true인 경우 만 false로 바꿀 수 있다. configurable 플래그를 통해 프로퍼티를 영원히 변경할 수 없는 프로퍼티로 만들 수 있게 되는 것이다.&lt;/li&gt;
&lt;li&gt;&lt;code class=&quot;language-text&quot;&gt;Object.preventExtensions(obj)&lt;/code&gt;, &lt;code class=&quot;language-text&quot;&gt;Object.seal(obj)&lt;/code&gt;, &lt;code class=&quot;language-text&quot;&gt;Object.freeze(obj)&lt;/code&gt; 등의 메서드를 사용하면 개별 프로퍼티가 아니라 객체 내의 전체 프로퍼티를 대상으로 제약 사항을 수정할 수 있다. (자주 사용할 일은 없다고 함)&lt;/li&gt;
&lt;/ul&gt;
&lt;h4&gt;접근자 프로퍼티 getter와 setter&lt;/h4&gt;
&lt;p&gt;객체의 프로퍼티는 두 종류로 나뉜다.&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;데이터 프로퍼티data property : 우리가 알고 있는 그 프로퍼티&lt;/li&gt;
&lt;li&gt;접근자 프로퍼티accessor property : 자체적으로는 값을 갖지 않고 &lt;strong&gt;다른 데이터 프로퍼티의 값&lt;/strong&gt;을 읽거나 저장할 때 사용하는 접근자 ‘함수’로 구성된 프로퍼티&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;접근자 프로퍼티인 getter와 setter 메서드에 대해 알아보자.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;javascript&quot;&gt;&lt;pre class=&quot;language-javascript&quot;&gt;&lt;code class=&quot;language-javascript&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;let&lt;/span&gt; player &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token comment&quot;&gt;// 데이터 프로퍼티들&lt;/span&gt;
    firstName &lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;Lionel&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
    lastName &lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;Messi&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;token comment&quot;&gt;// getter 함수&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;get&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;fullName&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
        &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;token template-string&quot;&gt;&lt;span class=&quot;token template-punctuation string&quot;&gt;`&lt;/span&gt;&lt;span class=&quot;token interpolation&quot;&gt;&lt;span class=&quot;token interpolation-punctuation punctuation&quot;&gt;${&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;firstName&lt;span class=&quot;token interpolation-punctuation punctuation&quot;&gt;}&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt; &lt;/span&gt;&lt;span class=&quot;token interpolation&quot;&gt;&lt;span class=&quot;token interpolation-punctuation punctuation&quot;&gt;${&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;lastName&lt;span class=&quot;token interpolation-punctuation punctuation&quot;&gt;}&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token template-punctuation string&quot;&gt;`&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
	&lt;span class=&quot;token comment&quot;&gt;// setter 함수&lt;/span&gt;
	&lt;span class=&quot;token keyword&quot;&gt;set&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;fullName&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;name&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
        &lt;span class=&quot;token keyword&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;firstName &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; name&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;split&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot; &quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
        &lt;span class=&quot;token keyword&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;lastName &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; name&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;split&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot; &quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;

console&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;log&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;player&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;fullName&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;	&lt;span class=&quot;token comment&quot;&gt;// Lionel Messi&lt;/span&gt;
console&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;log&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;player&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;fullname&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;Heungmin Son&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
console&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;log&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;player&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;firstName&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;	&lt;span class=&quot;token comment&quot;&gt;// Heungmin&lt;/span&gt;
console&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;log&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;player&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;lastName&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;		&lt;span class=&quot;token comment&quot;&gt;// Son&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;객체 내부에서 &lt;code class=&quot;language-text&quot;&gt;get&lt;/code&gt;과 &lt;code class=&quot;language-text&quot;&gt;set&lt;/code&gt;을 사용하여 getter 함수와 setter 함수를 정의할 수 있다. 프로퍼티 접근 연산자를 통해 get 프로퍼티에 접근하면 getter 메서드가 실행되고, set 프로퍼티에 접근하면 setter 메서드가 실행된다. &lt;/p&gt;
&lt;p&gt;사실 getter와 setter 메서드가 없더라도 데이터 프로퍼티의 값을 활용하여 원하는 새로운 값을 구할 수는 있지만, 데이터 프로퍼티를 꺼내오지 않더라도 두 메서드는 일반 프로퍼티 처럼 값을 조작할 수 있도록 해주는 것이다. 함수이지만 함수를 ‘호출’하지 않고 프로퍼티에 접근하는 것만으로도 원하는 값을 얻을 수 있는 것이다.&lt;/p&gt;
&lt;p&gt;접근자 프로퍼티는 데이터 프로퍼티와는 달리 &lt;code class=&quot;language-text&quot;&gt;value&lt;/code&gt;와 &lt;code class=&quot;language-text&quot;&gt;writable&lt;/code&gt; 플래그를 가지고 있지 않다. 그대신 &lt;code class=&quot;language-text&quot;&gt;get&lt;/code&gt;과 &lt;code class=&quot;language-text&quot;&gt;set&lt;/code&gt;이라는 함수를 가지고 있다. 데이터 프로퍼티와 마찬가지로 &lt;code class=&quot;language-text&quot;&gt;defineProperty&lt;/code&gt;에 get과 set을 전달하여 접근자 프로퍼티를 생성할 수 있다.&lt;/p&gt;
&lt;p&gt;이제 접근자 프로퍼티가 무엇인지에 대해서는 대략적으로 이해했다. 하지만 실제로 이들이 어떻게 쓰이는지를 짐작하기는 쉽지 않다. &lt;a href=&quot;https://ko.javascript.info/property-accessors&quot;&gt;‘getter와 setter를 똑똑하게 사용하기’, ‘호환성을 위해 사용하기’&lt;/a&gt;를 읽어보면 접근자 프로퍼티의 실제 활용법에 대해서 어느 정도 감을 잡을 수 있을 것 같다.&lt;/p&gt;
&lt;h2&gt;생성자 함수&lt;/h2&gt;
&lt;p&gt;생성자 함수란 &lt;code class=&quot;language-text&quot;&gt;new&lt;/code&gt; 연산자와 함께 호출하여 &lt;strong&gt;객체를 생성&lt;/strong&gt;하는 함수를 말한다. 생성자 함수에 의해 생성된 객체를 &lt;strong&gt;인스턴스instance&lt;/strong&gt;라고 한다. &lt;code class=&quot;language-text&quot;&gt;Object&lt;/code&gt; 생성자 함수 외에도 String, Number, Boolean, Function, Array, Date, RegExp, Promise 등의 생성자 함수가 있다.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;javascript&quot;&gt;&lt;pre class=&quot;language-javascript&quot;&gt;&lt;code class=&quot;language-javascript&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; string &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;String&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;hi&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; objString &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;String&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;hi&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;

console&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;log&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;string&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;	&lt;span class=&quot;token comment&quot;&gt;// hi&lt;/span&gt;
console&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;log&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;objString&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;	&lt;span class=&quot;token comment&quot;&gt;// String {&quot;hi&quot;}&lt;/span&gt;

console&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;log&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;typeof&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;string&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;	&lt;span class=&quot;token comment&quot;&gt;// string&lt;/span&gt;
console&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;log&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;typeof&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;objString&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;	&lt;span class=&quot;token comment&quot;&gt;// object&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;이처럼 new 연산자를 생성자 함수와 함께 사용하면 객체, 인스턴스를 반환한다.&lt;/p&gt;
&lt;p&gt;그러나 객체 타입의 경우 객체 리터럴로 생성하나 생성자 함수로 생성하나 달라지는 게 없다. 그러면 언제 생성자 함수를 사용하는 걸까.&lt;/p&gt;
&lt;p&gt;“프로퍼티 구조가 동일한 객체 여러 개를 간편하게 생성하기 위해”라고 할 수 있다. 구조가 완전히 똑같은데 프로퍼티의 값만 달라지는 객체를 100개 만든다고 치자. 객체 리터럴을 사용하면 말 그대로 코드를 100회 타이핑 하며 100개의 객체를 생성해야 한다. 생성자 함수는 &lt;strong&gt;“틀”&lt;/strong&gt; 역할을 한다. 미리 틀을 만들어 놓고, 달라지는 내용만 입력하면 동일 구조를 가진 객체를 기계처럼 찍어내는 것이다.&lt;/p&gt;
&lt;h4&gt;생성자 함수 사용하기&lt;/h4&gt;
&lt;p&gt;생성자 함수는 일반 함수와 똑같은 방법으로 정의한다. 다만 해당 함수를 생성자 함수로 사용하기 위해서는 두 가지만 기억하면 되겠다.&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;new 연산자를 붙여 호출한다. (그렇지 않으면 일반 함수로 동작한다. 따라서 this는 전역 객체가 된다.)&lt;/li&gt;
&lt;li&gt;함수 이름의 첫 글자는 대문자로 시작한다. (생성자 함수임을 알리기 위해)&lt;/li&gt;
&lt;/ol&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;javascript&quot;&gt;&lt;pre class=&quot;language-javascript&quot;&gt;&lt;code class=&quot;language-javascript&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;Person&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;name&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; age&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;name &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; name&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;age &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; age&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;

&lt;span class=&quot;token keyword&quot;&gt;let&lt;/span&gt; person1 &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;Person&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;Kim&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;20&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;let&lt;/span&gt; person2 &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;Person&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;Lee&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;30&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

console&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;log&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;person1&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;	&lt;span class=&quot;token comment&quot;&gt;// Person {name: &quot;Kim&quot;, age: 20}&lt;/span&gt;
console&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;log&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;person2&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;	&lt;span class=&quot;token comment&quot;&gt;// Person {name: &quot;Lee&quot;, age: 30}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;한 가지 더 기억할 것은 &lt;strong&gt;생성자 함수 내부의 this는 생성자 함수가 생성할 인스턴스를 가리킨다&lt;/strong&gt;는 사실이다.&lt;br&gt;
(일반 함수의 this는 전역 객체, 메서드의 this는 메서드를 호출한 객체를 가리킨다!) &lt;/p&gt;
&lt;p&gt;그 이유는 생성자 함수가 다음의 순서로 실행되기 때문이다.&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;빈 객체를 만들어 this에 할당(바인딩)한다.&lt;/li&gt;
&lt;li&gt;함수의 본문을 실행하며 this에 새로운 프로퍼티를 추가한다.&lt;/li&gt;
&lt;li&gt;this를 반환한다.&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;*만약 함수 내부에 return을 통해 다른 객체를 명시적으로 반환하도록 코드를 작성했다면, 새롭게 생성된 this가 아니라 해당 객체가 반환된다. (객체 타입이 아닌 값은 반환하지 않는다. 무시된다.)&lt;/p&gt;
&lt;h4&gt;constructor&lt;/h4&gt;
&lt;p&gt;그렇다면 모든 함수가 생성자 함수로 호출될 수 있을까? 그렇지는 않다. &lt;/p&gt;
&lt;p&gt;모든 함수는 내부 메서드를 가지고 있는데, [[Construct]]라는 내부 메서드를 가진 함수들만 생성자 함수로서 호출될 수 있다. 이러한 함수 객체를 &lt;strong&gt;constructor&lt;/strong&gt;라고 부른다. 그 반대는 non-constructor.&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;모든 함수 객체는 [[Call]] 이라는 내부 메서드를 가지고 있다. (= callable 함수 객체) &lt;/p&gt;
&lt;p&gt;함수가 ‘일반 함수’로서 호출 되면 [[Call]]이 호출되고, 생성자 함수로서 호출되면 [[Construct]]가 호출되는 것이다.  모든 함수는 callable 이면서, constructor 이거나 non-constructor 이다.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;constructor가 아닌 함수로는 &lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;화살표 함수&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://poiemaweb.com/es6-enhanced-object-property#3-%EB%A9%94%EC%86%8C%EB%93%9C-%EC%B6%95%EC%95%BD-%ED%91%9C%ED%98%84&quot;&gt;메서드 축약 표현&lt;/a&gt;으로 선언된 메서드&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;가 있다. 이 외의 함수들은 new 연산자와 함께 생성자 함수로 호출할 수 있는 것이다. 이는 생성자 함수로 사용할 계획이 없이 만들었던 함수도 new 연산자를 붙여 생성자 함수로 호출할 수 있다는 뜻이다. 다만, 위에서 말했던 것처럼 명시적으로 객체를 반환하지 않거나, &lt;code class=&quot;language-text&quot;&gt;this&lt;/code&gt;로 프로퍼티 값을 할당해주지 않는 경우에는 빈 객체 {}를 반환하게 된다.&lt;/p&gt;
&lt;h4&gt;참고&lt;/h4&gt;
&lt;p&gt;&lt;a href=&quot;https://ko.javascript.info/prototype-inheritance&quot;&gt;new 연산자와 생성자 함수&lt;/a&gt;&lt;br&gt;
모던 자바스크립트 Deep Dive | 위키북스 | 이웅모&lt;/p&gt;</content:encoded></item><item><title><![CDATA[[TIL] JavaScript의 클로저]]></title><description><![CDATA[자바스크립트의 클로저(closure…]]></description><link>https://42kim.github.io/TIL/js_closure/</link><guid isPermaLink="false">https://42kim.github.io/TIL/js_closure/</guid><pubDate>Tue, 03 Aug 2021 00:00:00 GMT</pubDate><content:encoded>&lt;p&gt;자바스크립트의 클로저(closure) 개념을 제대로 이해하기 위해서는 먼저 자바스크립트의 &lt;a href=&quot;https://42kim.github.io/TIL/js_varletconst/&quot;&gt;스코프&lt;/a&gt;, 실행 컨텍스트, 프로토타입, &lt;a href=&quot;https://42kim.github.io/TIL/js_garbage_collection/&quot;&gt;가비지 컬렉션&lt;/a&gt; 등에 대한 이해가 선행되면 좋을 것 같다. 각각의 자세한 내용은 따로 다루기로 하고 이 글에서는 클로저에 집중하기로 한다.&lt;/p&gt;
&lt;h3&gt;클로저&lt;/h3&gt;
&lt;p&gt;MDN은 Closure를 다음과 같이 정의한다.&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;A &lt;strong&gt;closure&lt;/strong&gt; is the combination of a function bundled together (enclosed) with references to its surrounding state (the &lt;strong&gt;lexical environment&lt;/strong&gt;). In other words, a closure gives you access to an outer function’s scope from an inner function. In JavaScript, closures are created every time a function is created, at function creation time.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;함수와 렉시컬 환경의 “조합”이라는 건 무슨 의미며, 중첩 함수가 외부함수의 스코프에 접근할 수 있는 건 당연한 말 아닌가? 클로저의 원리와 쓰임새에 대해서 알아보며 의문을 해소해보자.&lt;/p&gt;
&lt;h4&gt;중첩 함수의 렉시컬 환경 (+ 가비지 컬렉션)&lt;/h4&gt;
&lt;p&gt;클로저에 대해서 찾다 보면 “이미 생명 주기가 종료한 외부 함수의 변수를 참조할 수 있다”는 말을 가장 먼저 발견할 수 있다. 클로저를 설명하는 대표적인 특징 중 하나이기 때문일 것 같은데 처음에는 그게 어떻게 가능한 건지 전혀 감이 오질 않았다. 그러나 자바스크립트의 렉시컬 환경에 대해서 알고나니 비로소 이해할 수 있었다.&lt;/p&gt;
&lt;p&gt;&lt;a href=&quot;https://42kim.github.io/TIL/js_varletconst/&quot;&gt;스코프 글&lt;/a&gt;에서 자바스크립트의 모든 식별자는 &lt;strong&gt;자신이 선언된 위치&lt;/strong&gt;에 의해 스코프가 결정된다고 했다. 중첩 함수는 외부 함수의 몸체 안에서 정의된 함수를 뜻한다. 따라서 중첩 함수의 렉시컬 환경은 상위 스코프인 외부 함수의 몸체가 되는 것이다.&lt;/p&gt;
&lt;p&gt;여기까지는 익숙한 내용이다. 그런데 외부 함수의 생명 주기가 끝나 소멸된다면,  그 함수의 몸체 내부를 참조하는 중첩 함수의 스코프도 함께 소멸되는 것이 아닌가? 그러면 참조할 외부 함수의 변수도 없는 것 아닌가? 라는 의문이 든다.&lt;/p&gt;
&lt;p&gt;이 부분이 클로저가 이상한(?) 이유였는데 이 의문을 해소하기 위해서는 자바스크립트의 내부 슬롯, 그 중에서도 &lt;code class=&quot;language-text&quot;&gt;[[Environment]]&lt;/code&gt; 내부 슬롯에 대해 알 필요가 있었다. &lt;/p&gt;
&lt;p&gt;(자세한 내용은 프로토타입과 프로퍼티 어트리뷰트에서 다루는 것으로 하고) 간단하게 말하자면 자바스크립트의 객체가 생성될 때 엔진의 내부 로직에 의해 객체의 내부 깊~~은 곳에 여러가지 프로퍼티가 함께 생기는데, 함수의 내부 슬롯 중 [[Environment]]라는 곳에는 &lt;strong&gt;함수의 렉시컬 환경&lt;/strong&gt;이 저장된다는 내용이다. 즉, 함수는 자신이 태어난 환경을 몸 속 깊은 곳에서 기억하고 있는 것이다. 따라서 중첩 함수가 평가되어 객체가 생성될 때, 중첩 함수가 정의된 외부 함수 렉시컬 환경이 중첩 함수의 내부 슬롯에 저장되게 된다.&lt;/p&gt;
&lt;p&gt;여기까지는 사실..&lt;/p&gt;
&lt;p&gt;위에서 “중첩 함수가 외부함수의 스코프에 접근할 수 있는 건 당연한 말 아닌가?”라는 질문에 대해 어떻게 그것이 가능한 건지에 대해 좀 더 자세하게 살펴본 내용에 해당된다. 동시에 클로저의 정의에 대입하면 &lt;strong&gt;“자바스크립트의 모든 함수는 클로저”&lt;/strong&gt;임을 뜻하는 내용이기도 했다.&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;하지만 일반적으로 모든 함수를 클로저라고 부르지는 않는다. 모든 함수가 외부 함수의 렉시컬 환경을 기억하기 때문에 외부 함수가 소멸해도 렉시컬 환경이 여전히 메모리 공간에 남아있다면, 메모리 공간은 죽은 함수들의 정보들로 가득찰 것이다. 만약 중첩 함수가 외부 함수의 어떤 요소도 참조하지 않아서 필요가 없는 경우에도 말이다.&lt;/p&gt;
&lt;p&gt;따라서 외부 함수의 변수가 중첩 함수에 의해 참조되지 않는 경우, 모던 브라우저는 최적화를 통해 상위 스코프를 기억하지 않는다고 한다. 이를 통해 메모리 낭비를 방지할 수 있는 것이다.&lt;/p&gt;
&lt;p&gt;외부 함수를 참조하고 있는 중첩 함수에 한해서, 생명 주기가 종료된 외부 함수의 식별자를 참조할 수 있다는 특수한 기능을 중점으로 클로저를 인식하면 될 것 같다.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;다시 돌아와서, &lt;/p&gt;
&lt;p&gt;클로저에 대한 진짜 궁금증은 생명 주기가 끝난 외부 함수 즉, 실행 컨텍스트가 실행 컨텍스트에서 제거된 외부함수의 스코프가 어떻게 아직도 메모리에 존재하고 있느냐일 것이다.&lt;/p&gt;
&lt;p&gt;그 해답은 자바스크립트의 가비지 컬렉션 알고리즘에 있었다. &lt;a href=&quot;https://42kim.github.io/TIL/js_garbage_collection/&quot;&gt;가비지 컬렉션 글&lt;/a&gt;에서 자바스크립트의 가비지 컬렉터는 ‘도달 가능한’ 객체는 메모리에서 해제하지 않는다고 했었다. &lt;/p&gt;
&lt;p&gt;여기서 외부 함수의 렉시컬 환경은 중첩 함수의 내부 슬롯 [[Environment]]에 의해 참조되어 도달 가능한 상태이다. 따라서 함수는 소멸하였어도 그 렉시컬 환경은 여전히 메모리 공간에 남아있어 중첩 함수에 의해 참조될 수 있는 것이다. 함수는 죽었지만 렉시컬 환경은 죽지 않았다. 다른 함수의 마음 속에 살아있었기 때문이다..⭐&lt;/p&gt;
&lt;p&gt;이것이 중첩 함수가 정의된 스코프 밖에서 실행될 때에도 기억하고 있는 스코프의 변수들에 접근할 수 있는 이유다.&lt;/p&gt;
&lt;h4&gt;상태 은닉&lt;/h4&gt;
&lt;p&gt;죽은 줄로만 알았던 외부 함수의 변수들이 사실은 메모리 공간에 살아있었다는 충격적인 소식을 들었다. 그럼 살아있으니 그 값들을 가지고 뭔가를 할 수 있지 않을까? 할 수 있다. 그래서 가능한 것이 의도치 않은 변경을 방지하기 위해 상태를 안전하게 은닉하도록 돕는 클로저 활용법이다.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;javascript&quot;&gt;&lt;pre class=&quot;language-javascript&quot;&gt;&lt;code class=&quot;language-javascript&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;let&lt;/span&gt; cnt &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;token function-variable function&quot;&gt;plus&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    cnt&lt;span class=&quot;token operator&quot;&gt;++&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; cnt&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;

console&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;log&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;plus&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;	&lt;span class=&quot;token comment&quot;&gt;// 1&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;위와 같이 전역 변수 &lt;code class=&quot;language-text&quot;&gt;cnt&lt;/code&gt;의 값을 1씩 더해주는 함수가 있다고 하자.&lt;/p&gt;
&lt;p&gt;만약 코드가 아주 복잡해져서 cnt 변수를 실수로 조작한다면, 기대했던 것과 다른 값을 얻게 될 위험이 있다. 전역 변수의 위험성이다.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;javascript&quot;&gt;&lt;pre class=&quot;language-javascript&quot;&gt;&lt;code class=&quot;language-javascript&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;let&lt;/span&gt; cnt &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;token function-variable function&quot;&gt;plus&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    cnt&lt;span class=&quot;token operator&quot;&gt;++&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; cnt&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;

console&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;log&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;plus&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;	&lt;span class=&quot;token comment&quot;&gt;// 1&lt;/span&gt;
console&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;log&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;plus&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;	&lt;span class=&quot;token comment&quot;&gt;// 2&lt;/span&gt;
console&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;log&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;plus&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;	&lt;span class=&quot;token comment&quot;&gt;// 3&lt;/span&gt;
cnt &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;100&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
console&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;log&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;plus&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;	&lt;span class=&quot;token comment&quot;&gt;// 101&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;이와 같은 경우를 방지하기 위해 클로저를 유용하게 사용할 수 있다. 외부 함수 내부에 &lt;code class=&quot;language-text&quot;&gt;cnt&lt;/code&gt; 변수를 선언하고 중첩 함수로 참조하여 관리한다면, 중첩 함수를 이용하지 않고서는 외부에서 해당 변수에 접근할 방법이 없기 때문이다.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;javascript&quot;&gt;&lt;pre class=&quot;language-javascript&quot;&gt;&lt;code class=&quot;language-javascript&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;closure&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;let&lt;/span&gt; cnt &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;token function-variable function&quot;&gt;plus&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
        cnt&lt;span class=&quot;token operator&quot;&gt;++&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
        console&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;log&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;cnt&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; plus &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;

&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; hiddenCnt &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;closure&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
console&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;log&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;hiddenCnt&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;plus&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;	&lt;span class=&quot;token comment&quot;&gt;// 1&lt;/span&gt;
console&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;log&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;hiddenCnt&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;plus&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;	&lt;span class=&quot;token comment&quot;&gt;// 2&lt;/span&gt;
console&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;log&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;hiddenCnt&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;plus&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;	&lt;span class=&quot;token comment&quot;&gt;// 3&lt;/span&gt;
conole&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;log&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;cnt&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;	&lt;span class=&quot;token comment&quot;&gt;// Uncaught ReferenceError: cnt is not defined&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;이제 cnt 변수에 접근하여 값을 조작할 수 있는 방법은 소멸된 외부 함수에서 정의된 plus 함수를 사용하는 방법뿐이다. 클로저를 활용해 cnt 변수를 은닉하여 의도치 않은 값의 변경은 차단했지만, 특정 함수만을 사용하여 여전히 원하는 연산을 수행할 수 있게 되었다.&lt;/p&gt;
&lt;h3&gt;결론 및 느낀점&lt;/h3&gt;
&lt;p&gt;클로저는 죽어버린 함수를 기적처럼 소생시키는 마법사는 아니었다. 클로저를 사용한다면 결국 메모리 어딘가에 해당 값들이 죽지 않고 여전히 살아남아 있다는 뜻이니까. &lt;/p&gt;
&lt;p&gt;따라서 클로저를 가장 효율적으로 활용할 수 있는 적재적소를 판단하는 능력이 필요할 것 같다.&lt;/p&gt;
&lt;p&gt;파편적으로만 학습했던 자바스크립트의 개념들은 결국 모두가 긴밀하게 연결되어 있었다. 당장 이해가 되지 않는 내용이 있다면, 연관된 주변 개념들 혹은 굵직한 자바스크립트의 동작 원리를 다시 한 번 확실하게 이해하고 돌아와서 완벽하게 이해할 필요가 있다.&lt;/p&gt;
&lt;h4&gt;참고&lt;/h4&gt;
&lt;p&gt;&lt;a href=&quot;https://developer.mozilla.org/ko/docs/Web/JavaScript/Closures&quot;&gt;MDN Web Docs | 클로저&lt;/a&gt;&lt;br&gt;
&lt;a href=&quot;https://ko.javascript.info/closure&quot;&gt;변수의 유효범위와 클로저&lt;/a&gt;&lt;br&gt;
모던 자바스크립트 Deep Dive | 위키북스 | 이웅모&lt;/p&gt;</content:encoded></item><item><title><![CDATA[[TIL] JavaScript의 가비지 컬렉션]]></title><description><![CDATA[…]]></description><link>https://42kim.github.io/TIL/js_garbage_collection/</link><guid isPermaLink="false">https://42kim.github.io/TIL/js_garbage_collection/</guid><pubDate>Mon, 02 Aug 2021 00:00:00 GMT</pubDate><content:encoded>&lt;h3&gt;자바스크립트 엔진의 메모리 관리&lt;/h3&gt;
&lt;p&gt;&lt;a href=&quot;https://42kim.github.io/TIL/js_objecttype/&quot;&gt;원시 값과 객체의 복사&lt;/a&gt;에서 원시 값이 담긴 변수에 새로운 값을 할당하는 경우, 새로운 메모리 공간이 확보되어 그 곳에 새로운 값이 담긴다고 했다. 그리고 기존 값이 담긴 메모리 주소를 참조하던 변수는 새로운 값이 담긴 메모리 주소를 참조하게 된다.&lt;/p&gt;
&lt;p&gt;이처럼 값을 재할당 하면 기존 메모리 주소의 값을 지우고 그 곳에 새로운 값을 넣는 것이 아니라 추가적인 메모리 공간을 사용하기 때문에, 유한한 용량을 보유한 메모리를 효율적으로 관리하기 위해서는 더 이상 사용되지 않는 기존의 값을 메모리에서 정리해줘야 할 필요가 발생한다.&lt;/p&gt;
&lt;p&gt;하지만 자바스크립트를 사용하면서 재할당된 변수의 기존 값을 직접 메모리에서 삭제한 경험은 없다. (메모리 공간에 값을 직접 할당해준 적도) 자바스크립트는 개발자의 직접적인 메모리 관리를 허용하지 않는 &lt;em&gt;managed language&lt;/em&gt;이기 때문이다. &lt;/p&gt;
&lt;p&gt;자바스크립트 엔진 내부의 &lt;strong&gt;가비지 컬렉터&lt;/strong&gt;가 &lt;strong&gt;가비지 컬렉션&lt;/strong&gt;을 자동으로 대신 수행해주는 것이다.&lt;/p&gt;
&lt;h3&gt;Garbage Collection 알고리즘&lt;/h3&gt;
&lt;p&gt;언어와 상관없이 메모리의 생존주기는 다음과 같다.&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;필요할 때 할당한다.&lt;/li&gt;
&lt;li&gt;사용한다. (읽기와 쓰기)&lt;/li&gt;
&lt;li&gt;사용이 끝나면 해제한다.&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;2번이야 모든 언어에서 공통적으로 개발자가 직접 수행하는 과정이지만, 위에서 말했듯 자바스크립트는 개발자의 직접적인 메모리 관리를 허용하지 않기 때문에 1번과 3번은 암묵적으로 작동한다.&lt;/p&gt;
&lt;p&gt;그렇다면, 자바스크립트 엔진의 가비지 컬렉터는 특정 메모리 공간에 할당된 값이 더 이상 사용되지 않는 ‘쓰레기’라는 사실을 어떻게 판단할까? 내가 더 이상 사용하지 않을 거라고 말해준 적도 없는데..&lt;/p&gt;
&lt;p&gt;결론부터 말하자면, 자바스크립트 엔진은 더 이상 사용되지 않는 값을 찾아내기 위해 &lt;strong&gt;mark-and-sweep&lt;/strong&gt;이라는 알고리즘을 사용한다. 이 알고리즘을 설명하기에 앞서, 알고 있으면 이해에 더 도움이 될 것 같은 알고리즘이 하나 있다. &lt;/p&gt;
&lt;p&gt;바로 &lt;strong&gt;reference-counting&lt;/strong&gt; 알고리즘이다. 내가 가비지 컬렉션에 대해서 막연하게 유추했을 때 이런 방법을 쓰면 되지 않을까 라고 생각했었는데, 그 방식의 문제점을 여실히 드러내주는 알고리즘이기 때문이다.&lt;/p&gt;
&lt;h4&gt;Reference-counting (참조-세기) 알고리즘&lt;/h4&gt;
&lt;p&gt;reference-counting 알고리즘에서 더 이상 필요없는 오브젝트 즉, 가비지는 “어떤 다른 객체에 의해서도 참조되지 않는 객체”이다. 이 알고리즘의 판단 기준은 &lt;strong&gt;참조 여부&lt;/strong&gt;인 것이다.&lt;/p&gt;
&lt;p&gt;언듯 보기엔 이 방식이 별 문제가 없어보인다. 누군가에 의해 참조되고 있다는 것은, 추후에 다시 사용될 가능성이 있는 값이기에 가비지로 분류하지 않고 남겨두면 되는 것 아닌가? 라고 생각되기 때문이다. &lt;/p&gt;
&lt;p&gt;따라서 reference-counting 알고리즘이 문제가 되려면 ‘어딘가에서 참조되고 있지만 다시 사용될 수는 없는 경우’가 되어야 한다. 그런 경우가 가능할까? 가능하다. 바로 &lt;strong&gt;순환 참조(circular reference)&lt;/strong&gt;의 상황이 그렇다. &lt;/p&gt;
&lt;p&gt;아래는 &lt;a href=&quot;https://developer.mozilla.org/ko/docs/Web/JavaScript/Memory_Management&quot;&gt;MDN&lt;/a&gt;에 기술된 순환 참조의 예시다. &lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;javascript&quot;&gt;&lt;pre class=&quot;language-javascript&quot;&gt;&lt;code class=&quot;language-javascript&quot;&gt;window&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function-variable function&quot;&gt;onload&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; div &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; document&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;getElementById&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;myDivElement&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  div&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;circularReference &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; div&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  div&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;lotsOfData &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;Array&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;10000&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;join&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;*&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;DOM 요소인 &lt;code class=&quot;language-text&quot;&gt;div&lt;/code&gt;는 &lt;code class=&quot;language-text&quot;&gt;circularReference&lt;/code&gt; 속성으로 자기 자신을 참조한다. 한편 &lt;code class=&quot;language-text&quot;&gt;lotsOfData&lt;/code&gt; 속성으로는 많은 양의 데이터를 가지고 있다. &lt;/p&gt;
&lt;p&gt;만약 해당 DOM 요소가 더 이상 페이지에서 필요하지 않아 DOM 트리에서 제거된다면, &lt;code class=&quot;language-text&quot;&gt;div&lt;/code&gt;의 속성들도 더 이상 필요하지 않을 것이다. 이에 따라 메모리의 많은 공간을 차지하지만 더 이상의 쓸모는 없는 &lt;code class=&quot;language-text&quot;&gt;lotsOfData&lt;/code&gt; 같은 속성의 값을 메모리에서 해제하는 것이 효율적인 메모리 관리법일 것이다.&lt;/p&gt;
&lt;p&gt;그러나 reference-counting 알고리즘은 ‘참조 여부’를 판단의 기준으로 삼는다고 했다. 그 누구도 &lt;code class=&quot;language-text&quot;&gt;div&lt;/code&gt; DOM 요소를 필요로 하지 않는 상황이지만 &lt;code class=&quot;language-text&quot;&gt;div&lt;/code&gt; 요소는 속성으로 자기 자신인 &lt;code class=&quot;language-text&quot;&gt;div&lt;/code&gt;를 ‘참조’하고 있다. 따라서 가비지 컬렉터에 의해 정리되어야 할 가비지로 판단되지 않는다. &lt;/p&gt;
&lt;p&gt;따라서 &lt;code class=&quot;language-text&quot;&gt;div&lt;/code&gt;는 다시는 쓰이지 않지만, 메모리의 큰 부분을 떡하니 차지하며 보이지 않는 곳에서 구천을 떠돌며 메모리 누수의 원인으로 작용하는 것이다. 이는 브라우저의 속도 저하를 유발한다. (익스플로러 6와 7은 실제로 reference-counting 알고리즘을 사용하여 가비지 컬렉션을 수행한다고 한다. 새로운 뭔가를 공부할 때마다 익스플로러를 쓰면 안되는 이유도 하나씩 배우는 중이다..😂)&lt;/p&gt;
&lt;p&gt;이처럼 참조 여부만으로 메모리에 할당된 값의 쓰임을 판단하는 reference-counting 알고리즘의 한계를 알아보았다. &lt;/p&gt;
&lt;h4&gt;mark-and-sweep (표시하고-쓸기) 알고리즘&lt;/h4&gt;
&lt;p&gt;쓰지 않는 알고리즘에 대해 알아봤으니 이제는 실제로 자바스크립트의 가비지 컬렉션에 쓰이는 mark-and-sweep 알고리즘이 뭔지 알아보자.&lt;/p&gt;
&lt;p&gt;reference-counting 알고리즘은 참조 여부로 가비지 컬렉션 대상을 판단한다고 했다. 이에 반해 mark-and-sweep 알고리즘은 &lt;strong&gt;도달 가능성(reachability)&lt;/strong&gt;라는 개념을 사용하여 가비지 컬렉션의 대상을 찾아낸다. ‘도달 가능한 값’은 그대로 놔두고 ‘도달할 수 없는 값’을 메모리에서 삭제하는 방식이다.&lt;/p&gt;
&lt;p&gt;그렇다면 도달 가능성이란 무엇일까?&lt;/p&gt;
&lt;p&gt;특정 값에 대하여 접근할 수 있는지, 그 값을 사용할 수 있는지의 여부를 도달 가능성이라고 한다. 전역 변수처럼 생성되는 순간부터 언제 어디서나 참조할 수 있는 값을 &lt;strong&gt;root&lt;/strong&gt;라고 부르는데, mark-and-sweep 알고리즘은 이 root 값들이 참조하고 있는 값 그리고 체이닝을 통해 root에서 참조할 수 있는 값을 ‘도달 가능한 값’이라고 판단한다.&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;mark-and-sweep 알고리즘을 사용한 가비지 컬렉션 진행 순서&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;가비지 컬렉터는 root 정보를 수집하고 이를 mark(기억)한다.&lt;/li&gt;
&lt;li&gt;root가 참조하고 있는 모든 객체를 방문하고, 이들을 다시 mark 한다.&lt;/li&gt;
&lt;li&gt;새롭게 mark한 객체들이 참조하고 있는 객체를 방문하고 mark 한다. 이미 mark한 객체는 다시 방문하지 않는다.&lt;/li&gt;
&lt;li&gt;이 방식으로 도달 가능한 모든 객체를 방문할 때까지 반복한다.&lt;/li&gt;
&lt;li&gt;mark 되지 않은 객체들을 메모리에서 삭제한다.&lt;/li&gt;
&lt;/ul&gt;
&lt;/blockquote&gt;
&lt;p&gt;자바스크립트의 가비지 컬렉터는 자바스크립트 엔진 내에서 끊임없이 동작하며, 모든 객체를 탐색하며 도달 가능하다고 판단된 값들은 가비지 컬렉션의 대상에서 제외하고, 도달할 수 없는 값들에 대해서 가비지 컬렉션을 수행하는 것이다. &lt;/p&gt;
&lt;p&gt;따라서 전역 변수처럼 언제 어디서나 참조 가능한 값은, 의도적으로 메모리에서 삭제하지 않는 이상 (자바스크립트에서는 불가능하다!) 언제나 ‘도달 가능한 값’이기에 가비지 컬렉션에 의해 메모리에서 해제되지 않을 것이다.&lt;/p&gt;
&lt;p&gt;이러한 방법을 사용하여 mark-and-sweep 알고리즘은 reference-counting 알고리즘에서 발생하는 순환 참조에 의한 메모리 누수를 방지할 수 있게 된다. 실제로는 쓰일 수 없지만 단지 서로를 참조하고 있는 ‘외딴 섬’ 같은 값들을 삭제 대상으로 판단하기 때문이다.&lt;/p&gt;
&lt;p&gt;위에서 살펴 본 예시에 mark-and-sweep 알고리즘을 적용해본다면, &lt;/p&gt;
&lt;p&gt;&lt;code class=&quot;language-text&quot;&gt;div&lt;/code&gt; 요소가 DOM 트리에서 제외되어 다른 어느 요소로부터도 도달할 수 없는 상황이 되면, 자기 자신의 속성으로 순환 참조가 일어나고 있더라도 외부의 어느 요소로부터도 접근할 수 없기 때문에 도달 할 수 없는 값으로 판단되어 &lt;code class=&quot;language-text&quot;&gt;div&lt;/code&gt; 요소 그리고 속성으로 참조하는 &lt;code class=&quot;language-text&quot;&gt;lotsofData&lt;/code&gt;는 가비지 컬렉터에 의해 메모리에서 삭제될 것이다.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;이 때 주의할 것은&lt;/strong&gt; root에서부터 참조 가능한 방향에 있는 값들만이 도달 가능한 값이 된다는 점이다. 만약 &lt;code class=&quot;language-text&quot;&gt;div&lt;/code&gt; 요소가 도달 가능한 범위에 속한 특정 요소를 참조하고 있더라도, 외부(반대 방향)에서 &lt;code class=&quot;language-text&quot;&gt;div&lt;/code&gt; 요소에 접근할 수 있는 방법이 없기 때문에 당연히 도달할 수 없는 값이 되어 &lt;code class=&quot;language-text&quot;&gt;div&lt;/code&gt;는 결국 가비지 컬렉터에 의해 삭제된다는 뜻이다.&lt;/p&gt;
&lt;p&gt;(&lt;a href=&quot;https://ko.javascript.info/garbage-collection&quot;&gt;여기&lt;/a&gt;에서 추가적으로 언급하는 mark-and-sweep 알고리즘을 최적화 하는 기법 generational collection, incremental collection, idle-time collection 등에 대해서는 추후 자세히 알아보자.)&lt;/p&gt;
&lt;h3&gt;결론 및 느낀점&lt;/h3&gt;
&lt;p&gt;&lt;strong&gt;정리하자면 reference-counting 알고리즘은 단순히 ‘객체의 참조가 이루어지고 있는가?‘만을 고려하여 가비지 컬렉션의 대상을 판단한다면,&lt;/strong&gt;&lt;br&gt;
&lt;strong&gt;mark-and-sweep 알고리즘은 ‘객체의 유의미한(= 도달 가능한) 참조가 이루어지고 있는가?‘를 판단하여 불필요한 데이터들에 대해 보다 정밀한 가비지 컬렉팅을 수행함으로써 효율적인 메모리 관리를 돕는다고 할 수 있을 것 같다.&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;자바스크립트는 개발자를 위해 많은 부분을 암묵적으로 수행하는데 언제나 장점과 단점이 공존한다. &lt;/p&gt;
&lt;p&gt;가비지 컬렉터에 의한 메모리 관리도 역시나 마찬가지다. C 처럼 직접 메모리 관리를 해줘야하는 언어의 불편함은 줄여주지만, 이는 결국 개발자의 의도와는 상관없이 메모리의 제어가 이루어진다는 의미라고도 할 수 있을 것 같다.&lt;/p&gt;
&lt;p&gt;가비지 컬렉션에 대해 더욱 깊게 이해하기 위해서는 결국 직접 메모리 관리를 수행해야 하는 언어들에 대해서도 알 필요가 있어보인다. C 공부를 더 해보자.&lt;/p&gt;
&lt;p&gt;모던 자바스크립트 엔진은 위에서 설명한 것보다 좀 더 발전된 가비지 컬렉션 알고리즘을 사용한다고 한다. V8 엔진에 대해서도 좀 더 살펴보자.&lt;/p&gt;
&lt;p&gt;자바스크립트의 클로저(closer)에 대해서 더 자세히 공부한 뒤에 이 부분을 다시 들여다보면 지금 놓치고 있는 부분을 더 명확하게 이해할 수 있을 것 같다.&lt;/p&gt;
&lt;h4&gt;참고&lt;/h4&gt;
&lt;p&gt;&lt;a href=&quot;https://developer.mozilla.org/ko/docs/Web/JavaScript/Memory_Management&quot;&gt;MDN Web Docs | 자바스크립트의 메모리 관리&lt;/a&gt;&lt;br&gt;
&lt;a href=&quot;https://ko.javascript.info/garbage-collection&quot;&gt;가비지 컬렉션&lt;/a&gt;&lt;/p&gt;</content:encoded></item><item><title><![CDATA[[TIL] 템플릿 엔진과 SSR, CSR]]></title><description><![CDATA[템플릿 엔진 Template Engine 템플릿 엔진이란 이미 존재하는 템플릿에 동적인 데이터를 결합하여 최종적으로 원하는 페이지를 만들어주는 소프트웨어를 말한다.  웹 애플리케이션에서 템플릿 엔진은 클라이언트의 요청이 발생하면 미리 만들어둔 HTML…]]></description><link>https://42kim.github.io/TIL/TemplateEngine/</link><guid isPermaLink="false">https://42kim.github.io/TIL/TemplateEngine/</guid><pubDate>Tue, 13 Jul 2021 00:00:00 GMT</pubDate><content:encoded>&lt;h1&gt;템플릿 엔진 Template Engine&lt;/h1&gt;
&lt;p&gt;템플릿 엔진이란 이미 존재하는 템플릿에 동적인 데이터를 결합하여 최종적으로 원하는 페이지를 만들어주는 소프트웨어를 말한다.&lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 283px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/f2e325515b1d0c25e7ce06decd09c805/bde6a/template-engine.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 173.41772151898735%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAjCAYAAACU9ioYAAAACXBIWXMAAAsTAAALEwEAmpwYAAAGWklEQVRIx41WWU+j1xnmH+Q/9KZSpV71N1TqRS/SUasu6kUVVZWqRqpUKVWkLhdto5E6DUOmQxgYwrBjUmA8lNUGjAEveGMzNl7w+nm3PxvjBWP7eXo+2zgmQZ059uuzP+c573bcx04B0K3v2kq5qdUYjYR4at+n89jMRFxivd64t6e39PV2eheUStcMBf10O60MeA6Zip4yGTlhwOugy2kTwNEHCfR9HazRaDAY8DJ4ecGE5OWVHOV1ISbqWKudiZ3RvP6MB5rZ9r5m4/8DVsplbq2MU0552bgt8aZSZLVyJcAkBt37PN2f4OrERzRuzb8bYL1+S9V4P1eXxug5tzCfFaziHkqXdgbPNqhff8VPP/kDTdttwObbAKvVCrcFw+UvR/jFyDOeOXYZ8RgY9xtp0Kk58uIzrkx+TPPOOzIsVyo82JzkqW2V58d7DLgNDJyu0WF4zbmZcZq3x7kz/yeYdr7sADbfokMBuL85xUOTmp4zwc69w921Vxx8PkCDZgJu8ww103/k3sZkB+8drrzx+gUdehVc1mUcGxf5tP8xdcufwaEdoE79BCuqJ/C6HOgg4i1GaVCv/Q80iwPcXHpGy/YYtuf/Ss3cX6D770seOcwwOyNob1F8kHibY0O+KvHNhgYW/QK06ufUr40h4HdRUVdTLIgkC8oytn36Ace+G7wDLN/cMpS6Vs5GWfgl+BWLcrWGaKqAzm3Fz92+1gFfAbbqDtHKzS2kVKFLXPkqym+pRKyNZYvfiOEOF/bdTwrNVqdaq1NKX7WGGz1WLF1VGA3keOFKMC0VRGznRYwXRGhW7zNUTk8UzxC/PmK64kIoY4c3cQgpf8xU+RypkpPXxWsGnDl6HCl6j9JCMrw8zfLCmmbQleadbVqAjaZgVLIgVjMxdXsEs0eNFf0wtFYV83QheWNFNiMz5CwLx3Zx7tUKl2Z2eHlS5NFugm6H1L12FzBQ3kKE6zT6JrFhH4HePYY3B/+mOTyLaGOHuaxMq1aiZTNC/fIFTdoLOi1Ruo9FNiqWu2rrXtmX0fMit4GjkJpa2xRXzRPcsU3D5F2gL6fjbb3GQq7IcEhcOZBshVyjUf9GLu0apVEH67VGS7c3tYZwjSLahylzze7GurCblCneA+o1bNdtGh1RPqWqSPsdt6k3mq1xpW4K9FLltj3XGWvNK6d2zNL30LugzMTabvNgCcblh/3wjmGpXMWKzQ+11c9lm5+ze+fsVx9y2erjktmDpUOvIlRbfFwwevj5ql20vXhj8WHB5IXJHelqUQFEIpXlh6Nb/M2IFh98vo4PBtfw66E1/nLgDX7x6Wv+/Mkif/ZkET9+rOL7n0zzJ4/n8OjvM1TkB38e598m1tG9ssIwl8vBaDLjwGDivsEoajP29o3c0ump2d7FpiJbO1xaX8OYegFTi4ucmV/ElGoBo5Oz0GzpeJd9WoD5QgH+dBFBuUZfusajaJJnsRwi8g3t8SvoglkYRJjth/M4iFxhN5SnLpTHTlDGVugKh8EEm/XblhZbV5bzBbpTFdpiOapcs/idSK7fe7qFfo2Ze4kKxt1ZjtokDB2GMWwJc/w0icmTBIeMAU65c9SHM6jXbtANPTmfhyNSxj80BjxamcS3/rWP936r4Q+H/4nJMyvm3XmMH0sYO5Iw6ohhxC5x0BLBc3HAU4uEVWdYOGy9axRm5QKskSJ+9PyY33mq4vdfvOR7P53jtz8c4rTNzV1vkTOGIGdNIU4bQpw4CHJ0L4DBbS8G9yLYdSeUvKQAom2UfAHbPhmvzDm8P7SIR+rf47sfDeNXA1ase6+hPpcxa0/ck2kh44LdS0sSOncc9wCzch6qkwxU5wXMnBTQr49i2JjE4oXon8piTACe5jF3JtY5hYi63ZfxhUOm9jwmAOtdt0GpXKFdBLzZn6LlMsXjcI7qQx83jyO0B9M89CeFpGj2JfnaGuG2M0ZboL3W5E/BE00rDwJ6Q69FuSVCuUr/4jIG84m//ViIaFbcTIkoy0USlcpNe6y9p+d560kO6L4L3QcJR75EC6B8C8TkKuyXMorVxv3w7YljfP3Va7uQSPXhFJKZAjIi/7n8SWhFvFrPJUTiOcTiWfpCSSQyhfaeh9LX/b8iNcaTIt1LWYZjWVxfVyklsswK8GzuiqFoCu7LBKVkns0eoLvyP9kr9Gy24/jdAAAAAElFTkSuQmCC&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;사진1&quot;
        title=&quot;사진1&quot;
        src=&quot;/static/f2e325515b1d0c25e7ce06decd09c805/bde6a/template-engine.png&quot;
        srcset=&quot;/static/f2e325515b1d0c25e7ce06decd09c805/c26ae/template-engine.png 158w,
/static/f2e325515b1d0c25e7ce06decd09c805/bde6a/template-engine.png 283w&quot;
        sizes=&quot;(max-width: 283px) 100vw, 283px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;웹 애플리케이션에서 템플릿 엔진은 클라이언트의 요청이 발생하면 미리 만들어둔 HTML 파일에 적합한 데이터를 결합하여 생성된 HTML을 페이지에 렌더링 해준다. 즉, 정적인 HTML 템플릿에 상황에 맞는 데이터가 동적으로 반영된 달라진 View를 제공하는 것이다.&lt;/p&gt;
&lt;h2&gt;템플릿 엔진을 사용하는 이유?&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;재사용성이 높다.&lt;/strong&gt;&lt;br&gt;
똑같은 디자인의 페이지에 보여지는 데이터만 바뀌는 경우, 템플릿 엔진을 사용하면 코드를 중복 작성할 필요가 없기 때문에 매우 효율적이다.&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;유지보수에 용이하다.&lt;/strong&gt;&lt;br&gt;
마찬가지로 페이지의 디자인을 수정할 때, 반복적으로 작업할 필요가 없다. &lt;/li&gt;
&lt;/ul&gt;
&lt;h2&gt;EJS (Embedded JavaScript templates)&lt;/h2&gt;
&lt;p&gt;위에서 살펴본 장점에 더하여 결정적으로 EJS 템플릿 엔진을 도입하고자 한 이유는 다음과 같다.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;서버에서 클라이언트로 변수를 보낼 수 있다.&lt;/strong&gt;&lt;br&gt;
EJS를 사용하면 서버에서 클라이언트로 HTML을 렌더링하여 전송할 때 변수를 함께 넘길 수 있다. 우리는 사용자의 로그인 여부에 따라 페이지의 정보를 다르게 출력하길 원했기 때문에 만약 로그인을 완료하여 세션 정보가 존재하는 경우, 해당 요청에는 로그인 완료 여부를 변수에 담아서 전달할 수 있었다.&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;자바스크립트 문법을 사용하여 HTML 태그를 동적으로 제어할 수 있다.&lt;/strong&gt;&lt;br&gt;
EJS는 조건문, 반복문 등의 자바스크립트 문법을 사용하여 HTML 태그를 동적으로 생성, 제어할 수 있다. 이 때, 위에서 말한 것처럼 서버 사이드에서 넘겨 받은 변수를 활용하여 상황에 따라 변화하는 동적인 View를 제공할 수 있는 것이다. &lt;/li&gt;
&lt;/ul&gt;
&lt;h2&gt;서버 사이드 렌더링 vs 클라이언트 사이드 렌더링&lt;/h2&gt;
&lt;p&gt;템플릿 엔진은 &lt;strong&gt;“어디에서 HTML이 그려지느냐”&lt;/strong&gt;에 따라 크게 두 종류로 구분할 수 있는데 &lt;code class=&quot;language-text&quot;&gt;서버 사이드 렌더링(SSR)&lt;/code&gt;을 수행하는 템플릿 엔진(&lt;strong&gt;PUG, EJS 등&lt;/strong&gt;)과 &lt;code class=&quot;language-text&quot;&gt;클라이언트 사이드 렌더링(CSR)&lt;/code&gt;을 수행하는 템플릿 엔진(&lt;strong&gt;React, Vue 등&lt;/strong&gt;)이 있다. &lt;/p&gt;
&lt;p&gt;&lt;strong&gt;서버 사이드 렌더링&lt;/strong&gt;은 클라이언트의 요청이 발생하면,
서버가 database 혹은 API로부터 필요한 데이터를 가져와 미리 준비된 템플릿에 데이터를 적절하게 넣은 뒤, &lt;strong&gt;‘서버에서’&lt;/strong&gt; HTML을 렌더링하여 클라이언트에 제공하는 방식이다. 따라서 브라우저는 서버로부터 전달 받은 HTML을 화면에 보여주기만 하면 되는 것이다.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;장점👍&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;브라우저는 서버에서 완성하여 전송한 HTML을 표시만 하면 되기 때문에 최초 로딩 속도가 빠르다.&lt;/li&gt;
&lt;li&gt;이미 컨텐츠가 완성되어 있기 때문에 검색 엔진의 웹 크롤러에 추출되는 데에 유리하다. 즉, 검색 엔진 최적화(SEO)에 이점이 있다.&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;단점👎&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;요청이 발생할 때마다 변경이 필요 없는 부분까지 포함한 페이지의 전체 HTML을 서버로부터 로드한다. 따라서 서버의 부하가 증가한다.&lt;/li&gt;
&lt;li&gt;뷰가 전환될 때마다 페이지의 모든 부분을 리로딩 하기 때문에 화면 깜빡임이 발생한다. 즉, 사용자 경험이 저하된다.&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;반면,&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;클라이언트 사이드 렌더링&lt;/strong&gt;은 요청이 발생하면,
&lt;strong&gt;‘브라우저가’&lt;/strong&gt; 웹페이지의 공통적인 프레임을 미리 템플릿으로 만들어 놓고(&lt;strong&gt;자바스크립트를 사용하여!&lt;/strong&gt;), 그때 그때 요청에 따라 필요한 데이터만 전달받아 기존 템플릿의 적절한 위치에 배치하여 동적으로 DOM을 그려주는 방식이다. 서버는 클라이언트에게 필요한 데이터만 전달하고 렌더링은 브라우저에 의해 수행되는 것이다.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;장점👍&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;초기 요청 이후에는 새로운 요청 시 페이지를 그리는 데 필요한 일부 데이터만 전달 받으면 되기 때문에 서버의 부하가 적다.&lt;/li&gt;
&lt;li&gt;새로고침이 발생하지 않아 향상된 사용자 경험을 제공한다.&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;단점👎&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;최초 요청에 사이트의 모든 HTML 정보를 받아둬야 하기 때문에 초기 로딩 시간이 상대적으로 오래 걸린다.&lt;/li&gt;
&lt;li&gt;화면이 다 그려지기 전에는 콘텐츠가 비어있기 때문에 검색 엔진의 크롤러가 데이터를 제대로 수집하지 못하여 SEO에 불리하다. &lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;</content:encoded></item><item><title><![CDATA[[TIL] var, let, const 정리]]></title><description><![CDATA[자바스크립트의 변수 선언 키워드 , , 에 관한 내용 총정리. 이제 다시는 찾아보지 말자. 스코프 var와 let, const를 구분하는 차이를 이해하기 위해서는 먼저 스코프scope…]]></description><link>https://42kim.github.io/TIL/js_varletconst/</link><guid isPermaLink="false">https://42kim.github.io/TIL/js_varletconst/</guid><pubDate>Sat, 10 Jul 2021 00:00:00 GMT</pubDate><content:encoded>&lt;p&gt;자바스크립트의 변수 선언 키워드 &lt;code class=&quot;language-text&quot;&gt;var&lt;/code&gt;, &lt;code class=&quot;language-text&quot;&gt;let&lt;/code&gt;, &lt;code class=&quot;language-text&quot;&gt;const&lt;/code&gt;에 관한 내용 총정리. 이제 다시는 찾아보지 말자.&lt;/p&gt;
&lt;h3&gt;스코프&lt;/h3&gt;
&lt;p&gt;var와 let, const를 구분하는 차이를 이해하기 위해서는 먼저 &lt;strong&gt;스코프scope&lt;/strong&gt; 개념에 대한 이해가 필요하다.&lt;/p&gt;
&lt;p&gt;스코프는 &lt;strong&gt;“유효 범위”&lt;/strong&gt;다. 스코프가 변수를 참조할 수 있는 범위를 결정하는 것이다. 함수의 매개변수는 함수 몸체 내부에서만 참조할 수 있다. 즉, 함수 매개변수의 스코프는 ‘함수 몸체 내부’인 것이다.&lt;/p&gt;
&lt;p&gt;그렇다면 변수의 스코프는 어떻게 정해지는 것일까?&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;모든 식별자는 &lt;strong&gt;“자신이 선언된 위치”&lt;/strong&gt;에 의해 유효 범위가 결정된다.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;즉, 스코프는 변수가 어디에서 선언되느냐에 의해 결정되는 것이다. 함수에서 선언된 매개변수의 스코프가 함수 내부에서만 참조 가능한 것처럼.&lt;/p&gt;
&lt;p&gt;변수뿐만이 아니라 함수 이름, 클래스 이름 등 모든 식별자가 마찬가지 규칙을 따른다.&lt;/p&gt;
&lt;p&gt;그렇다면 궁금해지는 것이 하나 있다. 만약 동일한 이름을 가진 변수의 스코프가 겹치는 경우는 어떻게 되는 걸까?&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;javascript&quot;&gt;&lt;pre class=&quot;language-javascript&quot;&gt;&lt;code class=&quot;language-javascript&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;var&lt;/span&gt; x &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;global&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

&lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;foo&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;var&lt;/span&gt; x &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;local&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    console&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;log&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;x&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;

&lt;span class=&quot;token function&quot;&gt;foo&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;token comment&quot;&gt;// ???&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;위 코드에서 첫 번째 변수 x는 전역에서 선언되었다. 그러나 foo 함수 내부에서 또 다른 변수 x가 선언되었다. 전역 변수 x는 어디에서나 참조할 수 있을 것이다. 반면 함수 내부의 x는 함수 내부에서만 참조할 수 있다. 그런데 함수 내부에서 x를 호출하면 ‘어디에서나 참조 가능한 x’와 ‘함수 내부에서 참조 가능한 x’ 이 두 경우 모두에 해당이 된다.&lt;/p&gt;
&lt;p&gt;함수 foo의 스코프가 전역 스코프에 포함이 되기 때문에 문제가 발생했다. 함수 내부에서 또 다른 함수가 선언되고 그 안에서 변수가 선언되면 새로운 스코프가 생성된다. 그 스코프는 foo 함수 스코프 한 단계 아래의 스코프를 갖는다. 이렇게 스코프가 계층적으로 연결된 것을 &lt;strong&gt;스코프 체인&lt;/strong&gt;이라고 부른다. (스코프 체인의 실체와 관련해서는 &lt;strong&gt;렉시컬 환경&lt;/strong&gt;을 찾아보자)&lt;/p&gt;
&lt;p&gt;위 질문에 대한 해답을 스코프 체인에서 찾을 수 있다.&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;변수를 참조할 때 자바스크립트 엔진은 스코프 체인을 통해 변수를 참조하는 코드의 스코프에서 시작하여&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;상위 스코프 방향으로 이동하며&lt;/strong&gt; 선언된 변수를 검색한다.&lt;/p&gt;
&lt;p&gt;변수가 존재하면, 해당 변수를 참조하고 검색을 종료한다.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;이 설명을 통해 위 질문에 대한 답을 유추해볼 수 있다.&lt;/p&gt;
&lt;p&gt;foo 함수 내부에서 참조된 x는 가장 가까운 스코프에서 선언된 변수 x가 있는지 탐색한다. 있다. &lt;code class=&quot;language-text&quot;&gt;var x = &amp;quot;local&amp;quot;&lt;/code&gt;이다. 그리고 검색이 끝난다. 따라서 위 코드는 “local”을 출력한다.&lt;/p&gt;
&lt;p&gt;만약 함수 내부에 x 변수 선언이 없었다면, 점점 상위 스코프로 탐색 범위를 이동하며 결국 마지막으로 전역에서 선언된 &lt;code class=&quot;language-text&quot;&gt;var x = &amp;quot;global&amp;quot;&lt;/code&gt;을 만나게 될 것이다. 이제 전역 변수가 왜 전역에서 참조 가능한지도 알 게 된 것이다.&lt;/p&gt;
&lt;h4&gt;var, 그리고 함수 레벨 스코프&lt;/h4&gt;
&lt;p&gt;이제 본격적으로 변수 선언 키워드에 대해서 알아보고자 한다.&lt;/p&gt;
&lt;p&gt;먼저 var 키워드는 오로지 &lt;strong&gt;함수의 코드 블록&lt;/strong&gt;만을 지역 스코프로 인정한다. 이를 &lt;strong&gt;함수 레벨 스코프&lt;/strong&gt;라고 한다.&lt;/p&gt;
&lt;p&gt;코드의 블록은 다양하게 구분된다. if문이나 for문 내부의 블록, try/catch문 내부의 블록 등등. 이처럼 다양한 코드 블록이 존재하지만, var를 사용하여 함수 내부가 아닌 다른 블록에서 변수를 선언한다면 &lt;strong&gt;모두 전역 변수&lt;/strong&gt;가 된다.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;javascript&quot;&gt;&lt;pre class=&quot;language-javascript&quot;&gt;&lt;code class=&quot;language-javascript&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;var&lt;/span&gt; x &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

&lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token boolean&quot;&gt;true&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;var&lt;/span&gt; x &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;

&lt;span class=&quot;token keyword&quot;&gt;for&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;var&lt;/span&gt; x &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt; x &lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;3&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt; x&lt;span class=&quot;token operator&quot;&gt;++&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    console&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;log&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;foo&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;

&lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;foo&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;var&lt;/span&gt; x &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;4&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    console&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;log&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;x&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;

console&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;log&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;x&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;	&lt;span class=&quot;token comment&quot;&gt;// 3&lt;/span&gt;
&lt;span class=&quot;token function&quot;&gt;foo&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;	&lt;span class=&quot;token comment&quot;&gt;// 4&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;위 예시에서 함수 foo 내부에서 선언된 x를 제외하면, 나머지 x는 모두 전역 변수이다. 함수가 아닌 블록에서 var를 사용해 선언되었기 때문이다. 따라서 x는 전역 변수 중에서 가장 마지막에 선언된 for문 내부의 x를 참조하는 것이다.&lt;/p&gt;
&lt;h4&gt;동적 스코프와 정적 스코프(렉시컬 스코프)&lt;/h4&gt;
&lt;p&gt;위에서 살펴본 것처럼 var로 선언한 변수는 함수 레벨 스코프를 따른다. 그러나 다른 키워드로 변수를 선언하거나, 혹은 자바스크립트가 아닌 다른 언어의 경우 함수 레벨 스코프가 아닌 블록 레벨 스코프를 따르기도 한다.&lt;/p&gt;
&lt;p&gt;그렇지 않은 경우가 존재한다는 사실을 알고 있는 것은 중요하다.&lt;/p&gt;
&lt;p&gt;그래서 동적 스코프와 정적 스코프에 대해서도 짧게 알고 넘어가보자.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;javascript&quot;&gt;&lt;pre class=&quot;language-javascript&quot;&gt;&lt;code class=&quot;language-javascript&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;var&lt;/span&gt; x &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

&lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;foo&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;var&lt;/span&gt; x &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token function&quot;&gt;bar&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;

&lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;bar&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    console&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;log&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;x&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;

&lt;span class=&quot;token function&quot;&gt;foo&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;	&lt;span class=&quot;token comment&quot;&gt;// ?&lt;/span&gt;
&lt;span class=&quot;token function&quot;&gt;bar&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;	&lt;span class=&quot;token comment&quot;&gt;// ?&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;위에서 알아본 바에 의하면 자바스크립트의 &lt;strong&gt;모든 식별자&lt;/strong&gt;는 ‘자신이 선언된 위치’에 의해 스코프가 결정된다고 했다.&lt;/p&gt;
&lt;p&gt;따라서 전역에서 &lt;strong&gt;정의&lt;/strong&gt;된 함수 bar는 전역 스코프를 갖는다. 비록 함수 foo 내부에서 &lt;strong&gt;호출&lt;/strong&gt;되었지만 말이다. 이 규칙에 따르면 위 코드는 두 번 모두 전역 변수 x를 참조하여 1을 호출한다.&lt;/p&gt;
&lt;p&gt;맞다. 자바스크립트는 “어디서 정의했는지에 따라 함수의 스코프를 결정”하기 때문이다. 이를 정적 스코프 혹은 렉시컬 스코프를 따른다고 말한다.&lt;/p&gt;
&lt;p&gt;대부분의 언어는 렉시컬 스코프를 따르지만, Perl 같은 언어에는 동적 스코프가 존재한다고 한다.&lt;/p&gt;
&lt;p&gt;동적 스코프는 정의되는 위치가 아니라 “호출되는 위치”에 따라 스코프가 결정된다. 함수를 정의하는 시점에는 스코프를 알 수 없고, 호출되는 시점에 동적으로 상위 스코프가 정해지는 것이다.&lt;/p&gt;
&lt;p&gt;(렉시컬 스코프를 이해했다면 &lt;strong&gt;클로져closure&lt;/strong&gt;에 대해서 공부해보자)&lt;/p&gt;
&lt;p&gt;이처럼 var는 렉시컬 스코프를 따르는 변수 선언 키워드이다. 그런데 var를 놔두고 왜 let이나 const 같은 키워드가 새롭게 등장한 것일까? var가 완벽했다면 다른 것들은 필요 없었을 텐데. &lt;/p&gt;
&lt;h3&gt;var의 문제점&lt;/h3&gt;
&lt;p&gt;&lt;strong&gt;1. 중복 선언&lt;/strong&gt;  &lt;/p&gt;
&lt;p&gt;위에서 그냥 지나친 사실이 하나 있다. x라는 동일한 이름을 가진 변수를 전역에서 여러 번 선언하면 변수 x는 마지막 값으로 계속 덮어씌워졌다. 즉, var는 전역이라는 &lt;strong&gt;동일한 스코프 내&lt;/strong&gt;에서 동일한 변수 이름을 사용하여 변수를 주&lt;strong&gt;중복 선언&lt;/strong&gt;할 수 있다는 의미다.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;javascript&quot;&gt;&lt;pre class=&quot;language-javascript&quot;&gt;&lt;code class=&quot;language-javascript&quot;&gt;&lt;span class=&quot;token comment&quot;&gt;// 단, 초기화문이 없으면 무시된다!&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;var&lt;/span&gt; x &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;var&lt;/span&gt; y &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

&lt;span class=&quot;token keyword&quot;&gt;var&lt;/span&gt; x &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;var&lt;/span&gt; y&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

console&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;log&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;x&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;	&lt;span class=&quot;token comment&quot;&gt;// 2&lt;/span&gt;
console&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;log&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;y&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;	&lt;span class=&quot;token comment&quot;&gt;// 1&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;중복 선언은 오류를 발생시킬 가능성을 높인다. &lt;/p&gt;
&lt;p&gt;만약 몇 만 줄이나 되는 코드를 작성한다고 가정해보자. 내가 해당 변수 이름을 사용했는지 안 했는지 정확하게 체크하지 못하고 의도치 않게 다른 값으로 중복 선언할 가능성이 다분하다.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;2. 함수 레벨 스코프&lt;/strong&gt;  &lt;/p&gt;
&lt;p&gt;함수 레벨 스코프 역시 var의 문제점 중 하나다. 함수의 코드 블록을 제외한 곳에서 선언되는 모든 변수가 전역 변수가 되기 때문에, 전역 변수를 남발하게 되고 이로 인해 의도치 않게 전역 변수를 중복 선언되는 경우가 발생한다. &lt;/p&gt;
&lt;p&gt;자주 사용하는 for문 등에서 선언하는 변수도 불필요하게 전역 변수가 된다. 이는 의도치 않게 값을 변경시킬 가능성을 내포한다.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;3. 변수 호이스팅&lt;/strong&gt;  &lt;/p&gt;
&lt;p&gt;var 키워드로 변수를 선언하면 변수 호이스팅이 발생한다. 호이스팅은 가독성을 떨어뜨리고 오류를 발생시킬 여지를 남긴다. (여기서 호이스팅에 대해 설명하지는 않겠다)&lt;/p&gt;
&lt;h3&gt;let과 const의 등장&lt;/h3&gt;
&lt;p&gt;이러한 var 키워드의 문제점을 보완하기 위해 ES6에서 새로운 변수 선언 키워드인 let과 const가 등장했다.&lt;/p&gt;
&lt;h4&gt;let의 특징&lt;/h4&gt;
&lt;p&gt;&lt;strong&gt;1. 중복 선언 금지&lt;/strong&gt;  &lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;javascript&quot;&gt;&lt;pre class=&quot;language-javascript&quot;&gt;&lt;code class=&quot;language-javascript&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;var&lt;/span&gt; x &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;let&lt;/span&gt; y &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

&lt;span class=&quot;token keyword&quot;&gt;var&lt;/span&gt; x &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;let&lt;/span&gt; y &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;token comment&quot;&gt;// SyntaxError: Indentifier &apos;y&apos; has already been declared&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;var를 사용하여 동일 이름을 가진 변수를 선언하면 아무 오류도 발생하지 않는다. 그저 나중에 선언된 값으로 덮어씌워질 뿐이다.&lt;/p&gt;
&lt;p&gt;그러나 let을 사용하여 동일 이름을 가진 변수를 선언하면 SyntaxError가 발생한다. 같은 스코프 내에서의 중복 선언이 금지되어 있기 때문이다.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;2. 블록 레벨 스코프&lt;/strong&gt;  &lt;/p&gt;
&lt;p&gt;함수 레벨 스코프를 따르는 var와는 달리 let은 블록 레벨 스코프를 따른다.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;javascript&quot;&gt;&lt;pre class=&quot;language-javascript&quot;&gt;&lt;code class=&quot;language-javascript&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;let&lt;/span&gt; x &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

&lt;span class=&quot;token keyword&quot;&gt;for&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;let&lt;/span&gt; x &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;100&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt; x &lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;101&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt; x&lt;span class=&quot;token operator&quot;&gt;++&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;let&lt;/span&gt; y &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;

console&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;log&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;x&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;	&lt;span class=&quot;token comment&quot;&gt;// 1&lt;/span&gt;
console&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;log&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;y&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;	&lt;span class=&quot;token comment&quot;&gt;// ReferenceError: y is not defined&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;즉, ‘블록’ 내부에서 let 키워드로 선언된 변수의 스코프는 해당 블록 스코프를 갖는다.&lt;/p&gt;
&lt;p&gt;위의 x는 서로 다른 스코프에 존재하는 별개의 변수다. 또한 전역에서 블록 스코프 내의 변수를 참조하는 경우 참조 에러가 발생한다. &lt;/p&gt;
&lt;p&gt;&lt;strong&gt;3. 변수 호이스팅&lt;/strong&gt;  &lt;/p&gt;
&lt;p&gt;let 키워드로 선언한 변수를 변수 선언문 이전에 참조하면 참조 에러가 발생한다. var 키워드로 선언한 변수가 초기화된 값 undefined를 반환하는 것과 다른 점이다. 즉, “변수 호이스팅이 발생하지 않는 것처럼” 동작한다.&lt;/p&gt;
&lt;p&gt;짧게 설명하고 넘어가자면,&lt;/p&gt;
&lt;p&gt;var로 변수 선언을 하면 ‘선언 단계’와 ‘초기화 단계’가 런타임 이전에 실행되기 때문에 호이스팅이 발생하지만,&lt;/p&gt;
&lt;p&gt;let 선언은 ‘선언 단계’와 ‘초기화 단계’가 분리되어 진행된다. 런타임 이전에는 선언 단계만 실행되고, 변수 선언문에 이르러서야 초기화 단계가 실행된다.&lt;/p&gt;
&lt;p&gt;따라서 초기화 되지 않은 변수에 접근할 때 발생하는 참조 에러가 나타나는 것이다.&lt;/p&gt;
&lt;p&gt;“호이스팅이 발생하지 않는 것처럼”이라고 말한 이유는 사실 호이스팅이 발생하기 때문이다.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;javascript&quot;&gt;&lt;pre class=&quot;language-javascript&quot;&gt;&lt;code class=&quot;language-javascript&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;let&lt;/span&gt; x &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    console&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;log&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;x&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;	&lt;span class=&quot;token comment&quot;&gt;// ReferenceError: Cannot access &apos;x&apos; before initialization&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;let&lt;/span&gt; x &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;만약 호이스팅이 발생하지 않는다면, &lt;code class=&quot;language-text&quot;&gt;console.log(x)&lt;/code&gt;는 상위 스코프를 탐색하여 1 이라는 값을 반환해야 한다. &lt;/p&gt;
&lt;p&gt;그러나 참조 에러가 발생한다. 바로 아래에 따라오는 &lt;code class=&quot;language-text&quot;&gt;let x = 2&lt;/code&gt;에서 변수 선언은 실행되었지만, 초기화가 실행되지 않은 상태에서 호이스팅이 발생했기 때문이다. 이처럼 스코프의 시작 지점부터 변수 초기화 지점까지 변수를 참조할 수 없는 구간을 &lt;strong&gt;일시적 사각지대 Temporal Dead Zone, TDZ&lt;/strong&gt;라고 부른다.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;4. 전역 객체&lt;/strong&gt;  &lt;/p&gt;
&lt;p&gt;var 키워드로 선언한 전역 변수와 전역 함수는 전역 객체 &lt;code class=&quot;language-text&quot;&gt;window&lt;/code&gt;의 프로퍼티가 된다. 따라서 전역 객체의 프로퍼티로써 참조할 수 있다.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;javascript&quot;&gt;&lt;pre class=&quot;language-javascript&quot;&gt;&lt;code class=&quot;language-javascript&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;var&lt;/span&gt; x &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

console&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;log&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;x&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;			&lt;span class=&quot;token comment&quot;&gt;//  1, 전역 객체 window를 생략한 일반적인 사용 방식&lt;/span&gt;
console&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;log&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;window&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;x&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;	&lt;span class=&quot;token comment&quot;&gt;//	1, 전역 객체 window의 프로퍼티 x 참조&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;그러나 let 키워드로 선언한 전역 변수는 전역 객체 window의 프로퍼티가 아니다. 따라서 &lt;code class=&quot;language-text&quot;&gt;window.x&lt;/code&gt;의 방식으로 접근할 수 없다.&lt;/p&gt;
&lt;p&gt;(자세한 내용은 &lt;strong&gt;실행 컨텍스트&lt;/strong&gt;를 살펴보자)&lt;/p&gt;
&lt;h3&gt;const 특징&lt;/h3&gt;
&lt;p&gt;상수를 선언하기 위해 사용하는 const 키워드는 위에서 알아본 let 키워드와 대부분 비슷한 특징을 공유한다. &lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;블록 레벨 스코프&lt;/li&gt;
&lt;li&gt;변수 호이스팅이 발생하지 않는 것처럼 동작&lt;/li&gt;
&lt;li&gt;전역 객체 window의 프로퍼티가 아니다.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;하지만 다른 점도 있다.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;1. 재할당 금지&lt;/strong&gt;   &lt;/p&gt;
&lt;p&gt;var는 동일 스코프에서 중복 선언도 가능하고, 재할당도 가능하다.&lt;/p&gt;
&lt;p&gt;let은 동일 스코프에서 중복 선언은 불가능하지만, 재할당은 가능하다.&lt;/p&gt;
&lt;p&gt;그러나  const 키워드로 선언한 변수는 선언도, 재할당도 불가능하다.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;javascript&quot;&gt;&lt;pre class=&quot;language-javascript&quot;&gt;&lt;code class=&quot;language-javascript&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;var&lt;/span&gt; x &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;var&lt;/span&gt; x &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
x &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;3&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

&lt;span class=&quot;token keyword&quot;&gt;let&lt;/span&gt; y &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;let&lt;/span&gt; y &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;			&lt;span class=&quot;token comment&quot;&gt;// SyntaxError: Identifier &apos;y&apos; has already been declared&lt;/span&gt;
y &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;3&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; z &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; z &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;		&lt;span class=&quot;token comment&quot;&gt;// SyntaxError: Identifier &apos;z&apos; has already been declared&lt;/span&gt;
z &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;3&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;				&lt;span class=&quot;token comment&quot;&gt;// TypeError: Assignment to constant variable&lt;/span&gt;

console&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;log&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;x&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;		&lt;span class=&quot;token comment&quot;&gt;// 3&lt;/span&gt;
console&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;log&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;y&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;		&lt;span class=&quot;token comment&quot;&gt;// 3&lt;/span&gt;
console&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;log&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;z&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;		&lt;span class=&quot;token comment&quot;&gt;// 1&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;const는 상수를 선언하기 위해 사용한다고 했다. &lt;strong&gt;상수&lt;/strong&gt;는 말 그대로 변하지 않는 수이다. 따라서 재할당이 금지된다.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;2. 선언과 초기화&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;var, let이 갖지 않는 const만의 특징이다. &lt;/p&gt;
&lt;p&gt;const 키워드를 사용한 변수 선언은 선언과 동시에 초기화가 이뤄지지 않으면 에러가 발생한다.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;javascript&quot;&gt;&lt;pre class=&quot;language-javascript&quot;&gt;&lt;code class=&quot;language-javascript&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;var&lt;/span&gt; x&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
x &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

&lt;span class=&quot;token keyword&quot;&gt;let&lt;/span&gt; y&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
y &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; z&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;	&lt;span class=&quot;token comment&quot;&gt;// SyntaxError: Missing initializer in const declaration&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;&lt;strong&gt;3. 원시 값과 객체&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;const 키워드로 선언한 변수에 원시 값을 할당하면 변수 값을 변경할 수 있는 방법이 없다. 원시 값은 ‘변경 불가능한 값’이고, const는 재할당이 불가능하기 때문이다.&lt;/p&gt;
&lt;p&gt;따라서 바뀌지 않는 고정된 값을 표현할 때는 const를 적극적으로 사용하는 것이 좋다. 이는 상태 유지, 가독성 향상, 유지보수 편의를 돕는다. 상수 이름은 주로 대문자로 선언한다.&lt;/p&gt;
&lt;p&gt;한편, const 키워드로 선언된 변수에 원시 값이 아닌 객체를 할당한다면 값을 변경할 수 있다. ‘변경 가능한 값’인 객체는 재할당 없이도 변경할 수 있는 방법이 존재하기 대문이다.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;javascript&quot;&gt;&lt;pre class=&quot;language-javascript&quot;&gt;&lt;code class=&quot;language-javascript&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; obj &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    name&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;Lee&apos;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

obj&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;name &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;Kim&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

console&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;log&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;obj&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;	&lt;span class=&quot;token comment&quot;&gt;// {name: &apos;Kim&apos;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;const는 “재할당”이 불가능한 것이지, “불변”을 뜻하는 것이 아니라는 점을 잘 기억해두자.&lt;/p&gt;
&lt;h3&gt;결론&lt;/h3&gt;
&lt;p&gt;오류 방지의 측면에서 볼 때, 필요한 경우가 아니라면 변수는 const 키워드를 사용해 선언하는 것이 안전할 것이다. &lt;/p&gt;
&lt;p&gt;의도치 않은 재할당을 방지하며, 블록 레벨 스코프를 따르고, 함수 호이스팅이 발생하지 않는 것처럼 동작하기 때문이다.&lt;/p&gt;
&lt;p&gt;재할당이 필요하여 let 키워드를 사용해야 하는 경우에는 스코프를 최대한 좁게 만드는 것이 오류 발생을 낮출 수 있는 안전한 방법이다.&lt;/p&gt;
&lt;p&gt;var는 이제 그만 놓아주자.&lt;/p&gt;
&lt;h4&gt;참고&lt;/h4&gt;
&lt;p&gt;모던 자바스크립트 Deep Dive | 위키북스 | 이웅모&lt;/p&gt;</content:encoded></item><item><title><![CDATA[[TIL] reduce() 메서드가 NaN을 반환하는 이유]]></title><description><![CDATA[프로그래머스에서 문제를 푸는 데  메서드가 왜 을 리턴하는지 도무지 원인을 찾을 수 없었다. 한참을 삽질한 끝에 내가  메서드를 크게 잘못 이해하고 있었다는 것을 알 게 됐다. 그동안은 reduce…]]></description><link>https://42kim.github.io/TIL/js_reduce/</link><guid isPermaLink="false">https://42kim.github.io/TIL/js_reduce/</guid><pubDate>Fri, 09 Jul 2021 00:00:00 GMT</pubDate><content:encoded>&lt;p&gt;프로그래머스에서 &lt;a href=&quot;https://programmers.co.kr/learn/courses/30/lessons/42579&quot;&gt;문제&lt;/a&gt;를 푸는 데 &lt;code class=&quot;language-text&quot;&gt;reduce&lt;/code&gt; 메서드가 왜 &lt;code class=&quot;language-text&quot;&gt;NaN&lt;/code&gt;을 리턴하는지 도무지 원인을 찾을 수 없었다.&lt;/p&gt;
&lt;p&gt;한참을 삽질한 끝에 내가 &lt;code class=&quot;language-text&quot;&gt;reduce&lt;/code&gt; 메서드를 크게 잘못 이해하고 있었다는 것을 알 게 됐다. 그동안은 reduce를 사용하여 주로 숫자만 더해왔기 때문에 내가 잘못 알고 있었다는 사실 조차 모르고 있었는데, 이 문제에서는 reduce 메서드의 콜백 함수에서 숫자가 아니라 객체를 참조해야 했기 때문에 제대로 된 답을 구할 수 없었다.&lt;/p&gt;
&lt;h4&gt;잘못 사용한 reduce의 예시&lt;/h4&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;javascript&quot;&gt;&lt;pre class=&quot;language-javascript&quot;&gt;&lt;code class=&quot;language-javascript&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; map &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token comment&quot;&gt;// &apos;음악 장르&apos; : [[곡 고유번호, 곡 재생시간]]&lt;/span&gt;
    &lt;span class=&quot;token string&quot;&gt;&apos;classic&apos;&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;3&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;800&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;500&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;150&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;token string&quot;&gt;&apos;pop&apos;&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;4&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;2500&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;600&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

&lt;span class=&quot;token keyword&quot;&gt;let&lt;/span&gt; totalPlayTime &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;for&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;let&lt;/span&gt; genre &lt;span class=&quot;token keyword&quot;&gt;in&lt;/span&gt; map&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;let&lt;/span&gt; timeSum &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; map&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;genre&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;reduce&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;a&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; b&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; a&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;+&lt;/span&gt; b&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    totalPlayTime&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;push&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;timeSum&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;

console&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;log&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;totalPlayTime&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;token comment&quot;&gt;// [NaN, 3100]&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;각 장르에 속한 모든 곡들의 재생시간의 총합을 구하기 위해 reduce 메서드를 사용하였고,&lt;/p&gt;
&lt;p&gt;reduce를 호출한 map[genre] 배열의 요소는 [곡 고유번호, 곡 재생시간]으로 구성된 이중 배열 형태이니 배열의 1번 인덱스의 값들만 더하기 위해 a[1] + b[1]을 리턴하도록 했다.&lt;/p&gt;
&lt;p&gt;문제는 ‘classic’의 경우 NaN을 반환하지만, ‘pop’은 제대로 된 합산 결과인 3100을 반환한다는 것이었다.&lt;/p&gt;
&lt;p&gt;나는 &lt;code class=&quot;language-text&quot;&gt;sort()&lt;/code&gt; 메서드처럼, reduce 콜백함수의 인수 또한 순회하는 요소를 가리킨다고 생각했다. 그도 그럴 것이 그동안은 주로 reduce를 사용하여 숫자 타입의 값만 담긴 배열을 계산했기 때문에 문제되는 경우가 없었다.&lt;/p&gt;
&lt;p&gt;그러나 내가 위의 풀이에서 사용한 reduce 콜백함수의 (a, b)는 map[genre]의 요소인 [3, 800], [0, 500], [2, 150]을 뜻하는 것이 아니다.&lt;/p&gt;
&lt;p&gt;왜 배열의 1번 인덱스의 값을 더하는 800 + 500 + 150이 아닌 NaN이 반환되었을까.&lt;/p&gt;
&lt;h4&gt;reduce 제대로 알기&lt;/h4&gt;
&lt;blockquote&gt;
&lt;p&gt;reduce() 메서드는 배열의 각 요소에 대해 주어진 reducer 함수를 실행하고, 하나의 결과값을 반환한다.&lt;/p&gt;
&lt;p&gt;이때, reducer 함수는 네 개의 인자를 갖는다.&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;누산기 (accumulator)&lt;/li&gt;
&lt;li&gt;현재 값&lt;/li&gt;
&lt;li&gt;현재 인덱스&lt;/li&gt;
&lt;li&gt;원본 배열&lt;/li&gt;
&lt;/ol&gt;
&lt;/blockquote&gt;
&lt;p&gt;내가 잘못 알고 있었던 부분은 바로 첫 번째 인자인 &lt;strong&gt;accumulator&lt;/strong&gt;였다. 위의 풀이에서 ‘a’ 파라미터에 해당되는 부분이다.&lt;/p&gt;
&lt;p&gt;accumulator는 &lt;strong&gt;초기값&lt;/strong&gt; 또는 &lt;strong&gt;이전 반환값&lt;/strong&gt;(즉, 반드시 &lt;strong&gt;return&lt;/strong&gt;이 필요하다)을 가리킨다. 여태까지 주로 요소가 전부 숫자인 배열에 reduce를 사용하여 값을 더해왔기 때문에 이전 반환값 역시 숫자였고, 숫자 타입인 이전 반환값(a)에 또다시 숫자 타입인 &lt;strong&gt;현재 값&lt;/strong&gt;(b)를 더했기 때문에 제대로된 숫자 값을 반환한 것이다.&lt;/p&gt;
&lt;p&gt;그러나 이번에는 경우가 달랐다. 내 풀이는 다음과 같은 순서로 진행된다.&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;초기값을 생략했기 때문에 첫 번째 a는 map[genre]의 첫 번째 요소인 배열 [3, 800]이다.&lt;/li&gt;
&lt;li&gt;첫 번째 b는 map[genre]의 두 번째 요소인 배열 [0, 500]이다.&lt;/li&gt;
&lt;li&gt;따라서 a[1] + b[1] 은 800 + 500 = 1300이 된다.&lt;/li&gt;
&lt;li&gt;이 때, 1300이 &lt;strong&gt;이전 반환값&lt;/strong&gt;이다. 따라서 두 번째 순회의 a는 배열이 아닌 숫자 값 1300이다.&lt;/li&gt;
&lt;li&gt;두 번째 b는 [2, 150]이다.&lt;/li&gt;
&lt;li&gt;따라서 두 번째 a[1] + b[1]은 1300[1] + [2, 150][1]이다. 1300[1]은 undefined이기 때문에 최종 반환 값은 undefined + 150 = NaN이다.&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;이처럼 reducer 함수의 인수가 무엇을 의미하는지 정확하게 알고 있지 못했기 때문에 NaN이 반환되었던 것이다.&lt;/p&gt;
&lt;p&gt;따라서 정확한 풀이는 다음과 같아야 할 것이다.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;javascript&quot;&gt;&lt;pre class=&quot;language-javascript&quot;&gt;&lt;code class=&quot;language-javascript&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; map &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token comment&quot;&gt;// &apos;음악 장르&apos; : [[곡 고유번호, 곡 재생시간]]&lt;/span&gt;
    &lt;span class=&quot;token string&quot;&gt;&apos;classic&apos;&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;3&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;800&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;500&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;150&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;token string&quot;&gt;&apos;pop&apos;&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;4&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;2500&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;600&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

&lt;span class=&quot;token keyword&quot;&gt;let&lt;/span&gt; totalPlayTime &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;for&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;let&lt;/span&gt; genre &lt;span class=&quot;token keyword&quot;&gt;in&lt;/span&gt; map&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;let&lt;/span&gt; timeSum &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; map&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;genre&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;reduce&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;acc&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; cur&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; acc &lt;span class=&quot;token operator&quot;&gt;+&lt;/span&gt; cur&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    totalPlayTime&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;push&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;timeSum&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;

console&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;log&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;totalPlayTime&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;token comment&quot;&gt;// [1450, 3100]&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;ol&gt;
&lt;li&gt;초기값은 0이다.&lt;/li&gt;
&lt;li&gt;첫 번째 cur는 [3, 800]이다. 따라서 acc + cur[1]은 0 + 800 = 800이다.&lt;/li&gt;
&lt;li&gt;두 번째 acc는 이전 반환값인 800이다. cur는 [0, 500]이기 때문에 acc + cur[1]은 1300이다.&lt;/li&gt;
&lt;li&gt;세 번째 acc + cur[1]은 1300 + 150 = 1450이다.&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;이제 NaN이 아닌 원했던 값을 제대로 반환한다.&lt;/p&gt;
&lt;h4&gt;오늘의 교훈&lt;/h4&gt;
&lt;p&gt;reduce를 사용할 때 가급적 초기값을 설정하는 것을 잊지말자.&lt;br&gt;
a, b 같은 의미없는 변수보다는 acc, cur 처럼 이해하기 좋은 변수명을 사용하자.&lt;br&gt;
메서드를 정확하게 이해하고 사용하자.&lt;/p&gt;</content:encoded></item><item><title><![CDATA[[TIL]] textContent / innerText / innerHTML 차이]]></title><description><![CDATA[HTML element의 텍스트를 가져오거나, 또는 텍스트를 추가해야 하는 경우가 종종 생긴다. 이를 수행할 수 있는 몇 가지 방법이 있다. , , 의 차이점을 알아보고 무엇을 사용하는 것이 좋을지 알아보자. HTML…]]></description><link>https://42kim.github.io/TIL/html_textContent/</link><guid isPermaLink="false">https://42kim.github.io/TIL/html_textContent/</guid><pubDate>Mon, 05 Jul 2021 00:00:00 GMT</pubDate><content:encoded>&lt;p&gt;HTML element의 텍스트를 가져오거나, 또는 텍스트를 추가해야 하는 경우가 종종 생긴다. 이를 수행할 수 있는 몇 가지 방법이 있다. &lt;code class=&quot;language-text&quot;&gt;textContent&lt;/code&gt;, &lt;code class=&quot;language-text&quot;&gt;innerText&lt;/code&gt;, &lt;code class=&quot;language-text&quot;&gt;innerHTML&lt;/code&gt;의 차이점을 알아보고 무엇을 사용하는 것이 좋을지 알아보자.&lt;/p&gt;
&lt;p&gt;HTML이 다음과 같이 작성되었을 때, 각각 어떤 차이를 보일까.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;html&quot;&gt;&lt;pre class=&quot;language-html&quot;&gt;&lt;code class=&quot;language-html&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;div&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
    Do
    you   see &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;span&lt;/span&gt; &lt;span class=&quot;token style-attr&quot;&gt;&lt;span class=&quot;token attr-name&quot;&gt;style&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation attr-equals&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;token style language-css&quot;&gt;&lt;span class=&quot;token property&quot;&gt;display&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; none&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;the difference?&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;span&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;div&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h3&gt;innerHTML&lt;/h3&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;javascript&quot;&gt;&lt;pre class=&quot;language-javascript&quot;&gt;&lt;code class=&quot;language-javascript&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; div &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; document&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;querySelector&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;div&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

console&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;log&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;div&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;innerHTML&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token comment&quot;&gt;// Do&lt;/span&gt;
&lt;span class=&quot;token comment&quot;&gt;// you   see &amp;lt;span style=&quot;display: none&quot;&gt;the difference?&amp;lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;&lt;code class=&quot;language-text&quot;&gt;innerHTML&lt;/code&gt;을 사용해 div 요소에 접근하면, div 태그 내부에 작성한 모든 내용을 토씨 하나 틀린 것 없이 그대로 가져온다. 해당 태그 내부에 작성된 ‘모든 HTML 마크업’을 문자열 형태로 긁어오는 것이다.&lt;/p&gt;
&lt;p&gt;반대로 innerHTML을 사용해 요소에 내용을 설정할 때는 HTML이 파싱된 결과가 화면에 출력된다.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;javascript&quot;&gt;&lt;pre class=&quot;language-javascript&quot;&gt;&lt;code class=&quot;language-javascript&quot;&gt;div&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;innerHTML &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;&amp;lt;span style=&quot;color: red&quot;&gt;hello world&amp;lt;/span&gt;&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;위와 같은 코드가 작성되었다면, 화면에는  &lt;/p&gt;
&lt;p&gt;&lt;span style=&quot;color: red&quot;&gt;hello world&lt;/span&gt;  &lt;/p&gt;
&lt;p&gt;가 출력되는 것이다.&lt;/p&gt;
&lt;p&gt;이 말인 즉슨, innerHTML을 사용하는 동안 XSS 공격을 당할 경우 작성자가 원치 않는 HTML 마크업이 스크립트에 추가 또는 삭제될 수 있다는 위험성이 있다는 것을 의미한다.  &lt;/p&gt;
&lt;p&gt;또한 HTML 파싱에 소요되는 비용이 성능에 영향을 끼친다.&lt;/p&gt;
&lt;h3&gt;innerText&lt;/h3&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;javascript&quot;&gt;&lt;pre class=&quot;language-javascript&quot;&gt;&lt;code class=&quot;language-javascript&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; div &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; document&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;querySelector&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;div&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

console&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;log&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;div&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;innerText&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token comment&quot;&gt;// Do you see&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;&lt;code class=&quot;language-text&quot;&gt;innerText&lt;/code&gt;를 사용하여 div 요소에 접근하면, 브라우저에 출력되는 것과 동일한 결과물을 가져온다. 즉, 사용자에게 ‘보여지는 텍스트’ 값을 읽어오는 것이다. (사용자가 화면을 드래그하여 복사+붙여넣기 한 결과와 동일한 것)&lt;/p&gt;
&lt;p&gt;임의의 줄바꿈과 3칸의 공백은 한 칸의 공백으로 처리되었고, display: none이 적용되어 화면에 보이지 않는 텍스트도 가져오지 않는다. 즉, innetText는 CSS까지 반영된 최종 렌더링 결과를 가져온다는 것을 알 수 있다.&lt;/p&gt;
&lt;p&gt;또한 innerText를 사용하여 값을 설정하는 경우에는 렌더링 된 최신 값을 계산하여 반영하기 위한 &lt;code class=&quot;language-text&quot;&gt;Reflow&lt;/code&gt;가 발생하게 되어 화면의 깜빡거림이 발생하게 되고, 당연히 성능도 그만큼 떨어질 수밖에 없는 것이다.&lt;br&gt;
(과거 버전의 IE 브라우저에서는 textContent를 지원하지 않았기 때문에 innerText는 IE 브라우저에 적합하게 만들어졌다고 한다. 따라서 IE 환경에서는 innerText의 성능이 가장 좋다고 한다. 하지만 IE는 죽었어..)&lt;/p&gt;
&lt;h3&gt;textContent&lt;/h3&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;javascript&quot;&gt;&lt;pre class=&quot;language-javascript&quot;&gt;&lt;code class=&quot;language-javascript&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; div &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; document&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;querySelector&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;div&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

console&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;log&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;div&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;textContent&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token comment&quot;&gt;// Do&lt;/span&gt;
&lt;span class=&quot;token comment&quot;&gt;// you   see the difference?&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;&lt;code class=&quot;language-text&quot;&gt;textContent&lt;/code&gt;는 innerHTML과 innerText의 중간쯤이라고 보면 된다.&lt;/p&gt;
&lt;p&gt;innerHTML과 마찬가지로 공백이나 줄바꿈을 작성된 상태 그대로, display가 none인 자식 태그의 내용도 가져오지만, 태그를 제외한 오로지 ‘텍스트’ 값만 골라서 가져오기 때문이다.&lt;/p&gt;
&lt;p&gt;반면 innerHTML처럼 HTML로 분석해야 하거나, innerText처럼 렌더링 이후의 값을 계산하지 않기 때문에 셋 중에서 가장 성능이 좋다.&lt;/p&gt;
&lt;p&gt;이처럼 각각의 특징을 고려하여&lt;br&gt;
HTML 마크업 원본의 구성을 파악하고 싶다면 innerHTML,&lt;br&gt;
화면에 렌더링 되는 텍스트만 확인하고 싶다면 innerText,&lt;br&gt;
렌더링된 텍스트에 어떤 스타일이 적용되었는지를 확인하려면 textContent를 사용하는 식으로 상황에 맞게 사용하면 좋을 것 같다.&lt;/p&gt;
&lt;h4&gt;참고&lt;/h4&gt;
&lt;p&gt;&lt;a href=&quot;https://developer.mozilla.org/ko/docs/Web/API/Node/textContent&quot;&gt;MDN Web Docs&lt;/a&gt;&lt;br&gt;
&lt;a href=&quot;https://betterprogramming.pub/whats-best-innertext-vs-innerhtml-vs-textcontent-903ebc43a3fc&quot;&gt;What’s Best: innerText vs. innerHTML vs. textContent&lt;/a&gt;&lt;/p&gt;</content:encoded></item><item><title><![CDATA[[JS] addEventListener의 이벤트 핸들러와 this]]></title><description><![CDATA[프로젝트에서  메서드를 사용하면서 겪은 두 가지 문제와 이를 해결한 방법에 관한 글이다. 1 addEventListener…]]></description><link>https://42kim.github.io/TIL/js_addeventlistener/</link><guid isPermaLink="false">https://42kim.github.io/TIL/js_addeventlistener/</guid><pubDate>Tue, 22 Jun 2021 00:00:00 GMT</pubDate><content:encoded>&lt;p&gt;프로젝트에서 &lt;code class=&quot;language-text&quot;&gt;addEventListener&lt;/code&gt; 메서드를 사용하면서 겪은 두 가지 문제와 이를 해결한 방법에 관한 글이다.&lt;/p&gt;
&lt;h4&gt;[1] addEventListener의 이벤트 핸들러에 인수 전달하기&lt;/h4&gt;
&lt;p&gt;프로젝트에서 모달창 여러 개를 만들 일이 생겼다. 각기 다른 버튼을 클릭할 때마다 그에 해당하는 모달을 띄워줘야 했다. A버튼을 클릭하면 A모달이 떠야하고, B버튼을 클릭하면 B모달이 뜨는 식이다. 처음에는 버튼을 클릭했을 때 해당되는 모달을 띄워주는 함수를 각각 만들어 이벤트 핸들러로 등록했다.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;javascript&quot;&gt;&lt;pre class=&quot;language-javascript&quot;&gt;&lt;code class=&quot;language-javascript&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;open_A_modal&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token comment&quot;&gt;// open A modal&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;open_B_modal&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token comment&quot;&gt;// open B modal&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

a&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;addEventListener&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;click&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; openAmodal&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
b&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;addEventListener&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;click&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; openBmodal&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;만들고 나서 생각해보니, 모달 마다 함수를 만들어주는 방법은 굉장히 비효율적이었다. 만약 모달이 100개라면 함수도 100개가 필요한 방식이었다..&lt;/p&gt;
&lt;p&gt;재사용할 수 있는 함수가 필요했다. 모달을 띄워주는 함수를 하나 만들고, 파라미터에 띄우고자 하는 모달을 인수로 넣어주면 해결될 거라고 생각했다.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;javascript&quot;&gt;&lt;pre class=&quot;language-javascript&quot;&gt;&lt;code class=&quot;language-javascript&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;open_modal&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;name&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token comment&quot;&gt;// open &apos;name&apos; modal&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

a&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;addEventListener&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;click&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;open_modal&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token constant&quot;&gt;A&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
b&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;addEventListener&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;click&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;open_modal&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token constant&quot;&gt;B&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;이렇게 코드를 짜고 나니, 버튼을 클릭도 하지 않았는데 이미 모달들이 떠있는 상황이 발생한다. 왜 그럴까. &lt;code class=&quot;language-text&quot;&gt;addEventListener&lt;/code&gt; 메서드의 콜백 함수인 이벤트 핸들러의 특성을 제대로 알지 못했기 때문이다.&lt;/p&gt;
&lt;p&gt;addEventListener 메서드를 사용하면 유저가 서비스를 이용하다가 필요 시 버튼을 click 하면 그제서야 이벤트 핸들러인  &lt;code class=&quot;language-text&quot;&gt;open_modal&lt;/code&gt; 함수가 브라우저에 의해 호출된다. 따라서 위에 내가 한 것처럼 함수 호출문이 아니라 함수 자체를 등록해둬야 한다. 다시 생각해보면 당연하다. &lt;code class=&quot;language-text&quot;&gt;open_modal(A)&lt;/code&gt;는 함수를 호출하는 코드니까.&lt;/p&gt;
&lt;p&gt;그럼 여기서 의문이 생긴다.&lt;/p&gt;
&lt;p&gt;함수에 인수를 전달하려면 함수를 호출해야 하는데, addEventListener에는 함수 호출문을 사용할 수 가 없으니 매개변수를 갖는 함수는 이벤트 핸들러로 사용할 수가 없는 건가??&lt;/p&gt;
&lt;p&gt;당연히 그럴 리가 없다. &lt;/p&gt;
&lt;p&gt;해결 방법은 이벤트 핸들러로 &lt;strong&gt;익명 함수&lt;/strong&gt;를 등록하여 인수를 전달해야 하는 함수를 감싸는 것이다.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;javascript&quot;&gt;&lt;pre class=&quot;language-javascript&quot;&gt;&lt;code class=&quot;language-javascript&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;open_modal&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;name&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token comment&quot;&gt;// open &apos;name&apos; modal&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

a&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;addEventListener&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;click&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;open_modal&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token constant&quot;&gt;A&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
b&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;addEventListener&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;click&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;open_modal&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token constant&quot;&gt;B&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;위에서는 익명 함수인 화살표 함수를 이벤트 핸들러로 등록했고, 해당 익명 함수는 내부에서 파라미터를 갖는 &lt;code class=&quot;language-text&quot;&gt;open_modal&lt;/code&gt; 함수를 호출하는 함수이다. 이 방법을 통해 버튼이 클릭되면 브라우저는 익명 함수를 호출하고, 호출된 익명 함수가 실행되면서 내부 함수를 호출하는 것이다.&lt;/p&gt;
&lt;h4&gt;[2] 이벤트 핸들러 내부에서의 this&lt;/h4&gt;
&lt;p&gt;이제 모달을 띄우는 문제는 해결되었다. 그런데 모달을 닫을 때가 문제다. 나는 닫을 때도 마찬가지로 처음에는 각 모달을 일일이 닫는 함수를 만들었다. 모달을 띄울 때 ‘show’ 클래스를 추가하여 &lt;code class=&quot;language-text&quot;&gt;CSS display&lt;/code&gt;를 &lt;code class=&quot;language-text&quot;&gt;none&lt;/code&gt;에서 &lt;code class=&quot;language-text&quot;&gt;flex&lt;/code&gt;로 바꿔주었으니 닫을 때는 해당 클래스를 제거해주면 될 일이었다.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;javascript&quot;&gt;&lt;pre class=&quot;language-javascript&quot;&gt;&lt;code class=&quot;language-javascript&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;close_A_modal&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    A_modal&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;classList&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;remove&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;show&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;close_B_modal&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    B_modal&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;classList&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;remove&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;show&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;

close_A_button&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;addEventListener&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;click&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; close_A_modal&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
close_B_button&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;addEventListener&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;click&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; close_B_modal&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;마찬가지로 효율적이지 않은 방법이었다. 사실 모달을 닫는 버튼은 모두 동일한 기능을 수행하기에, 이를 일원화 시키는 것이 필요했다. 그런데 close_button을 클릭할 때마다 현재 떠 있는 모달이 A 모달인지 B 모달인지 알 수가 없으니 인수로 전달할 수도 없는 노릇이다. 따라서 click이 발생하는 버튼이 속해있는 모달을 찾아낼 방법이 필요했다. &lt;/p&gt;
&lt;p&gt;클릭이 발생한 버튼은 현재 띄워져 있는 모달의 자식 노드이기 때문에 이 문제는 &lt;code class=&quot;language-text&quot;&gt;parentNode&lt;/code&gt; 프로퍼티나 &lt;code class=&quot;language-text&quot;&gt;closest&lt;/code&gt; 메서드를 사용하여 해결 가능하다.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;javascript&quot;&gt;&lt;pre class=&quot;language-javascript&quot;&gt;&lt;code class=&quot;language-javascript&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;close_modal&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;e&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; cur_modal &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; e&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;target&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;closest&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;.show&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  cur_modal&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;classList&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;remove&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;show&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

close_button&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;addEventListener&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;click&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; close_modal&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;위의 코드는 click 이벤트가 발생하면 생성되는 이벤트 객체의 &lt;code class=&quot;language-text&quot;&gt;target&lt;/code&gt; 프로퍼티를 사용해 이벤트가 발생한 DOM 요소(= close_button)를 찾고, 거기서부터 &lt;code class=&quot;language-text&quot;&gt;closest&lt;/code&gt; 메서드를 사용하여 현재 ‘show’ 클래스를 가지고 있는 모달을 찾는 방식을 사용했다.&lt;/p&gt;
&lt;p&gt;그런데 관련 내용을 알아보다가 &lt;code class=&quot;language-text&quot;&gt;target&lt;/code&gt; 프로퍼티 대신 &lt;code class=&quot;language-text&quot;&gt;this&lt;/code&gt;를 사용할 수도 있다는 것을 알 게 되었다. &lt;/p&gt;
&lt;p&gt;(원래 일반 함수로 호출되는 함수 내부의 &lt;code class=&quot;language-text&quot;&gt;this&lt;/code&gt;는 전역 객체인 &lt;code class=&quot;language-text&quot;&gt;window&lt;/code&gt;를 가리킨다. 그리고 메서드 내부에서의 &lt;code class=&quot;language-text&quot;&gt;this&lt;/code&gt;는 메서드를 호출한 객체를 가리킨다)&lt;/p&gt;
&lt;p&gt;그러나 이벤트 핸들러 내부의 this는 일반 함수처럼 window를 가리키는 것이 아니라, 이벤트가 발생한 DOM 요소를 가리킨다고 한다. 따라서 다음과 같이 사용할 수 있다.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;javascript&quot;&gt;&lt;pre class=&quot;language-javascript&quot;&gt;&lt;code class=&quot;language-javascript&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;close_modal&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;e&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; cur_modal &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;closest&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;.show&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  cur_modal&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;classList&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;remove&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;show&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

close_button&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;addEventListener&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;click&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; close_modal&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;여기서의 this는 click 이벤트가 발생한 DOM 요소인 close_button을 가리킨다. 즉, 이벤트 핸들러 내부의 this는 이벤트 객체의 &lt;code class=&quot;language-text&quot;&gt;currentTarget&lt;/code&gt; 프로퍼티와 동일하다.&lt;br&gt;
(&lt;strong&gt;단!&lt;/strong&gt; HTML 요소의 인라인 형식인 &lt;strong&gt;이벤트 핸들러 어트리뷰터 방식&lt;/strong&gt;에서의 this는 window를 가리킨다. 이벤트 핸들러 어트리뷰트 값으로 지정한 함수는 일반 함수로서 호출되기 때문이다)&lt;/p&gt;
&lt;p&gt;나의 경우처럼, 유사한 기능을 가진 여러 개의 요소들이 같은 이벤트 핸들러를 사용하는 경우 this를 편리하게 사용할 수 있을 것 같다.&lt;/p&gt;
&lt;p&gt;간단해 보였지만 addEventListener를 사용할 때 꼭 알고 있어야 할 두 가지 포인트였다.&lt;/p&gt;
&lt;h4&gt;참고&lt;/h4&gt;
&lt;p&gt;&lt;a href=&quot;https://developer.mozilla.org/ko/docs/Web/API/Event&quot;&gt;MDN Web Docs | Event&lt;/a&gt;&lt;br&gt;
&lt;a href=&quot;https://poiemaweb.com/js-event&quot;&gt;PoiemaWeb&lt;/a&gt;&lt;/p&gt;</content:encoded></item><item><title><![CDATA[[Docs] Dotenv, 환경 변수]]></title><description><![CDATA[는  파일에 설정한 key와 value를 에 할당해주는 모듈이다. 즉 원하는 변수와 값을 환경 변수로 사용할 수 있도록 대신 설정해주는 것이다. 프로젝트에서 서버와 DB를 연결할 때의 옵션(host, port, user, password…]]></description><link>https://42kim.github.io/tutorials/dotenv/</link><guid isPermaLink="false">https://42kim.github.io/tutorials/dotenv/</guid><pubDate>Thu, 17 Jun 2021 00:00:00 GMT</pubDate><content:encoded>&lt;p&gt;&lt;code class=&quot;language-text&quot;&gt;Dotenv&lt;/code&gt;는 &lt;code class=&quot;language-text&quot;&gt;.env&lt;/code&gt; 파일에 설정한 key와 value를 &lt;code class=&quot;language-text&quot;&gt;process.env&lt;/code&gt;에 할당해주는 모듈이다. 즉 원하는 변수와 값을 환경 변수로 사용할 수 있도록 대신 설정해주는 것이다. 프로젝트에서 서버와 DB를 연결할 때의 옵션(host, port, user, password 등)을 코드에 노출시키지 않기 위해 환경 변수로 관리했다.&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;&lt;strong&gt;🚨주의🚨&lt;/strong&gt;&lt;br&gt;
.env 파일을 버전 관리 시스템에 공유하지 않도록 조심해야 한다. 환경 변수로 등록하더라도 .env 파일을 &lt;code class=&quot;language-text&quot;&gt;gitignore&lt;/code&gt; 시키지 않으면 의미가 없다.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;Dotenv는 환경 설정에 있어서 &lt;code class=&quot;language-text&quot;&gt;The Twelv-Factor App&lt;/code&gt;라는 앱 개발 방법론에 기반한다. Twelve-Factor는 &lt;code class=&quot;language-text&quot;&gt;config&lt;/code&gt;를 코드에서 엄격하게 분리하여 환경 변수에 저장하는 것을 지향하는데, 보다 자세한 내용은 &lt;a href=&quot;https://12factor.net/config&quot;&gt;12factor.net&lt;/a&gt;에서 확인할 수 있다.&lt;/p&gt;
&lt;h3&gt;Dotenv 사용법&lt;/h3&gt;
&lt;p&gt;먼저 .env 파일에 환경 변수로 사용할 변수와 값을 입력한다.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;// .env
DB_USER = abcd
DB_PASSWORD = 12345&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;dotenv를 가능한 상단에서 require 한다. 그렇지 않으면 .env 파일에 입력한 내용이 dotenv에 의해 process.env에 로드되기 전에 접근하여 undefined를 반환할 위험이 있다.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;javascript&quot;&gt;&lt;pre class=&quot;language-javascript&quot;&gt;&lt;code class=&quot;language-javascript&quot;&gt;&lt;span class=&quot;token function&quot;&gt;require&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;dotenv&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;config&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;&lt;code class=&quot;language-text&quot;&gt;config&lt;/code&gt; 는 .env 파일을 읽어 내용을 parse 한 뒤, process.env에 변수와 값을 할당하고 parse 된 key들이 담긴 객체를 반환한다. (오류가 발생하면 &lt;code class=&quot;language-text&quot;&gt;error&lt;/code&gt; 키를 반환한다.) &lt;/p&gt;
&lt;h4&gt;Options&lt;/h4&gt;
&lt;p&gt;dotenv를 config 할 때 option을 함께 전달할 수 있다.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;javascript&quot;&gt;&lt;pre class=&quot;language-javascript&quot;&gt;&lt;code class=&quot;language-javascript&quot;&gt;&lt;span class=&quot;token function&quot;&gt;require&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;dotenv&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;config&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; path&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;/.env 파일 경로&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;환경 변수를 담은 .env 파일이 위치한 경로를 지정할 수 있다. 생략 시, 디폴트 경로는 &lt;code class=&quot;language-text&quot;&gt;process.cwd()&lt;/code&gt; 즉, 현재 Node.js 프로세스의 루트 디렉토리이다.&lt;/p&gt;
&lt;p&gt;Path 외에도 &lt;code class=&quot;language-text&quot;&gt;Encoding&lt;/code&gt; 옵션(디폴트 utf8)을 변경하거나,&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;javascript&quot;&gt;&lt;pre class=&quot;language-javascript&quot;&gt;&lt;code class=&quot;language-javascript&quot;&gt;&lt;span class=&quot;token function&quot;&gt;require&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;dotenv&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;config&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; encoding&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;latin1&apos;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;&lt;code class=&quot;language-text&quot;&gt;Debug&lt;/code&gt; 옵션(디폴트 false)을 변경하여 logging을 활성화 시킬 수 있다.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;javascript&quot;&gt;&lt;pre class=&quot;language-javascript&quot;&gt;&lt;code class=&quot;language-javascript&quot;&gt;&lt;span class=&quot;token function&quot;&gt;require&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;dotenv&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;config&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; debug&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; process&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;env&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token constant&quot;&gt;DEBUG&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h4&gt;Parse Rules&lt;/h4&gt;
&lt;p&gt;파싱 엔진은 .env 파일에 key - value 쌍으로 구성된 String 또는 Buffer를 파싱하여 객체를 반환한다. &lt;/p&gt;
&lt;p&gt;.env 파일에 작성한 환경 변수의 파싱 규칙은 다음과 같다.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code class=&quot;language-text&quot;&gt;KEY=value&lt;/code&gt;를 &lt;code class=&quot;language-text&quot;&gt;{KEY: &amp;#39;value&amp;#39;}&lt;/code&gt;로 반환한다.&lt;/li&gt;
&lt;li&gt;공백 라인은 무시한다.&lt;/li&gt;
&lt;li&gt;&lt;code class=&quot;language-text&quot;&gt;#&lt;/code&gt;로 시작하는 라인은 주석으로 처리한다.&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;inner quotes는 유지된다.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;json=&quot;&gt;&lt;pre class=&quot;language-json=&quot;&gt;&lt;code class=&quot;language-json=&quot;&gt;JSON={&amp;quot;KEY&amp;quot;: &amp;quot;value&amp;quot;} 👉👉👉 {JSON: &amp;quot;{\&amp;quot;KEY\&amp;quot;: \&amp;quot;value\&amp;quot;}&amp;quot;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;quote 되지 않은 값의 양끝 공백은 제거된다.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;KEY= some value 👉👉👉 {KEY: &amp;#39;some value&amp;#39;}&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;value의 quote는 escape 된다. (single, double 모두)&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;KEY=&amp;#39;value&amp;#39;, KEY=&amp;quot;value&amp;quot; 👉👉👉 {KEY: &amp;quot;value&amp;quot;}&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;quote 된 value의 양끝 공백은 유지된다.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;KEY=&amp;quot; some value &amp;quot; 👉👉👉 {KEY: &amp;#39; some value &amp;#39;}&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;double quote 된 value는 줄바꿈이 가능하다.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;KEY=&amp;quot;new\nline&amp;quot; 👉👉👉 {KEY: &amp;#39;new
						line&amp;#39;}&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h4&gt;참고&lt;/h4&gt;
&lt;p&gt;&lt;a href=&quot;https://www.npmjs.com/package/dotenv&quot;&gt;npm dotenv&lt;/a&gt;  &lt;/p&gt;</content:encoded></item><item><title><![CDATA[[Docs] Helmet 모듈]]></title><description><![CDATA[Helmet 이란? 은 다양한 HTTP header 설정을 통해 애플리케이션의 보안 강화를 도와주는 모듈이자,  프레임워크에서 호환되는 미들웨어 묶음이다.   사용법 Helmet은 1…]]></description><link>https://42kim.github.io/tutorials/helmet/</link><guid isPermaLink="false">https://42kim.github.io/tutorials/helmet/</guid><pubDate>Wed, 16 Jun 2021 00:00:00 GMT</pubDate><content:encoded>&lt;h3&gt;Helmet 이란?&lt;/h3&gt;
&lt;p&gt;&lt;code class=&quot;language-text&quot;&gt;Helmet&lt;/code&gt;은 다양한 HTTP header 설정을 통해 애플리케이션의 보안 강화를 도와주는 모듈이자, &lt;code class=&quot;language-text&quot;&gt;Expresss&lt;/code&gt; 프레임워크에서 호환되는 미들웨어 묶음이다.  &lt;/p&gt;
&lt;h4&gt;사용법&lt;/h4&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;javascript&quot;&gt;&lt;pre class=&quot;language-javascript&quot;&gt;&lt;code class=&quot;language-javascript&quot;&gt;app&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;use&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;helmet&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Helmet은 15개의 하위 미들웨어로 구성되어 있는데, 위 방법으로 사용할 경우 11개의 하위 미들웨어가 디폴트로 포함되어 있다. &lt;/p&gt;
&lt;p&gt;따라서 위의 코드는 아래의 코드와 동일하다.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;javascript&quot;&gt;&lt;pre class=&quot;language-javascript&quot;&gt;&lt;code class=&quot;language-javascript&quot;&gt;app&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;use&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;helmet&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;contentSecurityPolicy&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
app&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;use&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;helmet&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;dnsPrefetchControl&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
app&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;use&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;helmet&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;expectCt&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
app&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;use&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;helmet&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;frameguard&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
app&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;use&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;helmet&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;hidePoweredBy&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
app&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;use&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;helmet&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;hsts&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
app&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;use&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;helmet&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;ieNoOpen&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
app&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;use&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;helmet&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;noSniff&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
app&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;use&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;helmet&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;permittedCrossDomainPolicies&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
app&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;use&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;helmet&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;referrerPolicy&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
app&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;use&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;helmet&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;xssFilter&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h4&gt;Options&lt;/h4&gt;
&lt;p&gt;다음과 같이 특정 하위 미들웨어에 대한 옵션을 설정할 수도 있다.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;javascript&quot;&gt;&lt;pre class=&quot;language-javascript&quot;&gt;&lt;code class=&quot;language-javascript&quot;&gt;app&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;use&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;
  &lt;span class=&quot;token function&quot;&gt;helmet&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token comment&quot;&gt;// set custom option&lt;/span&gt;
    referrerPolicy&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; policy&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;no-referrer&quot;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;token comment&quot;&gt;// disable middleware&lt;/span&gt;
    contentSecurityPolicy&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token boolean&quot;&gt;false&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h3&gt;하위 미들웨어&lt;/h3&gt;
&lt;h4&gt;Defaults&lt;/h4&gt;
&lt;p&gt;&lt;code class=&quot;language-text&quot;&gt;app.use(helmet());&lt;/code&gt;에 의해 디폴트로 실행되는 미들웨어들이다. &lt;/p&gt;
&lt;p&gt;&lt;span style=&quot;color:red&quot;&gt;(각각에 대한 설명은 관련 내용 심화 학습 후 보강)&lt;/span&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code class=&quot;language-text&quot;&gt;helmet.contentSecurityPolicy(options)&lt;/code&gt;&lt;br&gt;
XSS 공격을 감지하고 일부 완화시켜주는 Content Security Policy(CSP) 헤더 설정&lt;/li&gt;
&lt;li&gt;&lt;code class=&quot;language-text&quot;&gt;helmet.expectCt(options)&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;&lt;code class=&quot;language-text&quot;&gt;helmet.referrerPolicy(options)&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;&lt;code class=&quot;language-text&quot;&gt;helmet.hsts(options)&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;&lt;code class=&quot;language-text&quot;&gt;helmet.noSniff()&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;&lt;code class=&quot;language-text&quot;&gt;helmet.dnsPrefetchControl(options)&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;&lt;code class=&quot;language-text&quot;&gt;helmet.ieNoOpen()&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;&lt;code class=&quot;language-text&quot;&gt;helmet.frameguard(options)&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;&lt;code class=&quot;language-text&quot;&gt;helmet.permittedCrossDomainPolicies(options)&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;&lt;code class=&quot;language-text&quot;&gt;helmet.hidePoweredBy()&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;&lt;code class=&quot;language-text&quot;&gt;helmet.xssFilter()&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h4&gt;Extras&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code class=&quot;language-text&quot;&gt;helmet.crossOriginEmbedderPolicy()&lt;/code&gt;&lt;br&gt;
허가되지 않은 cross-origin 자원의 로드를 방지하는 Cross-Origin-Embedder-Policy(COEP) 헤더 설정&lt;/li&gt;
&lt;li&gt;&lt;code class=&quot;language-text&quot;&gt;helmet.crossOriginOpenerPolicy()&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;&lt;code class=&quot;language-text&quot;&gt;helmet.crossOriginResourcePolicy()&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;&lt;code class=&quot;language-text&quot;&gt;helmet.originAgentCluster()&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h4&gt;참고&lt;/h4&gt;
&lt;p&gt;&lt;a href=&quot;https://www.npmjs.com/package/helmet&quot;&gt;helmet - npm&lt;/a&gt;&lt;br&gt;
&lt;a href=&quot;https://developer.mozilla.org/en-US/docs/Web/HTTP/CSP&quot;&gt;MDN Web Docs&lt;/a&gt;&lt;/p&gt;</content:encoded></item><item><title><![CDATA[[알고리즘] BOJ 17298번 오큰수 (JavaScript)]]></title><description><![CDATA[BOJ 17298번 오큰수 JavaScript 풀이 Stack…]]></description><link>https://42kim.github.io/algorithm/BOJ17298오큰수/</link><guid isPermaLink="false">https://42kim.github.io/algorithm/BOJ17298오큰수/</guid><pubDate>Thu, 10 Jun 2021 00:00:00 GMT</pubDate><content:encoded>&lt;p&gt;&lt;a href=&quot;https://www.acmicpc.net/problem/17298&quot;&gt;BOJ 17298번 오큰수&lt;/a&gt; JavaScript 풀이&lt;/p&gt;
&lt;p&gt;Stack 자료구조 문제다. 내가 처음 시도했던 풀이는 스택을 제대로 활용하지 못한 풀이였다. 따라서 시간 초과로 인해 통과할 수 없었다. 스택을 제대로 이해하여 시간복잡도를 줄이는 풀이를 사용해야 통과할 수 있었다.&lt;/p&gt;
&lt;h4&gt;문제&lt;/h4&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 630px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/b2eec9abc0701a4144978e46382cc62a/5f652/boj17298.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 82.27848101265823%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAQCAYAAAAWGF8bAAAACXBIWXMAABJ0AAASdAHeZh94AAABdElEQVQ4y51U2Y7DIAzk//+y6suutjkg3JB4GYhR07TdapFGMeBrbBNhjaPLeKXr5Yd4bdv2Un53l1IiobWmGGM9nOeJtDZVNsZUBazgA3nvu6GUst+ZYr8sS78TIYQeCTIrphQp51xlfPkcukiAbVJMPaHqUGl7SP2eCr7runaqj/KzfaU8TaCqC5ZCe66UlFKVjnOOrLUNzvY9SmLscQ9ZjMNQawCHc3HcnLU9FBioIYBzBEJ57u/hFKURbi/2fxdTZohRqhoZEVFcoGUTemYhxNoUBnRxzk07OARd7i4UAHbMhpA/djgvujthZYb/oBwnyuimLPDFQc5nhzxCrcuO8rq9DVBqqGlUlnzEHG0HwFnO7fw2SfoeJBkf90E/A7rClMHGezbGlpF4BsyX781qI3IG7KEnVGmKLHMXSoR1b8oj8AIwxBqz9gnlQZUsQjNE2o8A5WFW9HWbSbtS6/SKchnsReFvof+kjD+O7U/tOTC7vzl+57tcZmiGAAAAAElFTkSuQmCC&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;문제&quot;
        title=&quot;문제&quot;
        src=&quot;/static/b2eec9abc0701a4144978e46382cc62a/f058b/boj17298.png&quot;
        srcset=&quot;/static/b2eec9abc0701a4144978e46382cc62a/c26ae/boj17298.png 158w,
/static/b2eec9abc0701a4144978e46382cc62a/6bdcf/boj17298.png 315w,
/static/b2eec9abc0701a4144978e46382cc62a/f058b/boj17298.png 630w,
/static/b2eec9abc0701a4144978e46382cc62a/40601/boj17298.png 945w,
/static/b2eec9abc0701a4144978e46382cc62a/78612/boj17298.png 1260w,
/static/b2eec9abc0701a4144978e46382cc62a/5f652/boj17298.png 1302w&quot;
        sizes=&quot;(max-width: 630px) 100vw, 630px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;h4&gt;잘못된 접근&lt;/h4&gt;
&lt;p&gt;[1] 마지막 원소를 제외한 수열(arr)의 원소를 순회하면서 (마지막 원소의 오큰수는 존재하지 않는다)&lt;/p&gt;
&lt;p&gt;[2] 다시 해당 원소의 바로 다음 원소부터 배열의 끝까지 탐색하여&lt;/p&gt;
&lt;p&gt;[3] 자기 자신보다 큰 수가 나오면 그것이 오큰수이기 때문에 스택에 추가한 뒤 즉시 탐색을 멈추고(break)&lt;/p&gt;
&lt;p&gt;[4] 자기 자신보다 큰 수가 없으면 스택에 추가한다.&lt;/p&gt;
&lt;p&gt;[5] [2]번에서의 순회가 끝났는데 스택이 비었다면 정답 배열에 -1을, 그렇지 않다면 스택에 들어있는 수를 정답 배열에 추가했다.&lt;/p&gt;
&lt;p&gt;[6] 마지막 원소의 오큰수는 언제나 없으므로 정답 배열에 -1을 추가한다.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;javascript&quot;&gt;&lt;pre class=&quot;language-javascript&quot;&gt;&lt;code class=&quot;language-javascript&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; input &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;require&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;fs&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;readFileSync&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;/dev/stdin&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;toString&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;split&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;\n&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;token constant&quot;&gt;N&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;Number&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;input&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; arr &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; input&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;split&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot; &quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;map&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;e&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;Number&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;e&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

&lt;span class=&quot;token keyword&quot;&gt;let&lt;/span&gt; answer &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;let&lt;/span&gt; stack &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;for&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;let&lt;/span&gt; i&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt; i&lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token constant&quot;&gt;N&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt; i&lt;span class=&quot;token operator&quot;&gt;++&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;for&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;let&lt;/span&gt; j&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;i&lt;span class=&quot;token operator&quot;&gt;+&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt; j&lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token constant&quot;&gt;N&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt; j&lt;span class=&quot;token operator&quot;&gt;++&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
        &lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;arr&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;i&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt; arr&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;j&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
            stack&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;push&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;arr&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;j&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
            &lt;span class=&quot;token keyword&quot;&gt;break&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
        &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;stack&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;length&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; answer&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;push&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;stack&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;pop&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;else&lt;/span&gt; answer&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;push&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
answer&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;push&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

console&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;log&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;answer&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;join&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot; &quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;스택이라는 자료구조의 의미를 제대로 살리지 못한 이 풀이의 시간복잡도는 O(N*N)이다.&lt;/p&gt;
&lt;p&gt;모든 원소에 대해서, 다시 그 다음 원소부터 배열의 끝까지 탐색해야 하기 때문이다. &lt;/p&gt;
&lt;h4&gt;Stack 활용하기&lt;/h4&gt;
&lt;p&gt;[1] 정답 배열을 원소의 개수만큼 -1로 초기화한다.&lt;/p&gt;
&lt;p&gt;[2] 수열을 순회하면서 이번에는 원소의 인덱스를 stack에 담는다.&lt;/p&gt;
&lt;p&gt;[3] 만약 순회 중인 원소가 stack의 top 인덱스에 해당되는 원소보다 작다면, 그 수는 stack의 top에 해당되는 수의 오큰수가 아니기에 인덱스를 stack에 추가한다.&lt;/p&gt;
&lt;p&gt;[4] 반대로 순회 중인 원소가 크다면, 그 수는 이때까지 stack에 쌓여있는 인덱스에 해당하는 수들의 오큰수라는 뜻이다. 따라서 자신을 오큰수로 갖지 않는 즉, 자신보다 큰 수에 해당하는 인덱스까지 stack을 pop하고, 마지막으로 자신의 인덱스를 stack에 추가한다.&lt;/p&gt;
&lt;p&gt;[5] 이때 stack에서 pop 되는 인덱스에 해당되는 정답 배열의 자리에 위치한 -1을 [4]에서 찾은 오큰수로 교체한다.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;javascript&quot;&gt;&lt;pre class=&quot;language-javascript&quot;&gt;&lt;code class=&quot;language-javascript&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; input &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;require&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;fs&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;readFileSync&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;/dev/stdin&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;toString&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;split&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;\n&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;token constant&quot;&gt;N&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;Number&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;input&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; arr &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; input&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;split&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot; &quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;map&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;e&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;Number&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;e&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

&lt;span class=&quot;token keyword&quot;&gt;let&lt;/span&gt; answer &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; Array&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;from&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;length&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;token constant&quot;&gt;N&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;let&lt;/span&gt; stack &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;for&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;let&lt;/span&gt; i&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt; i&lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token constant&quot;&gt;N&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt; i&lt;span class=&quot;token operator&quot;&gt;++&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;while&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;arr&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;stack&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;stack&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;length&lt;span class=&quot;token operator&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt; arr&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;i&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;&amp;amp;&amp;amp;&lt;/span&gt; stack&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;length&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
        answer&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;stack&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;pop&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; arr&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;i&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
    stack&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;push&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;i&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;

console&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;log&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;answer&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;join&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot; &quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;(첫 번째 원소의 인덱스를 stack에 추가한 상태로 순회를 시작했다)&lt;/p&gt;
&lt;p&gt;위의 방법을 사용하여 -1로 초기화 되어 있던 정답 배열에서 오큰수가 존재하는 수만 해당 오큰수로 바꿔주었다. stack 자료구조를 활용하여 시간복잡도를 O(N)으로 줄일 수 있었던 것 같다.&lt;/p&gt;
&lt;p&gt;이 풀이는 메모리 200868KB, 시간 888ms 정도로 통과가 된다.&lt;/p&gt;
&lt;p&gt;최초에 문제를 접했을 때는 완전 탐색 방법을 사용하는 쉬운 문제라고 생각했다. 하지만 stack의 의미를 제대로 이해하고 사용하지 않으면 풀 수 없는 문제였다. stack에 원소를 넣다 빼는 게 문제에서 무엇을 의미하는지, stack에 무엇을 넣을 것인지, 잘 고민해봐야 했다..&lt;/p&gt;
&lt;p&gt;풀이에서 잘못된 부분이 있거나, 더 좋은 풀이가 있다면 적극적으로 제보 부탁드립니다!&lt;/p&gt;</content:encoded></item><item><title><![CDATA[[TIL] 깊은 복사/얕은 복사]]></title><description><![CDATA[…]]></description><link>https://42kim.github.io/TIL/js_objectcopy/</link><guid isPermaLink="false">https://42kim.github.io/TIL/js_objectcopy/</guid><pubDate>Tue, 08 Jun 2021 00:00:00 GMT</pubDate><content:encoded>&lt;h4&gt;객체의 얕은 복사와 깊은 복사&lt;/h4&gt;
&lt;p&gt;&lt;a href=&quot;https://42kim.github.io/TIL/js_objecttype/&quot;&gt;이전 글&lt;/a&gt;을 통해 자바스크립트에서 객체를 복사하면 어떤 일이 일어나는지에 대해서 확인했다. 객체가 할당된 변수를 새로운 변수에 할당하면, 객체 그 자체가 아니라 객체의 참조 값이 복사되기 때문에 결국 두 변수는 하나의 동일한 객체를 가리키게 된다는 것이다.&lt;/p&gt;
&lt;p&gt;그렇다면 진짜로 객체를 복제해서 같은 값을 가진 ‘동일하지 않은 새로운 객체’를 만들어내려면 어떻게 해야할까? 이때 알아야할 개념이 &lt;code class=&quot;language-text&quot;&gt;얕은 복사(shallow copy)&lt;/code&gt;와 &lt;code class=&quot;language-text&quot;&gt;깊은 복사(deep copy)&lt;/code&gt;일 것 같다.&lt;/p&gt;
&lt;h4&gt;객체 복사하기&lt;/h4&gt;
&lt;p&gt;&lt;strong&gt;[1] 반복문을 사용해 직접 복사하기&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;먼저 새로운 객체를 생성한 뒤, 기존 객체의 프로퍼티들을 순회하며 원시 값을 일일이 복사해주는 방법이 있다. 원시 값은 객체와 다르게, 새로운 값을 생성하기 때문에 가능한 방법이다.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;javascript&quot;&gt;&lt;pre class=&quot;language-javascript&quot;&gt;&lt;code class=&quot;language-javascript&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;let&lt;/span&gt; person &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    name&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;Kim&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
    age&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;30&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

&lt;span class=&quot;token keyword&quot;&gt;let&lt;/span&gt; copyObj &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

&lt;span class=&quot;token keyword&quot;&gt;for&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;let&lt;/span&gt; key &lt;span class=&quot;token keyword&quot;&gt;in&lt;/span&gt; person&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    copyObj&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;key&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; person&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;key&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

console&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;log&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;person &lt;span class=&quot;token operator&quot;&gt;===&lt;/span&gt; copyObj&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;	&lt;span class=&quot;token comment&quot;&gt;// false&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;위 예시에서는 &lt;code class=&quot;language-text&quot;&gt;for..in&lt;/code&gt;문을 사용하여 객체의 프로퍼티를 새로운 객체에 직접 할당했다. 이때 person 객체의 프로퍼티가 원시 타입의 값이었기 때문에 copyObj의 프로퍼티에 할당될 때 동일한 내용의 새로운 값이 생성되었다. 따라서 perosn 객체와 copyObj 객체를 비교했을 때 false, 즉 서로 다른 메모리 공간에 존재하는 객체임을 확인할 수 있는 것이다.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;[2] Object.assign 사용하기&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;&lt;code class=&quot;language-text&quot;&gt;Object.assign&lt;/code&gt; 메서드를 사용하여 객체를 복사하는 방법도 있다. Object.assgin의 첫 번째 인수로는 복사를 받아올 객체, 두 번째 인수로는 복사의 대상이 되는 객체를 전달하면 된다. 두 번째 인수로 전달되는 객체의 프로퍼티가 첫 번째 인수로 전달되는 객체의 프로퍼티로 복사되는 방식이다.&lt;/p&gt;
&lt;p&gt;이때, 두 번째 인수부터 여러 개의 객체를 전달할 수 있다. 만약 객체들의 프로퍼티 중 중복되는 이름을 가진 프로퍼티가 있는 경우, 기존의 값이 덮어씌워 진다.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;javascript&quot;&gt;&lt;pre class=&quot;language-javascript&quot;&gt;&lt;code class=&quot;language-javascript&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;let&lt;/span&gt; copyObj &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

&lt;span class=&quot;token keyword&quot;&gt;let&lt;/span&gt; person &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    name&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;Kim&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
    age&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;30&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

Object&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;assgin&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;copyObj&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; person&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

console&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;log&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;copyObj&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;				&lt;span class=&quot;token comment&quot;&gt;// {name: &quot;Kim&quot;, age: 30}&lt;/span&gt;
console&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;log&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;copyObj &lt;span class=&quot;token operator&quot;&gt;===&lt;/span&gt; person&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;	&lt;span class=&quot;token comment&quot;&gt;// false&lt;/span&gt;

&lt;span class=&quot;token comment&quot;&gt;// 객체 여러 개 전달하기&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;let&lt;/span&gt; obj1 &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;name&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;Lee&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;let&lt;/span&gt; obj2 &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;age&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;40&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

Object&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;assgin&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;copyObj&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; obj1&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; obj2&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

console&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;log&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;copyObj&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;				&lt;span class=&quot;token comment&quot;&gt;// {name: &quot;Lee&quot;, age: 40}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h4&gt;중첩 객체 복사하기&lt;/h4&gt;
&lt;p&gt;위에서 예시를 통해 살펴본 복사는 객체의 프로퍼티가 원시 타입 값(문자열, 숫자)인 경우였다. 하지만 객체는 프로퍼티로 또다른 객체를 가질 수 있다. 이런 중첩 객체를 위와 같은 방식으로 프로퍼티를 복사하면, 프로퍼티인 객체 그 자체가 아니라 프로퍼티인 객체의 참조 값이 복사될 것이다. &lt;/p&gt;
&lt;p&gt;객체를 프로퍼티 값으로 갖는 다중으로 중첩된 객체가 있을 때, 가장 첫 번째 단계의 프로퍼티인 객체만 복사하는 것을 &lt;strong&gt;얕은 복사&lt;/strong&gt;라고 한다. &lt;strong&gt;깊은 복사&lt;/strong&gt;는 더 깊은 단계의 프로퍼티인 객체들까지 모두 복사하는 것을 의미한다.&lt;/p&gt;
&lt;p&gt;그렇다면 중첩 객체에서 어떻게 프로퍼티인 객체들까지 완전하게 복사할 수 있을까. 위에서 설명한 복사 방법을 사용하면 깊은 복사가 될까?&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;[1] Object.assign은 얕은 복사만 가능하다&lt;/strong&gt;&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;javascript&quot;&gt;&lt;pre class=&quot;language-javascript&quot;&gt;&lt;code class=&quot;language-javascript&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;let&lt;/span&gt; copyObj &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;let&lt;/span&gt; person &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
	name&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;Kim&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
    address&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
        country&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;Korea&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
        city&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;Seoul&quot;&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

Object&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;assgin&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;copyObj&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; person&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
console&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;log&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;copyObj &lt;span class=&quot;token operator&quot;&gt;===&lt;/span&gt; person&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;					&lt;span class=&quot;token comment&quot;&gt;// false&lt;/span&gt;
console&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;log&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;copyObj&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;address &lt;span class=&quot;token operator&quot;&gt;===&lt;/span&gt; person&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;address&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;	&lt;span class=&quot;token comment&quot;&gt;// true&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;따라서 이 경우, person의 프로퍼티인 address를 수정하면 copyObj의 address가 같이 수정되는 문제가 발생한다. 얕은 복사가 이뤄졌기 때문이다.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;[2] lodash 라이브러리 사용하기&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;사실 &lt;em&gt;[1] 반복문을 사용해 직접 복사하기&lt;/em&gt; 방법을 사용하면 깊은 복사가 가능하다. 그러나 중첩이 깊어지고 객체의 크기가 아주 커진다면 반복문으로 일일이 프로퍼티를 원시 단위에서 복사하는 것은 너무나 복잡한 일이 될 것이다.&lt;/p&gt;
&lt;p&gt;자바스크립트 라이브러리인 &lt;code class=&quot;language-text&quot;&gt;lodash&lt;/code&gt;에는 &lt;code class=&quot;language-text&quot;&gt;.cloneDeep(obj)&lt;/code&gt;이라는 메서드가 있는데, 이걸 사용하여 깊은 복사를 처리하는 방법이 있다. 자세한 내용은 &lt;a href=&quot;https://lodash.com/&quot;&gt;👉링크&lt;/a&gt;&lt;/p&gt;
&lt;h4&gt;결론&lt;/h4&gt;
&lt;p&gt;자바스크립트에서 객체는 참조에 의한 복사가 이루어진다. 그런데 객체를 복제하는 내장 메서드를 지원하지 않기 때문에 새로운 객체를 복제하여 사용하는 데에 어려움(그리고 귀찮음..)이 있다. 사실 객체를 복제하여 사용할 일은 거의 없다고는하지만, 위의 내용을 잘 기억해두고 (알고리즘 문제를 풀 때처럼..) 헷갈리는 일이 없도록 하는 것이 좋겠다.&lt;/p&gt;
&lt;h4&gt;참고&lt;/h4&gt;
&lt;p&gt;&lt;a href=&quot;https://ko.javascript.info/object-copy#ref-1073&quot;&gt;객체 복사, 병합과 Object.assign&lt;/a&gt;&lt;br&gt;
&lt;a href=&quot;https://developer.mozilla.org/ko/docs/Web/JavaScript/Reference/Global_Objects/Object/assign&quot;&gt;Object.assign()&lt;/a&gt;&lt;br&gt;
원시 값과 객체의 비교 | 모던 자바스크립트 Deep Dive | 위키북스&lt;/p&gt;</content:encoded></item><item><title><![CDATA[[TIL] 원시 값과 객체의 복사]]></title><description><![CDATA[…]]></description><link>https://42kim.github.io/TIL/js_objecttype/</link><guid isPermaLink="false">https://42kim.github.io/TIL/js_objecttype/</guid><pubDate>Sat, 05 Jun 2021 00:00:00 GMT</pubDate><content:encoded>&lt;p&gt;알고리즘 문제를 풀 때 종종 배열을 복사해서 사용해야 하는 경우가 발생한다. 이때 배열을 제대로 복사하지 못하여 원본 배열까지 수정되는 바람에 정답을 한참 동안 못 구한 적이 있다. 자바스크립트의 복사에 대해 제대로 이해하고 넘어가자.&lt;/p&gt;
&lt;h4&gt;원시 타입과 객체 타입&lt;/h4&gt;
&lt;p&gt;자바스크립트의 7가지 데이터 타입(숫자, 문자열, 불리언, null, undeifined, 심벌, 객체 타입)은 크게 원시 타입과 객체 타입으로 나뉜다. 두 타입의 주요 차이는 다음과 같다.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;원시 값은 변경 불가능한 값(immutable value)이다. 반면 객체 타입의 값은 변경 가능한 값(mutable value)이다.&lt;/li&gt;
&lt;li&gt;원시 값을 변수에 할당하면 변수(확보된 메모리 공간)에는 &lt;strong&gt;실제 값&lt;/strong&gt;이 저장된다. 반면 객체를 변수에 할당하면 변수에는 &lt;strong&gt;참조 값&lt;/strong&gt;이 저장된다.&lt;/li&gt;
&lt;li&gt;원시 값을 갖는 변수를 다른 변수에 할당하면 원본의 원시 값이 복사되어 전달된다. 이를 값에 의한 전달(pass by value)라고한다. 반면 객체를 가리키는 변수를 다른 변수에 할당하면 원본의 참조 값이 복사되어 전달된다.(pass by reference)&lt;/li&gt;
&lt;/ul&gt;
&lt;h4&gt;원시 값의 불변성&lt;/h4&gt;
&lt;p&gt;원시 값이 변경 불가능하다는 뜻은 변수에 새로운 값을 재할당 할 수 없다는 의미가 아니다. 최초에 원시 값을 저장하기 위해 확보한 메모리 공간에 들어있는 값을 변경할 수 없다는 의미이다. 만약 원시 값이 담긴 변수에 새로운 값을 할당하는 경우, 새로운 값을 담을 새로운 메모리 공간을 확보해야 한다. 따라서 변수가 가리키던 메모리의 주소도 바뀌게 된다. 반대로 말하면 원시 값을 할당한 변수는 재할당 이외에 변수 값을 변경할 수 있는 방법이 없는 것이다. 이러한 값의 특성을 &lt;strong&gt;불변성(immutability)&lt;/strong&gt;라고 한다.&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;원시 타입인 문자열을 생각해보자.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;javascript&quot;&gt;&lt;pre class=&quot;language-javascript&quot;&gt;&lt;code class=&quot;language-javascript&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;let&lt;/span&gt; string &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;hello&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
string&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;H&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
console&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;log&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;string&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;	&lt;span class=&quot;token comment&quot;&gt;// &apos;hello&apos;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;값을 재할당 하지 않고는 원래의 값을 변경할 수 없다. 원시 값의 불변성 때문이다.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h4&gt;원시 값의 복사&lt;/h4&gt;
&lt;p&gt;원시 값이 담긴 변수를 복사하면 다음과 같이 동작한다.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;javascript&quot;&gt;&lt;pre class=&quot;language-javascript&quot;&gt;&lt;code class=&quot;language-javascript&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;let&lt;/span&gt; number &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;100&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;let&lt;/span&gt; copy &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; number&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

console&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;log&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;number&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;	&lt;span class=&quot;token comment&quot;&gt;// 100&lt;/span&gt;
console&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;log&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;copy&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;		&lt;span class=&quot;token comment&quot;&gt;// 100&lt;/span&gt;

number &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;200&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

console&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;log&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;number&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;	&lt;span class=&quot;token comment&quot;&gt;// 200&lt;/span&gt;
console&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;log&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;copy&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;		&lt;span class=&quot;token comment&quot;&gt;// 100&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;이때 중요한 점은 number에 담긴 100이라는 값과 copy에 담긴 100이라는 값은 서로 다른 메모리 공간에 저장된 별개의 값이라는 것이다. 따라서 number 변수에 새로운 값을 재할당 하더라도 copy 변수에는 어떠한 영향도 주지 않는다. 이는 원시 값은 &lt;strong&gt;값에 의한 전달&lt;/strong&gt;이 되기 때문이다.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;javascript&quot;&gt;&lt;pre class=&quot;language-javascript&quot;&gt;&lt;code class=&quot;language-javascript&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;let&lt;/span&gt; number &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;100&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;let&lt;/span&gt; copy &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; number&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

&lt;span class=&quot;token comment&quot;&gt;// number라는 식별자가 0x000000F2라는 메모리 공간을 확보한다.&lt;/span&gt;
&lt;span class=&quot;token comment&quot;&gt;// 100이라는 값이 0x000000F2 라는 메모리 공간에 저장된다.&lt;/span&gt;
&lt;span class=&quot;token comment&quot;&gt;// copy라는 식별자는 0x00001332라는 새로운 메모리 공간을 확보한다.&lt;/span&gt;
&lt;span class=&quot;token comment&quot;&gt;// 0x00001332라는 메모리 주소에 100이라는 값이 저장된다.&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;blockquote&gt;
&lt;p&gt;변수는 식별자이다. 식별자는 메모리 주소를 통해 메모리 공간에 저장된 값에 접근한다. 따라서 엄밀히 말하면 원시 값도 변수에 값 그 자체가 아니라 메모리 주소를 전달하는 것이다. 다만, 전달된 메모리 주소를 통해 메모리 공간에 접근하면 그곳에 바로 값이 있다.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h4&gt;참조 값이 전달되는, 변경 가능한 값 “객체”&lt;/h4&gt;
&lt;p&gt;바로 앞의 설명처럼 원시 값은 변수가 기억하는 메모리 주소를 따라가면 바로 값에 도달할 수 있다. &lt;/p&gt;
&lt;p&gt;그러나 객체는 다르다. 객체를 할당한 변수가 기억하는 메모리 주소를 따라가면 객체의 값이 있는 것이 아니라, &lt;strong&gt;참조 값(reference value)&lt;/strong&gt;이 있다. 다시 이 참조 값을 따라가면 비로소 본래의 객체 값이 저장된 메모리 공간이 있다. 즉 참조 값은 생성된 객체가 저장된 메모리 공간의 주소인 것이고, 변수는 ‘메모리 공간의 주소가 저장된 메모리 주소’를 기억하는 것이다.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;javascript&quot;&gt;&lt;pre class=&quot;language-javascript&quot;&gt;&lt;code class=&quot;language-javascript&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;let&lt;/span&gt; person &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
   name&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;Kim&quot;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

&lt;span class=&quot;token comment&quot;&gt;// person이라는 식별자가 0x000000F2라는 주소의 메모리 공간을 확보한다.&lt;/span&gt;
&lt;span class=&quot;token comment&quot;&gt;// {name: &quot;Kim&quot;} 이라는 객체가 0x00001332 라는 새로운 메모리 공간에 생성된다.&lt;/span&gt;
&lt;span class=&quot;token comment&quot;&gt;// 0x000000F2 메모리 주소에 0x00001332라는 메모리 주소(= 참조 값)가 저장된다.&lt;/span&gt;
&lt;span class=&quot;token comment&quot;&gt;// person이 기억하는 메모리 주소 0x000000F2를 따라가면, 참조 값 0x00001332가 있고&lt;/span&gt;
&lt;span class=&quot;token comment&quot;&gt;// 다시 참조 값 0x00001332를 따라가면 해당 메모리 공간에는 {name: &quot;Kim&quot;}이라는 객체가 있다.&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;원시 값은 변경 불가능한 값이라서 변수의 값을 변경하려면 재할당이라는 방법뿐이라고 했다. 그러나 객체는 변경 가능한 값이기 때문에, 재할당 없이도 프로퍼틸을 추가/삭제하는 것처럼 변수에 할당된 객체를 직접 변경할 수 있다. &lt;/p&gt;
&lt;p&gt;객체를 할당한 변수는 객체 그 자체가 아니라, 참조 값을 기억한다고 했다. 따라서 객체 자체에서 값이 변경되더라도 그 객체를 가리키고 있는 참조 값은 변하지 않는다. 변수는 참조 값을 기억하고 있기 때문에, 재할당 없이도 변수가 가리키는 객체의 값이 바뀔 수 있는 것이다.&lt;/p&gt;
&lt;h4&gt;객체의 복사&lt;/h4&gt;
&lt;blockquote&gt;
&lt;p&gt;결국 복사할 때 문제가 되는 것은 객체다. 객체는 변경 가능한 값(mutable value)이면서 참조 값이 전달(pass by reference)되기 때문이다.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;위에서 객체가 어떤 식으로 참조되는 지를 살펴봤다. 따라서 객체가 할당된 변수를 복사하면, 객체 그 자체 값이 복사되는 것이 아니라 &lt;strong&gt;참조 값&lt;/strong&gt;이 복사되는 것을 할 수 있다.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;javascript&quot;&gt;&lt;pre class=&quot;language-javascript&quot;&gt;&lt;code class=&quot;language-javascript&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;let&lt;/span&gt; person &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    name&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;Kim&quot;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

&lt;span class=&quot;token keyword&quot;&gt;let&lt;/span&gt; copy &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; person&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

&lt;span class=&quot;token comment&quot;&gt;// copy라는 새로운 변수는 0x00000524 라는 새로운 메모리 주소를 가리킨다.&lt;/span&gt;
&lt;span class=&quot;token comment&quot;&gt;// 그 메모리 주소에는 {name: &quot;Kim&quot;} 객체가 바로 담기는 것이 아니라, &lt;/span&gt;
&lt;span class=&quot;token comment&quot;&gt;// 객체를 담고 있는 메모리 주소를 가리키는 주소인 참조 값 0x00001332가 담긴다.&lt;/span&gt;
&lt;span class=&quot;token comment&quot;&gt;// person과 copy는 각각 0x000000F2와 0x000000524라는 메모리 주소를 기억하지만&lt;/span&gt;
&lt;span class=&quot;token comment&quot;&gt;// 두 메모리 주소는 0x00001332 라는 동일한 참조 값을 갖는다.&lt;/span&gt;
&lt;span class=&quot;token comment&quot;&gt;// 따라서 person과 copy는 궁극적으로 0x00001332라는 참조 값이 가리키는 동일한 {name: &quot;Kim&quot;} 객체를 가리킨다.&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;따라서 복사 후 원본 값을 변경하면 새로운 메모리 주소를 가리키는 원시 값과 다르게 작동한다. 이를 일치 연산자로 확인해보면 다음과 같다.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;javascript&quot;&gt;&lt;pre class=&quot;language-javascript&quot;&gt;&lt;code class=&quot;language-javascript&quot;&gt;&lt;span class=&quot;token comment&quot;&gt;// 원시 타입&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;let&lt;/span&gt; number &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;100&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;let&lt;/span&gt; numCopy &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; number&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
number &lt;span class=&quot;token operator&quot;&gt;===&lt;/span&gt; numCopy	&lt;span class=&quot;token comment&quot;&gt;// true;&lt;/span&gt;

number &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;200&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
number &lt;span class=&quot;token operator&quot;&gt;===&lt;/span&gt; numCopy	&lt;span class=&quot;token comment&quot;&gt;// false&lt;/span&gt;

&lt;span class=&quot;token comment&quot;&gt;// 객체 타입&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;let&lt;/span&gt; obj &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;name&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;Kim&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;let&lt;/span&gt; objCopy &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; obj&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
obj &lt;span class=&quot;token operator&quot;&gt;===&lt;/span&gt; objCopy		&lt;span class=&quot;token comment&quot;&gt;// true;&lt;/span&gt;

obj&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;name &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;Lee&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
obj &lt;span class=&quot;token operator&quot;&gt;===&lt;/span&gt; objCopy		&lt;span class=&quot;token comment&quot;&gt;// true;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;blockquote&gt;
&lt;p&gt;&lt;strong&gt;원시 값의 비교와 객체의 비교&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;원시 값을 할당한 변수를 비교하면 원시 값을 비교한다.&lt;/p&gt;
&lt;p&gt;반면 객체를 할당한 변수를 비교하면 참조 값을 비교한다.&lt;/p&gt;
&lt;p&gt;다음 문제를 이해해보자.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;javascript&quot;&gt;&lt;pre class=&quot;language-javascript&quot;&gt;&lt;code class=&quot;language-javascript&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;let&lt;/span&gt; obj1 &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; name&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;Kim&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;let&lt;/span&gt; obj2 &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; name&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;Kim&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

obj1 &lt;span class=&quot;token operator&quot;&gt;===&lt;/span&gt; obj2&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;				
&lt;span class=&quot;token comment&quot;&gt;// false; &lt;/span&gt;
&lt;span class=&quot;token comment&quot;&gt;// 내용은 같지만 당연히 서로 다른 메모리에 저장된 별개의 객체다.&lt;/span&gt;

obj1&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;name &lt;span class=&quot;token operator&quot;&gt;===&lt;/span&gt; obj2&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;name&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;	
&lt;span class=&quot;token comment&quot;&gt;// true;&lt;/span&gt;
&lt;span class=&quot;token comment&quot;&gt;// obj1.name과 obj2.name은 둘다 &quot;Kim&quot;이라는 문자열로 평가되는 표현식이다.&lt;/span&gt;
&lt;span class=&quot;token comment&quot;&gt;// 원시 값을 비교할 땐 값 자체를 비교한다고 했으니 true가 된다.&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;/blockquote&gt;
&lt;p&gt;이처럼 객체는 &lt;strong&gt;여러 개의 식별자가 하나의 객체를 공유&lt;/strong&gt;할 수 있다. 내가 알고리즘 문제를 풀면서 실수가 발생했던 것도 바로 이 이유 때문이었다. 한쪽 변수에서 객체를 변경할 때, 참조 값이 동일한 다른 변수가 가리키고 있는 객체도 수정되었기 때문이다. 헷갈리게 왜 이렇게 만들었을까?&lt;/p&gt;
&lt;p&gt;결국 &lt;strong&gt;효율성&lt;/strong&gt;과 &lt;strong&gt;성능&lt;/strong&gt; 때문이다.&lt;/p&gt;
&lt;p&gt;원시 값처럼 객체를 복사할 때마다 같은 값을 새롭게 생성한다면 나와 같은 실수는 발생하지 않을 것이다. 그러나 객체는 크기가 매우 클 수도 있고, 크기도 일정하지 않으며, 객체의 프로퍼티 값으로 또 다른 객체를 가질 수도 있다. 즉 복사해서 생성하는 데 메모리의 비용이 클 수 있다는 뜻이다. 메모리를 효율적으로 사용하고 비용을 절약하여 성능을 향상시키기 위해 객체는 변경 가능한 값으로 설계되어 있는 것이다.&lt;/p&gt;
&lt;p&gt;다음으로는 ‘얕은 복사’와 ‘깊은 복사’에 대해 알아볼 예정이다.&lt;/p&gt;
&lt;h4&gt;참고&lt;/h4&gt;
&lt;p&gt;&lt;a href=&quot;https://ko.javascript.info/object-copy&quot;&gt;참조에 의한 객체 복사&lt;/a&gt;&lt;br&gt;
원시 값과 객체의 비교 | 모던 자바스크립트 Deep Dive | 위키북스&lt;/p&gt;</content:encoded></item><item><title><![CDATA[[TIL] <link>와 @import]]></title><description><![CDATA[프로젝트에서 페이지 별 CSS 파일에 공통 요소를 적용하기 위해 를 사용해 default.css 파일을 불러오려고 했다. 그러다 궁금한 점이 생겼다. a.css 파일 안에 b.css 파일을 import 하는 방식과, HTML…]]></description><link>https://42kim.github.io/TIL/css_import/</link><guid isPermaLink="false">https://42kim.github.io/TIL/css_import/</guid><pubDate>Fri, 04 Jun 2021 00:00:00 GMT</pubDate><content:encoded>&lt;p&gt;프로젝트에서 페이지 별 CSS 파일에 공통 요소를 적용하기 위해 &lt;code class=&quot;language-text&quot;&gt;@import&lt;/code&gt;를 사용해 default.css 파일을 불러오려고 했다. 그러다 궁금한 점이 생겼다. a.css 파일 안에 b.css 파일을 import 하는 방식과, HTML 파일에 &lt;code class=&quot;language-text&quot;&gt;&amp;lt;link&amp;gt;&lt;/code&gt; 태그를 사용하여  a.css 파일과 b.css 파일을 모두 불러오는 방식의 차이는 뭘까? 조금 오래된 글이긴 하지만 각각의 차이를 설명한 글이 있어서 읽고 정리해본다. &lt;a href=&quot;https://www.stevesouders.com/blog/2009/04/09/dont-use-import/&quot;&gt;👉원문 보기&lt;/a&gt;  &lt;/p&gt;
&lt;p&gt;결론을 먼저 말하자면, &lt;code class=&quot;language-text&quot;&gt;@import&lt;/code&gt;를 사용하지 말고 &lt;code class=&quot;language-text&quot;&gt;&amp;lt;link&amp;gt;&lt;/code&gt; 태그를 사용하라는 것. 그 이유를 살펴보자.&lt;/p&gt;
&lt;h4&gt;HTML 파일에 CSS 파일을 불러오는 방법&lt;/h4&gt;
&lt;p&gt;먼저 HTML 파일에 CSS 파일을 불러오는 방법은 크게 두 가지로 나뉜다.&lt;/p&gt;
&lt;p&gt;첫 번째는 HTML link 태그를 사용하는 방법,&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;html&quot;&gt;&lt;pre class=&quot;language-html&quot;&gt;&lt;code class=&quot;language-html&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;link&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;rel&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation attr-equals&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&apos;&lt;/span&gt;stylesheet&lt;span class=&quot;token punctuation&quot;&gt;&apos;&lt;/span&gt;&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;href&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation attr-equals&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&apos;&lt;/span&gt;a.css&lt;span class=&quot;token punctuation&quot;&gt;&apos;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;두 번째는 HTML style 태그 내부에 @import를 사용하는 방법이다.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;html&quot;&gt;&lt;pre class=&quot;language-html&quot;&gt;&lt;code class=&quot;language-html&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;style&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token style&quot;&gt;&lt;span class=&quot;token language-css&quot;&gt;
&lt;span class=&quot;token atrule&quot;&gt;&lt;span class=&quot;token rule&quot;&gt;@import&lt;/span&gt; &lt;span class=&quot;token url&quot;&gt;&lt;span class=&quot;token function&quot;&gt;url&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string url&quot;&gt;&apos;a.css&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;style&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;이 두 가지 방법을 전제로 link 태그와 @import를 다양한 방식으로 조합하여 사용할 때의 차이점을 살펴본다.&lt;/p&gt;
&lt;h4&gt;[1] @import &amp;#x26; @import&lt;/h4&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;html&quot;&gt;&lt;pre class=&quot;language-html&quot;&gt;&lt;code class=&quot;language-html&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;style&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token style&quot;&gt;&lt;span class=&quot;token language-css&quot;&gt;
&lt;span class=&quot;token atrule&quot;&gt;&lt;span class=&quot;token rule&quot;&gt;@import&lt;/span&gt; &lt;span class=&quot;token url&quot;&gt;&lt;span class=&quot;token function&quot;&gt;url&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string url&quot;&gt;&apos;a.css&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;/span&gt;
&lt;span class=&quot;token atrule&quot;&gt;&lt;span class=&quot;token rule&quot;&gt;@import&lt;/span&gt; &lt;span class=&quot;token url&quot;&gt;&lt;span class=&quot;token function&quot;&gt;url&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string url&quot;&gt;&apos;b.css&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;style&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;&amp;#x3C;style&gt; 태그 내부에 @import를 각각 사용하여 a.css와 b.css를 불러오는 방식이다. 이 경우, 페이지가 요청되면 두 css 파일은 병렬적(parallel)으로 다운로드 된다. 즉 성능적으로 손해를 보지 않는다.&lt;/p&gt;
&lt;h4&gt;[2] &amp;#x3C;link&gt; &amp;#x26; @import&lt;/h4&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;html&quot;&gt;&lt;pre class=&quot;language-html&quot;&gt;&lt;code class=&quot;language-html&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;link&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;rel&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation attr-equals&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&apos;&lt;/span&gt;stylesheet&lt;span class=&quot;token punctuation&quot;&gt;&apos;&lt;/span&gt;&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;type&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation attr-equals&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&apos;&lt;/span&gt;text/css&lt;span class=&quot;token punctuation&quot;&gt;&apos;&lt;/span&gt;&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;href&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation attr-equals&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&apos;&lt;/span&gt;a.css&lt;span class=&quot;token punctuation&quot;&gt;&apos;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;style&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token style&quot;&gt;&lt;span class=&quot;token language-css&quot;&gt;
&lt;span class=&quot;token atrule&quot;&gt;&lt;span class=&quot;token rule&quot;&gt;@import&lt;/span&gt; &lt;span class=&quot;token url&quot;&gt;&lt;span class=&quot;token function&quot;&gt;url&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string url&quot;&gt;&apos;b.css&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;style&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;&amp;#x3C;link&gt; 태그와 @import를 섞어서 쓰는 경우, 두 파일은 순차적(sequentially)으로 다운로드 된다. (원문의 테스트는 IE 6, 7, 8을 기준으로 진행되었다) 따라서 두 파일을 동시에 다운로드 하는 [1]번 방식보다 시간적으로 손해를 보게 된다. &lt;/p&gt;
&lt;h4&gt;[3] @import in &amp;#x3C;link&gt;&lt;/h4&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;html&quot;&gt;&lt;pre class=&quot;language-html&quot;&gt;&lt;code class=&quot;language-html&quot;&gt;&lt;span class=&quot;token comment&quot;&gt;&amp;lt;!-- in the HTML document --&gt;&lt;/span&gt;
&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;link&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;rel&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation attr-equals&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&apos;&lt;/span&gt;stylesheet&lt;span class=&quot;token punctuation&quot;&gt;&apos;&lt;/span&gt;&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;type&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation attr-equals&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&apos;&lt;/span&gt;text/css&lt;span class=&quot;token punctuation&quot;&gt;&apos;&lt;/span&gt;&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;href&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation attr-equals&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&apos;&lt;/span&gt;a.css&lt;span class=&quot;token punctuation&quot;&gt;&apos;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;

&lt;span class=&quot;token comment&quot;&gt;&amp;lt;!-- in a.css --&gt;&lt;/span&gt;
@import url(&apos;b.css&apos;);&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;이번엔 내가 시도하려던 방식이다. link 태그로 a.css 파일을 불러오는데 a.css 파일 내부에 @import를 사용해 b.css 파일을 포함시킨 방식이다.&lt;/p&gt;
&lt;p&gt;이 경우 [2]번과 마찬가지로 파일을 순차적으로 다운로드 한다. (모든 브라우저에서 그렇다고 한다..) 사실 논리적으로 생각해보면 당연한 일이다. 브라우저는 a.css를 우선 다운로드 한 뒤, parse 하는 과정에서 a.css가 b.css를 import 한다는 사실을 알게되어 그제야 b.css를 다운받기 시작할 테니까.&lt;/p&gt;
&lt;p&gt;나는 가장 성능이 안 좋은 방식을 사용하려고 한 것이다.&lt;/p&gt;
&lt;h4&gt;[4] &amp;#x3C;link&gt; &amp;#x26; &amp;#x3C;link&gt;&lt;/h4&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;html&quot;&gt;&lt;pre class=&quot;language-html&quot;&gt;&lt;code class=&quot;language-html&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;link&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;rel&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation attr-equals&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&apos;&lt;/span&gt;stylesheet&lt;span class=&quot;token punctuation&quot;&gt;&apos;&lt;/span&gt;&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;type&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation attr-equals&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&apos;&lt;/span&gt;text/css&lt;span class=&quot;token punctuation&quot;&gt;&apos;&lt;/span&gt;&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;href&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation attr-equals&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&apos;&lt;/span&gt;a.css&lt;span class=&quot;token punctuation&quot;&gt;&apos;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;link&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;rel&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation attr-equals&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&apos;&lt;/span&gt;stylesheet&lt;span class=&quot;token punctuation&quot;&gt;&apos;&lt;/span&gt;&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;type&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation attr-equals&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&apos;&lt;/span&gt;text/css&lt;span class=&quot;token punctuation&quot;&gt;&apos;&lt;/span&gt;&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;href&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation attr-equals&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&apos;&lt;/span&gt;b.css&lt;span class=&quot;token punctuation&quot;&gt;&apos;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;&amp;#x3C;link&gt; 태그를 여러 개 사용하여 각 파일을 불러오는 방식이다.  &amp;#x3C;link&gt; 태그를 사용하면 모든 브라우저에서 파일을 병렬적으로 다운로드 한다. 또한 &amp;#x3C;link&gt; 태그를 사용하면 파일의 다운로드 순서를 보장받을 수 있다. ([1]번처럼 다수의 @import를 사용하는 경우 브라우저 및 상황에따라 다운로드 순서가 보장되지 않는 경우도 있다고 한다)&lt;/p&gt;
&lt;h4&gt;결론&lt;/h4&gt;
&lt;p&gt;@import를 사용하면 경우에 따라 시간적으로 손해를 볼 여지가 있다. 특히 IE에서는 다운로드 순서를 보장 받지 못하여, &amp;#x3C;link&gt;와 @import를 섞어 쓰면 다운로드 시간이 오래 걸리는 파일을 다운받는 동안 다른 파일들이 블록되어 더 많은 시간이 소비되는 경우도 발생한다.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;&amp;#x3C;link&gt;&lt;/strong&gt; 를 사용하자. &lt;/p&gt;</content:encoded></item><item><title><![CDATA[[TIL] HTTP Cookie와 Session]]></title><description><![CDATA[로그인 유저 관리 기능을 구현하기 위해 웹 애플리케이션에서 유저 인증을 어떻게 확인하여 관리하는지에 대해 알아보려고 한다.  는  프로토콜이다. HTTP 프로토콜은 이전 ‘request’와 ‘response…]]></description><link>https://42kim.github.io/TIL/http_cookie&amp;session/</link><guid isPermaLink="false">https://42kim.github.io/TIL/http_cookie&amp;session/</guid><pubDate>Tue, 01 Jun 2021 00:00:00 GMT</pubDate><content:encoded>&lt;p&gt;로그인 유저 관리 기능을 구현하기 위해 웹 애플리케이션에서 유저 인증을 어떻게 확인하여 관리하는지에 대해 알아보려고 한다. &lt;/p&gt;
&lt;p&gt;&lt;code class=&quot;language-text&quot;&gt;HTTP&lt;/code&gt;는 &lt;code class=&quot;language-text&quot;&gt;Stateless&lt;/code&gt; 프로토콜이다. HTTP 프로토콜은 이전 ‘request’와 ‘response’의 상태를 기억하지 않는다는 뜻이다. 따라서 방금 전에 사용자가 인증을 통과하여 로그인을 했다고 하더라도, 웹 페이지는 그 사실을 알 수 없다. 매번 다시 로그인할 필요 없이, 해당 사용자가 인증되었다는 상태를 관리하기 위해 사용되는 기술이 &lt;code class=&quot;language-text&quot;&gt;cookie&lt;/code&gt;다.&lt;/p&gt;
&lt;h4&gt;쿠키(cookie)&lt;/h4&gt;
&lt;p&gt;쿠키는 HTTP request와 response에 기억해야할 ‘정보’를 심는 기술이다. 쿠키의 작동 원리는 다음의 순서를 따른다.&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;클라이언트에서 최초로 인증 request가 서버로 송신된다.&lt;/li&gt;
&lt;li&gt;인증이 통과되면, 서버는 response 헤더의 &lt;code class=&quot;language-text&quot;&gt;Set-Cookie&lt;/code&gt; 필드에 생성한 쿠키 값을 넣어서 클라이언트로 응답한다.&lt;/li&gt;
&lt;li&gt;해당 쿠키는 브라우저에 보존된다. (개발자모드-Application-Cookies-…) 또한 사용자의 PC에 파일 형태로 저장된다.&lt;/li&gt;
&lt;li&gt;새로운 request가 발생할 때마다, 클라이언트는 자동으로 쿠키를 담아 서버로 요청을 전송한다.&lt;/li&gt;
&lt;li&gt;서버는 클라이언트가 전송한 쿠키 값을 통해 사용자가 기존에 인증을 마친 상태임을 판단할 수 있다.&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;이처럼 쿠키는 로그인 상태, 장바구니, 웹페이지 언어 설정, 다크모드 등등 기억되어야 할 상태 정보를 클라이언트에 저장해두기 위해 사용되는 기술이다. &lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;쿠키 생성 시 설정 가능한 속성들로는&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;쿠키의 만료 기한&lt;br&gt;
웹 브라우저가 종료되면 쿠키도 사라지게 하거나 계속 유효하도록 설정할 수 있고, 쿠키가 일정 기간 동안만 유효하도록 설정할 수도 있다.&lt;/li&gt;
&lt;li&gt;https를 통해 통신할 때만 쿠키를 전송하도록 설정할 수 있다.&lt;/li&gt;
&lt;li&gt;쿠키의 scope&lt;br&gt;
특정 도메인이나 디렉토리에서만 쿠키가 활성화 되게끔 설정할 수 있다.&lt;/li&gt;
&lt;li&gt;etc..&lt;/li&gt;
&lt;/ul&gt;
&lt;/blockquote&gt;
&lt;p&gt;이처럼 쿠키를 사용해 ‘이전에 통신했던 내용’을 기억할 수 있게 되자, 웹 애플리케이션에서 사용자 별로 다르게 서비스를 제공하는 ‘개인화(Personalization)‘와 ‘인증’이 가능해졌다.&lt;/p&gt;
&lt;p&gt;하지만 쿠키는 클라이언트 사이드에서 사용자와 관련된 다양한 정보를 직접 들고 있기 때문에 보안 상의 위험이 존재한다. 쿠키를 탈취 당하면 해당 클라이언트의 정보가 고스란히 노출되기 때문이다.&lt;/p&gt;
&lt;p&gt;세션은 쿠키의 이 같은 단점을 보완할 수 있다.&lt;/p&gt;
&lt;h4&gt;세션(session)&lt;/h4&gt;
&lt;p&gt;쿠키가 클라이언트에 정보를 직접 보관하는 방법이었다면, 세션은 식별자만 클라이언트에 보관하고 실제 정보는 서버에 저장해두고 상태를 관리하는 방법이다. 세션 또한 쿠키를 기반으로 작동한다. 식별자로 사용되는 세션ID 값을 쿠키에 담아서 사용하기 때문이다.&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;세션ID는 서버에 보관되고 있는 정보에 접근하는 ‘열쇠’라고 생각하면 된다.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;따라서 클라이언트 사이드에서 쿠키가 탈취 당하더라도, 식별자인 세션ID 값은 노출이 되지만 실질적인 정보들은 서버에 있기 때문에 정보가 직접적으로 노출되지 않는다. 세션의 작동 방식은 다음과 같다.&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;클라이언트에서 최초로 인증 request가 서버로 송신된다.&lt;/li&gt;
&lt;li&gt;인증이 통과되면, 서버는 &lt;code class=&quot;language-text&quot;&gt;express-session&lt;/code&gt; 같은 미들웨어를 사용하여 저장소에 세션을 생성하고, 세션ID를 쿠키에 담아서 응답한다.&lt;/li&gt;
&lt;li&gt;브라우저는 쿠키를 보존하므로, 새로운 request가 발생할 때마다 서버는 클라이언트가 보내온 쿠키의 세션ID를 세션 저장소의 정보와 대조하여 사용자를 식별한다.&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;세션도 쿠키와 마찬가지로 유효 기간을 설정할 수 있다. 그러나 쿠키는 파일 형태로 저장되기 때문에 브라우저가 종료되어도 유효기간이 남아있다면 여전히 존재하는 반면, 세션은 서버의 메모리에 저장된다. 따라서 브라우저가 종료되면 유효기간이 남아있더라도 삭제가 된다는 차이가 있다.&lt;/p&gt;
&lt;p&gt;이처럼 세션은 쿠키에 비해 보안적으로 낫다는 장점이 있지만 단점도 존재한다. 클라이언트에서 정보를 직접 제공해주는 쿠키와 달리 정보를 얻기 위해 서버를 거쳐야 한다는 점에서 속도의 차이가 발생하고, 사용자의 정보를 서버에 저장해야하기 때문에 많은 사용자가 서비스를 이용하는 경우 서버 자원의 소모가 크다. 그리고 세션ID를 탈취하여 서버에 전송하는 경우, 실제 인증된 사용자가 아님에도 세션 정보의 주인인 것처럼 행세할 수 있다는 보안 상의 문제도 여전히 존재한다.&lt;/p&gt;
&lt;p&gt;이러한 쿠키와 세션의 한계를 극복하고자 최근에는 &lt;code class=&quot;language-text&quot;&gt;JWT(JSON Web Token)&lt;/code&gt;라는 기술이 주로 사용된다. To be continued..&lt;/p&gt;
&lt;h4&gt;참고&lt;/h4&gt;
&lt;p&gt;&lt;a href=&quot;https://www.opentutorials.org/course/3400&quot;&gt;Opentutorials.org | 세션과 인증&lt;/a&gt;&lt;br&gt;
&lt;a href=&quot;https://developer.mozilla.org/ko/docs/Web/HTTP/Cookies&quot;&gt;MDN Web Docs | HTTP Cookie&lt;/a&gt;&lt;br&gt;
&lt;a href=&quot;https://thecodinglog.github.io/web/2020/08/11/what-is-session.html&quot;&gt;세션 동작 원리 - 쿠키와 세션의 관계&lt;/a&gt;&lt;/p&gt;</content:encoded></item><item><title><![CDATA[[TIL] async/await]]></title><description><![CDATA[이전 글에서 프로미스의 한계를 보완하기 위해 ES8에서 도입된 것이 라고 했다. async/await를 사용하면 프로미스의 후속 처리 메서드보다 간단하고 가독성 좋게 비동기 처리를 수행할 수 있고, 동기 처리처럼 동작하도록 구현할 수 있다. async…]]></description><link>https://42kim.github.io/TIL/js_asyncawait/</link><guid isPermaLink="false">https://42kim.github.io/TIL/js_asyncawait/</guid><pubDate>Mon, 31 May 2021 00:00:00 GMT</pubDate><content:encoded>&lt;p&gt;&lt;a href=&quot;https://42kim.github.io/TIL/js_promise/&quot;&gt;이전 글&lt;/a&gt;에서 프로미스의 한계를 보완하기 위해 ES8에서 도입된 것이 &lt;code class=&quot;language-text&quot;&gt;async/await&lt;/code&gt;라고 했다.&lt;/p&gt;
&lt;p&gt;async/await를 사용하면 프로미스의 후속 처리 메서드보다 간단하고 가독성 좋게 비동기 처리를 수행할 수 있고, 동기 처리처럼 동작하도록 구현할 수 있다.&lt;/p&gt;
&lt;h3&gt;async/await 사용법&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code class=&quot;language-text&quot;&gt;async&lt;/code&gt;는 function 앞에 위치한다.&lt;br&gt;
async가 붙은 함수는 &lt;strong&gt;언제나 프로미스를 반환&lt;/strong&gt;한다. 프로미스가 아닌 값을 반환하더라도 암묵적으로 resolved 프로미스로 감싸 반환한다.&lt;/li&gt;
&lt;li&gt;&lt;code class=&quot;language-text&quot;&gt;await&lt;/code&gt;는 &lt;strong&gt;async 함수 안에서만&lt;/strong&gt; 사용할 수 있다.&lt;br&gt;
프로미스 앞에 await를 붙이면 자바스크립트는 해당 프로미스가 처리될 때까지 기다린다. 그리고 처리가 완료되면 resolve 결과가 반환된다.&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;예시&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;javascript&quot;&gt;&lt;pre class=&quot;language-javascript&quot;&gt;&lt;code class=&quot;language-javascript&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;async&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;foo&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; a &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;await&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;Promise&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;resolve&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;setTimeout&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;resolve&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;3000&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; b &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;await&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;Promise&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;resolve&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;setTimeout&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;resolve&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;2000&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; c &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;await&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;Promise&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;resolve&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;setTimeout&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;resolve&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;3&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;1000&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  
  console&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;log&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;a&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; b&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; c&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;

&lt;span class=&quot;token function&quot;&gt;foo&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;첫 번째 프로미스는 3초가 흐른 후 변수 a에 1을 할당한다.&lt;/p&gt;
&lt;p&gt;이어서 2초가 흐른 후 변수 b에 2를 할당하고,&lt;/p&gt;
&lt;p&gt;다시 1초가 흐른 후 변수 c에 3을 할당하여 약 6초가 소요된다.&lt;/p&gt;
&lt;p&gt;위의 예시는 3개의 비동기 처리를 동기 처리처럼 수행한다.&lt;/p&gt;
&lt;p&gt;만약 서로 관련이 없어서 순차적으로 처리할 필요가 없는 비동기 처리들은 &lt;code class=&quot;language-text&quot;&gt;Promise.all&lt;/code&gt;을 사용하려 불필요한 소요시간을 줄일 수 있다 &lt;a href=&quot;https://developer.mozilla.org/ko/docs/Web/JavaScript/Reference/Global_Objects/Promise/all&quot;&gt;👉Promise.all 설명&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h3&gt;async/await의 에러 핸들링&lt;/h3&gt;
&lt;p&gt;비동기 함수의 콜백 함수를 호출하는 방식은 try..catch문을 사용해 에러를 캐치할 수 없었다. 그러나 async 함수 내부에서 try..catch문을 사용하면 에러를 정상적으로 캐치할 수 있다.&lt;/p&gt;
&lt;p&gt;만약 async 함수 내부에서 try..catch문을 사용하지 않았는데 에러가 발생하면, async 함수는 에러를 reject하는 프로미스를 반환한다. 따라서 이를 처리해줄 프로미스 후속 처리 메서드 &lt;code class=&quot;language-text&quot;&gt;.catch&lt;/code&gt;를 사용하여 에러 핸들링을 해주면 된다.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;javascript&quot;&gt;&lt;pre class=&quot;language-javascript&quot;&gt;&lt;code class=&quot;language-javascript&quot;&gt;&lt;span class=&quot;token comment&quot;&gt;// async 함수 foo&lt;/span&gt;
&lt;span class=&quot;token function&quot;&gt;foo&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;catch&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;console&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;error&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h3&gt;일반 함수 내부에서 async 함수를 호출하는 경우&lt;/h3&gt;
&lt;p&gt;일반 함수 내부에서는 await를 사용할 수 없는데, 어떻게 호출된 async 함수의 결과 값을 사용할 수 있을까.&lt;/p&gt;
&lt;p&gt;async 함수가 언제나 &lt;strong&gt;프로미스를 반환&lt;/strong&gt;한다는 사실을 기억하면 된다. 따라서 프로미스 후속 처리 메서드를 사용하면 결과를 처리할 수 있다.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;javascript&quot;&gt;&lt;pre class=&quot;language-javascript&quot;&gt;&lt;code class=&quot;language-javascript&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;async&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;wait&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;await&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;Promise&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;resolve&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;setTimeout&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;resolve&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;1000&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

  &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;10&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;

&lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;f&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token comment&quot;&gt;// shows 10 after 1 second&lt;/span&gt;
  &lt;span class=&quot;token function&quot;&gt;wait&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;then&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;result&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;alert&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;result&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;

&lt;span class=&quot;token function&quot;&gt;f&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h4&gt;참고&lt;/h4&gt;
&lt;p&gt;&lt;a href=&quot;https://ko.javascript.info/&quot;&gt;모던 JavaScript 튜토리얼&lt;/a&gt;&lt;br&gt;
&lt;a href=&quot;https://developer.mozilla.org/ko/docs/Web/JavaScript/Reference/Global_Objects/Promise/all&quot;&gt;MDN Web Docs&lt;/a&gt;&lt;br&gt;
모던 자바스크립트 Deep Dive | 위키북스 | 이웅모  &lt;/p&gt;</content:encoded></item><item><title><![CDATA[[TIL] Promise]]></title><description><![CDATA[프로젝트를 진행하며 OAuth를 통한 회원가입과 로그인을 한 번에 처리해야할 필요가 발생했다. SNS…]]></description><link>https://42kim.github.io/TIL/js_promise/</link><guid isPermaLink="false">https://42kim.github.io/TIL/js_promise/</guid><pubDate>Sat, 29 May 2021 00:00:00 GMT</pubDate><content:encoded>&lt;p&gt;프로젝트를 진행하며 OAuth를 통한 회원가입과 로그인을 한 번에 처리해야할 필요가 발생했다. SNS 계정으로 처음 서비스를 이용하는 경우, 자동으로 회원가입을 시킨 뒤에 로그인까지 바로 이어서 시켜줘야 하기 때문이다. 그러다 보니,&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;&lt;code class=&quot;language-text&quot;&gt;sns 계정으로 로그인&lt;/code&gt;을 클릭한 사용자의 정보가 DB에 있는지 확인하고&lt;/li&gt;
&lt;li&gt;없을 경우(= 최초 방문자일 경우) 해당 사용자의 정보를 회원 DB에 추가한 뒤&lt;/li&gt;
&lt;li&gt;다시 1에서 로그인을 클릭한 사용자의 정보를 회원 DB에서 조회하여 로그인 처리&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;의 과정을 거치며 DB에 query를 날릴 때, 콜백의 콜백의 콜백 함수를 사용하게 됐다. 코드의 가독성을 높이기 위해 이번 기회에 자바스크립트에서의 비동기 처리 방식들에 대해 공부해보고자 한다.&lt;/p&gt;
&lt;p&gt;우선 자바스크립트에서 비동기적으로 실행되는 코드는 비동기가 아닌 모든 코드(전역 코드 및 명시적으로 호출된 함수 등)가 전부 실행되고 난 이후에 비로소 실행된다. 그 이유를 알기 위해서는 자바스크립트의 실행 컨텍스트, 콜 스택, 태스크 큐 등에 대한 이해가 필요하다. 자바스크립트의 동작 순서를 간략하게 설명하면 다음과 같다.&lt;/p&gt;
&lt;blockquote&gt;
&lt;ol&gt;
&lt;li&gt;코드가 평가되어 생성된 실행 컨텍스트가 콜 스택에 추가된다.&lt;/li&gt;
&lt;li&gt;이벤트 핸들러, HTTP 요청, setTimeout 등의 비동기 함수들도 이 과정에 콜 스택에 추가되고, 실행되면서 비동기 처리를 위한 콜백 함수를 ‘호출 스케줄링’한 뒤에 콜 스택에서 제거된다.&lt;/li&gt;
&lt;li&gt;이때, 스케줄링 된 콜백 함수는 브라우저에 의해 태스크 큐에 추가된다.
*태스크 큐는 콜 스택이 완전히 비어있어야만 호출된다.&lt;/li&gt;
&lt;li&gt;이벤트 루프는 콜 스택이 비어있는지 체크한다. 모든 코드가 실행 완료되어 콜 스택이 비게 되면, 이벤트 루프는 태스크 큐에서 대기 중이던 비동기 함수의 콜백 함수를 콜 비로소 콜 스택에 푸시한다.&lt;/li&gt;
&lt;li&gt;콜 스택에 푸시된 콜백 함수는 실행된 뒤 콜 스택에서 제거된다.&lt;/li&gt;
&lt;/ol&gt;
&lt;/blockquote&gt;
&lt;p&gt;이런 과정을 거치는 탓에, 비동기 함수의 처리 결과를 외부로 반환하거나, 상위 스코프에 있는 변수에 할당할 수 없게 된다. 비동기 함수의 콜백 함수가 호출되는 시점(5)에는 이미 다른 코드들의 실행이 종료되어 콜 스택에서 제거된 상태이기 때문이다.&lt;/p&gt;
&lt;p&gt;따라서 비동기 함수의 호출 결과에 대한 후속 처리는 비동기 함수의 내부에서 또다른 콜백함수를 통해 처리되어야 한다. 처리가 성공했을 때 또는 실패 했을 때, 추가적 처리가 더 필요할 때 등등 후속 처리가 많아지는 경우에는 콜백 함수가 계속 중첩되어 코드의 가독성이 매우 낮아진다. 이러한 현상을 ‘콜백 헬’이라고 한다.&lt;/p&gt;
&lt;p&gt;콜백 헬 외에도 비동기 처리는 try..catch 문 처럼 에러 처리를 할 때도 어려움을 발생시킨다. 에러는 호출자 방향(=콜 스택의 아래 방향)으로 전파되는데, 비동기 처리가 실행되는 시점에 이미 try 블록의 비동기 함수는 실행이 완료되어 콜 스택에서 제거된 상태이다. 따라서  catch 블록에서 에러를 캐치하지 못한다.&lt;/p&gt;
&lt;h3&gt;Promise&lt;/h3&gt;
&lt;p&gt;ES6에서는 비동기 처리의 문제를 극복하기 위한 방법으로 &lt;code class=&quot;language-text&quot;&gt;Promise&lt;/code&gt;가 도입되었다.  &lt;/p&gt;
&lt;p&gt;프로미스는 비동기 처리의 &lt;strong&gt;상태&lt;/strong&gt;과 &lt;strong&gt;결과&lt;/strong&gt;를 관리하는 객체이다. 프로미스 생성자 &lt;code class=&quot;language-text&quot;&gt;new Promise&lt;/code&gt;에 의해 호출되는 함수인 executor는 &lt;code class=&quot;language-text&quot;&gt;resolve&lt;/code&gt;와 &lt;code class=&quot;language-text&quot;&gt;reject&lt;/code&gt; 함수를 인수로 전달받는다. 비동기 처리가 성공했을 때에는 resolve 함수가 호출되고, 실패했을 때에는 reject 함수가 호출된다.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;javascript&quot;&gt;&lt;pre class=&quot;language-javascript&quot;&gt;&lt;code class=&quot;language-javascript&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;let&lt;/span&gt; promise &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;Promise&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;resolve&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; reject&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token comment&quot;&gt;// 비동기 처리 코드&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;success&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
        &lt;span class=&quot;token function&quot;&gt;resolve&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;비동기 처리 성공!&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;else&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
        &lt;span class=&quot;token function&quot;&gt;reject&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;비동기 처리 실패!&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;

&lt;span class=&quot;token comment&quot;&gt;// 비동기 처리 성공!&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;생성된 프로미스는 내부적으로 ‘상태 [[PromiseStatus]]‘와 ‘결과[[PromiseValue]]’ 값을 갖는다. 이때, [[PromiseStatus]]는 세 가지 상태 값 중 하나를 갖고, [[PromiseValue]]에는 resolve 또는 reject 콜백 함수의 값이 담긴다.&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;pending : 비동기 처리 수행 전의 상태&lt;br&gt;
fulfilled : 비동기 처리가 성공한 상태&lt;br&gt;
rejected : 비동기 처리가 실패한 상태  &lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;프로미스의 콜백 함수인 resolve나 reject가 실행되면 그 결과를 가지고 후속 처리가 필요하다. 이때, 프로미스의 후속 처리를 도와주는 메서드로는 &lt;code class=&quot;language-text&quot;&gt;.then&lt;/code&gt; &lt;code class=&quot;language-text&quot;&gt;.catch&lt;/code&gt; &lt;code class=&quot;language-text&quot;&gt;.finally&lt;/code&gt; 가 있다.&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;.then&lt;br&gt;
두 개의 콜백 함수를 인수로 전달받는다.
첫 번째 콜백 함수는 비동기 처리가 성공하여 resolve 함수가 실행되어 프로미스의 상태가 fulfilled로 바뀌면 호출된다. 이때, &lt;strong&gt;resolve의 결과가 인수로 전달&lt;/strong&gt;된다.
두 번째 콜백 함수는 reject 함수가 실행되어 rejected 상태일 때 호출된다. &lt;strong&gt;reject의 결과 즉, 에러가 인수로 전달&lt;/strong&gt;된다.&lt;/p&gt;
&lt;p&gt;.catch&lt;br&gt;
한 개의 콜백 함수를 인수로 전달받는다. 프로미스가 rejected 상태인 경우에만 호출된다.
&lt;strong&gt;catch 메서드는 내부적으로 .then(undefined, onRejected)와 동일하게 작동한다!&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;.finally&lt;br&gt;
프로미스의 성공 또는 실패와 상관 없이 무조건 한 번 호출된다. 따라서 프로미스의 상태와 상관 없이 공통적으로 처리할 내용이 있을 때 사용된다.
&lt;strong&gt;finally 뒤에 then이 사용되는 경우 result와 error는 finally를 그대로 통과하여 then에 전달된다!&lt;/strong&gt;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;모든 후속 처리 메서드는 다음과 같은 특징을 갖는다.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;후속 처리 메서드는 다시 프로미스를 반환한다.
따라서 후속 처리 메서드를 연속적으로 호출하는 “프로미스 체이닝”이 가능하다.&lt;/li&gt;
&lt;li&gt;후속 처리 메서드의 콜백 함수가 프로미스가 아닌 값을 반환하더라도 그 값을 암묵적으로 resolve 또는 reject 하여 프로미스를 생성해서 반환한다.&lt;/li&gt;
&lt;li&gt;후속 처리 메서드는 비동기로 동작 한다.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;이처럼 프로미스는 비동기 처리에 있어서 발생하는 콜백 지옥을 완화하는 데 도움을 준다. 그러나 프로미스의 후속 처리 메서드들도 결국 콜백 함수를 사용하므로 결국 비슷한 문제를 발생시킬 수 있다.&lt;/p&gt;
&lt;p&gt;이러한 프로미스의 한계를 보완하기 위해 ES8에서 등장한 것이 &lt;code class=&quot;language-text&quot;&gt;async/await&lt;/code&gt; 이다.&lt;/p&gt;
&lt;h4&gt;참고&lt;/h4&gt;
&lt;p&gt;&lt;a href=&quot;https://ko.javascript.info/&quot;&gt;모던 JavaScript 튜토리얼&lt;/a&gt;&lt;br&gt;
&lt;a href=&quot;https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise&quot;&gt;MDN Web Docs&lt;/a&gt;&lt;br&gt;
모던 자바스크립트 Deep Dive | 위키북스 | 이웅모&lt;/p&gt;</content:encoded></item><item><title><![CDATA[[알고리즘] BOJ 2531번 회전 초밥 (JavaScript)]]></title><description><![CDATA[BOJ 2531번 회전 초밥 JavaScript 풀이  ) 풀이 매번 k개라는 ‘일정한 개수’의 초밥 가짓수를 구해야 하기 때문에 슬라이딩 윈도우방법을 사용한다. 벨트는 원형이기 때문에 이를 배열로 나타낼  때, 배열의 앞에서부터 (k-…]]></description><link>https://42kim.github.io/algorithm/회전초밥/</link><guid isPermaLink="false">https://42kim.github.io/algorithm/회전초밥/</guid><pubDate>Fri, 21 May 2021 00:00:00 GMT</pubDate><content:encoded>&lt;p&gt;&lt;a href=&quot;https://www.acmicpc.net/problem/2531&quot;&gt;BOJ 2531번 회전 초밥&lt;/a&gt; JavaScript 풀이&lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 630px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/6d98100d2265ac178be1466c5bd7ddf3/610c0/%EC%95%8C%EA%B3%A0%EB%A6%AC%EC%A6%98%20%EC%B4%88%EB%B0%A51.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 55.69620253164557%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAYAAAB/Ca1DAAAACXBIWXMAABJ0AAASdAHeZh94AAABFElEQVQoz31Tia6EMAjk/3/UrNq79YyyDiu+avYtyYTS4hSGSsYHnuaZ5wPLsgh0PVf767rezu55C0/TJGuy1jJgjLmAuO97tsayc05i9XoeY+RxHIUIKGWQC2jfd67tGQ/DcCQXTikJwbec2kgTnoCBAIS6B2JU8983APEP27ZNCHPOQqYV/jJCK957DiGITrqGRvCIVTucO+eFHEOqB6QgtNB1nWiESuCBkovEIFafYrrnYe/Mj+eacJNOENVoxRrDj8elqGY6/fWcqmelZwQyPBHBUakxf+2BUFr3kCDJHmLgc2G4JAKgN7Vty4qmabh9veRDDABaIal+OnXLOZerXc0lreIprvwBjz9j+RJruzqkN9uVVk8FlmfLAAAAAElFTkSuQmCC&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;사진1&quot;
        title=&quot;사진1&quot;
        src=&quot;/static/6d98100d2265ac178be1466c5bd7ddf3/f058b/%EC%95%8C%EA%B3%A0%EB%A6%AC%EC%A6%98%20%EC%B4%88%EB%B0%A51.png&quot;
        srcset=&quot;/static/6d98100d2265ac178be1466c5bd7ddf3/c26ae/%EC%95%8C%EA%B3%A0%EB%A6%AC%EC%A6%98%20%EC%B4%88%EB%B0%A51.png 158w,
/static/6d98100d2265ac178be1466c5bd7ddf3/6bdcf/%EC%95%8C%EA%B3%A0%EB%A6%AC%EC%A6%98%20%EC%B4%88%EB%B0%A51.png 315w,
/static/6d98100d2265ac178be1466c5bd7ddf3/f058b/%EC%95%8C%EA%B3%A0%EB%A6%AC%EC%A6%98%20%EC%B4%88%EB%B0%A51.png 630w,
/static/6d98100d2265ac178be1466c5bd7ddf3/40601/%EC%95%8C%EA%B3%A0%EB%A6%AC%EC%A6%98%20%EC%B4%88%EB%B0%A51.png 945w,
/static/6d98100d2265ac178be1466c5bd7ddf3/78612/%EC%95%8C%EA%B3%A0%EB%A6%AC%EC%A6%98%20%EC%B4%88%EB%B0%A51.png 1260w,
/static/6d98100d2265ac178be1466c5bd7ddf3/610c0/%EC%95%8C%EA%B3%A0%EB%A6%AC%EC%A6%98%20%EC%B4%88%EB%B0%A51.png 1295w&quot;
        sizes=&quot;(max-width: 630px) 100vw, 630px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 630px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/bd26b3e65d0d5b91515cfae1a4d16ca3/ffaa5/%EC%95%8C%EA%B3%A0%EB%A6%AC%EC%A6%98%20%EC%B4%88%EB%B0%A52.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 91.77215189873418%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAASCAYAAABb0P4QAAAACXBIWXMAABJ0AAASdAHeZh94AAABcUlEQVQ4y62U27KDIAxF+f9PPYoCchfMIRHU8dL6UGb2BKOkiWtXNkgF8zzvSglSUbuOMVJsOYzx+HzN5ZwBF+OcQ9/30HXdGv86GIYBpJQghKAcPoM51DiOFHnPt3uYQznngFlrIYRAnWBsOq9lWTadr49iQul1jDpaUyuMee/9sfRDsfUuU0qBKOOZ0qn3jg770jq237o3xpBwn9vJh8V6oWBQFmJqo1Rto66Riwl6qcHFRB3lfBWNrMrIWhtw1peudlm7xxAiOB/qtbuVMThdADZN5VddoINn7QVnskUiS2Xan9WsUwoaKvgkLBjjDG8X07rAqAfNTZc4Co78ZKGLbcZRgMKxfaCDRy82oY0ski8OSPkLZS4n4KpYYs47vaWqksP9ICvl0CjnK+mV8kSUPr1Dotwc8I0y2uaZcrhQviN8FEH5KWW0TaNpKK60zQ3lT3Q3yvgO8QPwqEr5dUGhHRHG/+gx+qJQlerH803Bf3zwhG4cMmwgAAAAAElFTkSuQmCC&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;사진2&quot;
        title=&quot;사진2&quot;
        src=&quot;/static/bd26b3e65d0d5b91515cfae1a4d16ca3/f058b/%EC%95%8C%EA%B3%A0%EB%A6%AC%EC%A6%98%20%EC%B4%88%EB%B0%A52.png&quot;
        srcset=&quot;/static/bd26b3e65d0d5b91515cfae1a4d16ca3/c26ae/%EC%95%8C%EA%B3%A0%EB%A6%AC%EC%A6%98%20%EC%B4%88%EB%B0%A52.png 158w,
/static/bd26b3e65d0d5b91515cfae1a4d16ca3/6bdcf/%EC%95%8C%EA%B3%A0%EB%A6%AC%EC%A6%98%20%EC%B4%88%EB%B0%A52.png 315w,
/static/bd26b3e65d0d5b91515cfae1a4d16ca3/f058b/%EC%95%8C%EA%B3%A0%EB%A6%AC%EC%A6%98%20%EC%B4%88%EB%B0%A52.png 630w,
/static/bd26b3e65d0d5b91515cfae1a4d16ca3/40601/%EC%95%8C%EA%B3%A0%EB%A6%AC%EC%A6%98%20%EC%B4%88%EB%B0%A52.png 945w,
/static/bd26b3e65d0d5b91515cfae1a4d16ca3/78612/%EC%95%8C%EA%B3%A0%EB%A6%AC%EC%A6%98%20%EC%B4%88%EB%B0%A52.png 1260w,
/static/bd26b3e65d0d5b91515cfae1a4d16ca3/ffaa5/%EC%95%8C%EA%B3%A0%EB%A6%AC%EC%A6%98%20%EC%B4%88%EB%B0%A52.png 1299w&quot;
        sizes=&quot;(max-width: 630px) 100vw, 630px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;)&lt;/p&gt;
&lt;h4&gt;풀이&lt;/h4&gt;
&lt;p&gt;매번 k개라는 ‘일정한 개수’의 초밥 가짓수를 구해야 하기 때문에 &lt;strong&gt;슬라이딩 윈도우&lt;/strong&gt;방법을 사용한다.&lt;/p&gt;
&lt;p&gt;벨트는 원형이기 때문에 이를 배열로 나타낼  때, 배열의 앞에서부터 (k-1)번 째 요소를 배열의 뒤에 추가해야 한다.&lt;/p&gt;
&lt;p&gt;먹은 초밥의 종류를 체크하기 위한 체크 배열이 필요하다.&lt;/p&gt;
&lt;p&gt;쿠폰에 적혀진 종류의 초밥은 이미 먹은 것으로 체크하고 시작한다.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;진행 흐름:&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;[1]&lt;/strong&gt; sushi 배열의 첫 번째 요소부터 k-1 번째 요소를 배열의 뒤에 추가한다.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;[2]&lt;/strong&gt; check 배열을 생성하고 c초밥은 하나 먹은 것으로 체크한다.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;[3]&lt;/strong&gt; c초밥을 하나 먹은 상태로 시작하기 때문에 kind는 1부터 시작한다.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;[4]&lt;/strong&gt; 최초 k개의 초밥을 먼저 확인한다 (슬라이딩 윈도우). 처음 먹는 종류 즉, check 배열의 값이 0인 경우만 kind를 1 증가시킨다. 그렇지 않은 경우 check 배열의 값만 증가시킨다.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;[5]&lt;/strong&gt; 최초 k개 초밥의 가짓수를 max 변수에 담는다.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;[6]&lt;/strong&gt; k+1 번째 초밥부터 슬라이딩 윈도우 방법을 사용한다.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;체크 배열에서 가장 앞의 초밥(현재 인덱스-k)의 체크 배열 값을 1 감소시킨다. 해당 값이 0이면 한 번만 먹은 초밥 종류였다는 의미이므로 kind도 1 감소시킨다.&lt;/li&gt;
&lt;li&gt;새로운 초밥의 체크 배열 값을 1 증가시킨다. 해당 값이 1이고, 쿠폰 초밥의 종류가 아니라면 처음 먹는 초밥 종류라는 의미이므로 kind를 1 증가시킨다.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;strong&gt;[7]&lt;/strong&gt; 새로운 kind와 max를 비교하여 가짓수의 최댓값을 갱신한다.&lt;/p&gt;
&lt;h3&gt;코드&lt;/h3&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;javascript&quot;&gt;&lt;pre class=&quot;language-javascript&quot;&gt;&lt;code class=&quot;language-javascript&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; input &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;require&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;fs&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;readFileSync&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;/dev/stdin&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;toString&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;split&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;\n&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;n&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; d&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; k&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; c&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; input&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;split&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot; &quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;map&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;e&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;parseInt&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;e&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;let&lt;/span&gt; sushi &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;for&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;let&lt;/span&gt; i&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt; i&lt;span class=&quot;token operator&quot;&gt;&amp;lt;=&lt;/span&gt;n&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt; i&lt;span class=&quot;token operator&quot;&gt;++&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    sushi&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;push&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;parseInt&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;input&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;i&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token comment&quot;&gt;// [1]&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;for&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;let&lt;/span&gt; i&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt; i&lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;k&lt;span class=&quot;token operator&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt; i&lt;span class=&quot;token operator&quot;&gt;++&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    sushi&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;push&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;sushir&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;i&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token comment&quot;&gt;// [2]&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;let&lt;/span&gt; check &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; Array&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;from&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;length&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt;d&lt;span class=&quot;token operator&quot;&gt;+&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
check&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;c&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token comment&quot;&gt;// [3]&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;let&lt;/span&gt; kind &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token comment&quot;&gt;// [4]&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;for&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;let&lt;/span&gt; i&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt; i&lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;k&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt; i&lt;span class=&quot;token operator&quot;&gt;++&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;check&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;sushi&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;i&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;===&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
        check&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;sushi&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;i&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
        kind&lt;span class=&quot;token operator&quot;&gt;++&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;else&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
        check&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;sushi&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;i&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;++&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token comment&quot;&gt;// [5]&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;let&lt;/span&gt; max &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; kind&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token comment&quot;&gt;// [6]&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;for&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;let&lt;/span&gt; i&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;k&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt; i&lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;arr&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;length&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt; i&lt;span class=&quot;token operator&quot;&gt;++&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    check&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;arr&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;i&lt;span class=&quot;token operator&quot;&gt;-&lt;/span&gt;k&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;--&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;check&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;arr&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;i&lt;span class=&quot;token operator&quot;&gt;-&lt;/span&gt;k&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;===&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; kind&lt;span class=&quot;token operator&quot;&gt;--&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    check&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;arr&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;i&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;++&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;check&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;arr&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;i&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;===&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;&amp;amp;&amp;amp;&lt;/span&gt; check&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;arr&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;i&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;!==&lt;/span&gt; c&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; kind&lt;span class=&quot;token operator&quot;&gt;++&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token comment&quot;&gt;// [7]&lt;/span&gt;
    max &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; Math&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;max&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;max&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; kind&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;  

console&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;log&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;max&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;이 코드는 메모리 11252KB, 시간 200ms 로 통과된다.&lt;/p&gt;
&lt;p&gt;풀이에서 잘못된 부분이 있거나, 더 좋은 풀이가 있다면 적극적으로 제보 부탁드립니다!&lt;/p&gt;</content:encoded></item><item><title><![CDATA[[알고리즘] 섬 찾기 문제]]></title><description><![CDATA[문제 바다에 섬이 총 몇 개인지 구하는 문제. 육지는 1로 표시되고, 바다는 0으로 표시된다.  문제 풀이 과정 1 DFS 풀이 (재귀) 격자판을 순회하며 섬이 있는 좌표를 찾는다 => 이중 for…]]></description><link>https://42kim.github.io/algorithm/섬나라 아일랜드 찾기/</link><guid isPermaLink="false">https://42kim.github.io/algorithm/섬나라 아일랜드 찾기/</guid><pubDate>Tue, 18 May 2021 00:00:00 GMT</pubDate><content:encoded>&lt;h3&gt;문제&lt;/h3&gt;
&lt;p&gt;바다에 섬이 총 몇 개인지 구하는 문제.&lt;br&gt;
육지는 1로 표시되고, 바다는 0으로 표시된다.&lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 471px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/f7bec4e86aeb3ef789cfde963e8807fd/1f09d/%EC%95%8C%EA%B3%A0%EB%A6%AC%EC%A6%98_%EC%84%AC%EB%82%98%EB%9D%BC.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 94.30379746835443%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAATCAYAAACQjC21AAAACXBIWXMAABJ0AAASdAHeZh94AAACyUlEQVQ4y1WUC0tqQRSFz///CaGW9rBMEtPQIlMqrDBN08BAo5dUpqVZZj7a8S0YuXdgOHP22bNm7bXXHG9pacnW1tYsFArZ8vKy8Z7JZOz9/d263a49PT1Zp9OZr3nynkgkLBgMWjgctvv7e+v1evb8/GyeA4tEIra5uWmLi4t2cXFhw+HQPj8/jfH6+mrf39/2+/srwNlsZoeHh8qNx+M2GAwUZ48Xi8Vsd3fXtra2xJR5cHCghHa7bS8vLzYajQQIQ8CJ7+zsKDcajep9Op2Kpdfv920ymVir1bLV1VWxZJLIe6VSESA5R0dHcxDmxsaGQQh5yIGpByoL6geADQCy9vl8AuTQn58flUmMb+vr6yqZXDAARSIBMm5vb21lZUUJyWTSLi8vrVQqWaPRkHYwvLq6snK5rHihUNBhrAFjfHx8/M+QjtEgkmCEbjSAriI4OsGWGIM1sfF4LM3nDAk8Pj6KIVY4OTmRJl9fXwLlSQ6gsOAbBxJ3a5fn0TWCdIry7u7u7OHhQaxJxELpdFrz+vpaMUBp0N7enuKpVMr29/flXw+a0GX86z3K5FS0DAQCMjyHuYoAWFhYmFuNZtFxD585YzLRhQlrxvn5ubTFIrVaTWUBms1m1TxuzPb2tnyJn3VTuCXYgCeWOD09FTs6WywW5/4kB2AmvnW6ucrUZU5nA0k8KePs7Ewf2YBNKId77g4EGM2xCzlIgERqCl11JyM0E3+RSAOq1aoMnc/nBegINJtNWQbQt7c35SKZBxin53I5lQiQ8xhlsMk1ClDH1GnvGKKrfOgAaTmUKRUQ1pzKhAWbYE8u1XARnH40kH0CdPrRITYzsAebj4+PrV6v62Yw+QtRMgzxKgNQJtdTTQEMHbEBAcq4ubmR7/x+v3zo/iaUTC57aIr7B8Ke93nJTErmAwPBXZwGwQ4GsIYhFqJkYk4WJ9MfzHcxguTcWH4AAAAASUVORK5CYII=&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;이미지&quot;
        title=&quot;이미지&quot;
        src=&quot;/static/f7bec4e86aeb3ef789cfde963e8807fd/1f09d/%EC%95%8C%EA%B3%A0%EB%A6%AC%EC%A6%98_%EC%84%AC%EB%82%98%EB%9D%BC.png&quot;
        srcset=&quot;/static/f7bec4e86aeb3ef789cfde963e8807fd/c26ae/%EC%95%8C%EA%B3%A0%EB%A6%AC%EC%A6%98_%EC%84%AC%EB%82%98%EB%9D%BC.png 158w,
/static/f7bec4e86aeb3ef789cfde963e8807fd/6bdcf/%EC%95%8C%EA%B3%A0%EB%A6%AC%EC%A6%98_%EC%84%AC%EB%82%98%EB%9D%BC.png 315w,
/static/f7bec4e86aeb3ef789cfde963e8807fd/1f09d/%EC%95%8C%EA%B3%A0%EB%A6%AC%EC%A6%98_%EC%84%AC%EB%82%98%EB%9D%BC.png 471w&quot;
        sizes=&quot;(max-width: 471px) 100vw, 471px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;h4&gt;문제 풀이 과정&lt;/h4&gt;
&lt;p&gt;&lt;strong&gt;[1] DFS 풀이 (재귀)&lt;/strong&gt;&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;격자판을 순회하며 섬이 있는 좌표를 찾는다 =&gt; 이중 for 문&lt;/li&gt;
&lt;li&gt;최초의 섬 좌표를 찾으면, 해당 좌표를 체크하고 연결된 섬 찾기를 시작한다 =&gt; 해당 좌표의 값이 1이면, 해당 좌표의 값을 0으로 바꾼 뒤, DFS 시작&lt;/li&gt;
&lt;li&gt;해당 좌표의 상하좌우대각선, 총 8개의 좌표를 순차적으로 탐색하며 섬을 찾는다 =&gt; 탐색 대상 좌표(nx,ny)는 현재 좌표(x,y)에서 시계방향으로 dx, dy 배열에 담긴 값만큼 각각 x, y 좌표에 더한다.
(단, 유효한 좌표 값의 범위는 0 이상 N 미만이다)&lt;/li&gt;
&lt;li&gt;해당 섬에 연결된 모든 좌표를 찾아서 체크 했다면, 정답에 1을 더하고 다시 1번으로 돌아가 또 다른 섬 찾기를 반복한다.&lt;/li&gt;
&lt;li&gt;모든 섬을 찾아 지도의 모든 좌표 값이 0이 되었다면 끝.&lt;/li&gt;
&lt;/ol&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;javascript&quot;&gt;&lt;pre class=&quot;language-javascript&quot;&gt;&lt;code class=&quot;language-javascript&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;solution&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;board&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;  
    &lt;span class=&quot;token keyword&quot;&gt;let&lt;/span&gt; answer &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;let&lt;/span&gt; n &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; board&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;length&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;let&lt;/span&gt; dx &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;let&lt;/span&gt; dy &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

    &lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;token constant&quot;&gt;DFS&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;x&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; y&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
        board&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;x&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;y&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
        &lt;span class=&quot;token keyword&quot;&gt;for&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;let&lt;/span&gt; i&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt; i&lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;8&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt; i&lt;span class=&quot;token operator&quot;&gt;++&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
            &lt;span class=&quot;token keyword&quot;&gt;let&lt;/span&gt; nx &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; x &lt;span class=&quot;token operator&quot;&gt;+&lt;/span&gt; dx&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;i&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
            &lt;span class=&quot;token keyword&quot;&gt;let&lt;/span&gt; ny &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; y &lt;span class=&quot;token operator&quot;&gt;+&lt;/span&gt; dy&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;i&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
            &lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;nx&lt;span class=&quot;token operator&quot;&gt;&gt;=&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;&amp;amp;&amp;amp;&lt;/span&gt; nx&lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;n &lt;span class=&quot;token operator&quot;&gt;&amp;amp;&amp;amp;&lt;/span&gt; ny&lt;span class=&quot;token operator&quot;&gt;&gt;=&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;&amp;amp;&amp;amp;&lt;/span&gt; ny&lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;n &lt;span class=&quot;token operator&quot;&gt;&amp;amp;&amp;amp;&lt;/span&gt; board&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;nx&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;ny&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;===&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
                &lt;span class=&quot;token constant&quot;&gt;DFS&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;nx&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; ny&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
            &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
            
        &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;

    &lt;span class=&quot;token keyword&quot;&gt;for&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;let&lt;/span&gt; i&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt; i&lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;n&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt; i&lt;span class=&quot;token operator&quot;&gt;++&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
        &lt;span class=&quot;token keyword&quot;&gt;for&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;let&lt;/span&gt; j&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt; j&lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;n&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt; j&lt;span class=&quot;token operator&quot;&gt;++&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
            &lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;board&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;i&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;j&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;===&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
                    &lt;span class=&quot;token constant&quot;&gt;DFS&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;i&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; j&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
                    answer&lt;span class=&quot;token operator&quot;&gt;++&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
            &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
        &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;           
    &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; answer&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;

&lt;span class=&quot;token keyword&quot;&gt;let&lt;/span&gt; arr&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; 
         &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
         &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
         &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
         &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
         &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
         &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
console&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;log&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;solution&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;arr&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;ol start=&quot;6&quot;&gt;
&lt;li&gt;특이사항&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;-방문한 좌표를 체크하기 위해 따로 체크 배열을 만들어줄 필요가 없었다. board를 바로 0으로 수정하면 해결될 일이었다.&lt;br&gt;
-섬의 최초 좌표부터 0으로 바꿔줘야 하기 때문에, &lt;code class=&quot;language-text&quot;&gt;board[x][y]=0&lt;/code&gt;를 먼저 수행하고 좌표 탐색을 시작한다.&lt;br&gt;
-&lt;code class=&quot;language-text&quot;&gt;answer++&lt;/code&gt;의 위치는 최초 섬 좌표를 발견했을 때 or 해당 섬의 모든 좌표를 0으로 바꾼 이후 둘 다 가능했다.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;[2] BFS 풀이 (Queue)&lt;/strong&gt;&lt;br&gt;
큰 흐름은 DFS 풀이와 비슷했다.&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;격자판을 순회하며 섬이 있는 좌표를 찾는다 =&gt; 이중 for 문&lt;/li&gt;
&lt;li&gt;섬 좌표를 찾으면, 해당 좌표를 체크하고 해당 좌표의 상하좌우대각선을 탐색하며 연결되어 있는 섬을 찾는다 =&gt; 최초 좌표를 queue에서 빼면서, 연결된 좌표들을 모두 queue에 넣는다.&lt;/li&gt;
&lt;li&gt;더 이상 연결된 섬이 없을 때까지 2번을 반복한다 =&gt; queue.length가 0이 될 때까지 반복&lt;/li&gt;
&lt;li&gt;queue가 비었다면 정답에 1을 더하고 1번으로 돌아가 섬 찾기를 반복한다.&lt;/li&gt;
&lt;/ol&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;javascript&quot;&gt;&lt;pre class=&quot;language-javascript&quot;&gt;&lt;code class=&quot;language-javascript&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;solution&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;board&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;  
    &lt;span class=&quot;token keyword&quot;&gt;let&lt;/span&gt; answer &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;let&lt;/span&gt; n &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; board&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;length&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;let&lt;/span&gt; dx &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;let&lt;/span&gt; dy &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;let&lt;/span&gt; queue &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    
    &lt;span class=&quot;token keyword&quot;&gt;for&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;let&lt;/span&gt; i&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt; i&lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;n&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt; i&lt;span class=&quot;token operator&quot;&gt;++&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
        &lt;span class=&quot;token keyword&quot;&gt;for&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;let&lt;/span&gt; j&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt; j&lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;n&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt; j&lt;span class=&quot;token operator&quot;&gt;++&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
            &lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;board&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;i&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;j&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;===&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
                board&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;i&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;j&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
                queue&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;push&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;i&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; j&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
                &lt;span class=&quot;token keyword&quot;&gt;while&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;queue&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;length&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
                    &lt;span class=&quot;token keyword&quot;&gt;let&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;x&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; y&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;queue&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;shift&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
                    &lt;span class=&quot;token keyword&quot;&gt;for&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;let&lt;/span&gt; k&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt; k&lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;8&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt; k&lt;span class=&quot;token operator&quot;&gt;++&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
                        &lt;span class=&quot;token keyword&quot;&gt;let&lt;/span&gt; nx &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; x &lt;span class=&quot;token operator&quot;&gt;+&lt;/span&gt; dx&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;k&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
                        &lt;span class=&quot;token keyword&quot;&gt;let&lt;/span&gt; ny &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; y &lt;span class=&quot;token operator&quot;&gt;+&lt;/span&gt; dy&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;k&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
                        &lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;nx&lt;span class=&quot;token operator&quot;&gt;&gt;=&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;&amp;amp;&amp;amp;&lt;/span&gt; nx&lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;n &lt;span class=&quot;token operator&quot;&gt;&amp;amp;&amp;amp;&lt;/span&gt; ny&lt;span class=&quot;token operator&quot;&gt;&gt;=&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;&amp;amp;&amp;amp;&lt;/span&gt; ny&lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;n &lt;span class=&quot;token operator&quot;&gt;&amp;amp;&amp;amp;&lt;/span&gt; board&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;nx&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;ny&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;===&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
                            board&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;nx&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;ny&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
                            queue&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;push&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;nx&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; ny&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
                        &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
                    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
                &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
                answer&lt;span class=&quot;token operator&quot;&gt;++&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
            &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
        &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; answer&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;

&lt;span class=&quot;token keyword&quot;&gt;let&lt;/span&gt; arr&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; 
         &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
         &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
         &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
         &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
         &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
         &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
console&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;log&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;solution&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;arr&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;ol start=&quot;5&quot;&gt;
&lt;li&gt;특이사항&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;-DFS와 마찬가지로 &lt;code class=&quot;language-text&quot;&gt;answer++&lt;/code&gt;의 위치는 탐색 전, 후 둘 다 가능&lt;br&gt;
-방문한 좌표 체크는 &lt;strong&gt;꼭! Queue에 넣기 전에 해야한다!!&lt;/strong&gt; 뺄 때 체크를 하면 인접한 좌표가 중복체크 되기 때문이다.&lt;/p&gt;</content:encoded></item><item><title><![CDATA[[Docs] EJS 초간단 사용법]]></title><description><![CDATA[0. 프로젝트의 서버가 얼추 갖춰졌다. 동적 페이지 생성을 위해 템플릿 엔진을 사용하기로 했다. EJS (Embedded JavaScript templating)는 순수 자바스크립트를 사용하여 HTML…]]></description><link>https://42kim.github.io/tutorials/ejs/</link><guid isPermaLink="false">https://42kim.github.io/tutorials/ejs/</guid><pubDate>Mon, 17 May 2021 00:00:00 GMT</pubDate><content:encoded>&lt;h3&gt;0.&lt;/h3&gt;
&lt;p&gt;프로젝트의 서버가 얼추 갖춰졌다. 동적 페이지 생성을 위해 템플릿 엔진을 사용하기로 했다.&lt;/p&gt;
&lt;p&gt;EJS (Embedded JavaScript templating)는 순수 자바스크립트를 사용하여 HTML 마크업을 생성해주는 템플릿 언어이다. &lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;javascript&quot;&gt;&lt;pre class=&quot;language-javascript&quot;&gt;&lt;code class=&quot;language-javascript&quot;&gt;$ npm install ejs&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;먼저 npm을 통해 ejs를 설치하고 express에서 ejs를 require 했다면, &lt;code class=&quot;language-text&quot;&gt;app.set()&lt;/code&gt;을 사용해&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code class=&quot;language-text&quot;&gt;view engine&lt;/code&gt;으로 사용할 템플릿 엔진 (ejs)&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;을 세팅해줘야 한다.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;javascript&quot;&gt;&lt;pre class=&quot;language-javascript&quot;&gt;&lt;code class=&quot;language-javascript&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;let&lt;/span&gt; ejs &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;require&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;ejs&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

app&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;set&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;view engine&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;ejs&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;.&lt;code class=&quot;language-text&quot;&gt;render(&amp;#39;view&amp;#39;, [locals], callback)&lt;/code&gt; 메서드를 사용하여 브라우저에 렌더링할 HTML 파일을 응답한다. 이때, view.ejs 파일에 전달할 변수를 options 객체에 담아 전달할 수 있다.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;javascript&quot;&gt;&lt;pre class=&quot;language-javascript&quot;&gt;&lt;code class=&quot;language-javascript&quot;&gt;&lt;span class=&quot;token comment&quot;&gt;// index.ejs의 변수 isLogin에 true 값을 전달&lt;/span&gt;

app&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;get&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;/&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;req&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; res&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    res&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;render&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;index&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;isLogin&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token boolean&quot;&gt;true&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h3&gt;1.&lt;/h3&gt;
&lt;p&gt;HTML에서 자바스크립트를 사용하기 위해 ejs는 고유의 태그를 사용한다. 자바스크립트의 문법적 의미와 무관하게 자바스크립트가 사용되는 라인을 &lt;code class=&quot;language-text&quot;&gt;&amp;lt;% &amp;#39;javascript&amp;#39; %&amp;gt;&lt;/code&gt; 로 감싸준다. Default 구분 문자는 &lt;code class=&quot;language-text&quot;&gt;%&lt;/code&gt; 인데 &lt;code class=&quot;language-text&quot;&gt;{delimiter: ?}&lt;/code&gt; 객체를 render 메서드의 옵션에 담아 바꿔줄 수도 있다. 혹은 &lt;code class=&quot;language-text&quot;&gt;ejs.delimiter = &amp;#39;?&amp;#39;&lt;/code&gt; 를 통해 전역에서 구분 문자를 바꿀 수 있다.  &lt;/p&gt;
&lt;p&gt;주요 ejs 태그의 사용법은 아래와 같다.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code class=&quot;language-text&quot;&gt;&amp;lt;%&lt;/code&gt; ‘Scriptlet’ tag, for control-flow, no output&lt;/li&gt;
&lt;li&gt;&lt;code class=&quot;language-text&quot;&gt;&amp;lt;%_&lt;/code&gt; ‘Whitespace Slurping’ Scriptlet tag, strips all whitespace before it&lt;/li&gt;
&lt;li&gt;&lt;code class=&quot;language-text&quot;&gt;&amp;lt;%=&lt;/code&gt; Outputs the value into the template (HTML escaped)&lt;/li&gt;
&lt;li&gt;&lt;code class=&quot;language-text&quot;&gt;&amp;lt;%-&lt;/code&gt; Outputs the unescaped value into the template&lt;/li&gt;
&lt;li&gt;&lt;code class=&quot;language-text&quot;&gt;&amp;lt;%#&lt;/code&gt; Comment tag, no execution, no output&lt;/li&gt;
&lt;li&gt;&lt;code class=&quot;language-text&quot;&gt;&amp;lt;%%&lt;/code&gt; Outputs a literal ’&amp;#x3C;%’&lt;/li&gt;
&lt;li&gt;&lt;code class=&quot;language-text&quot;&gt;%&amp;gt;&lt;/code&gt; Plain ending tag&lt;/li&gt;
&lt;li&gt;&lt;code class=&quot;language-text&quot;&gt;-%&amp;gt;&lt;/code&gt; Trim-mode (‘newline slurp’) tag, trims following newline&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;code class=&quot;language-text&quot;&gt;_%&amp;gt;&lt;/code&gt; ‘Whitespace Slurping’ ending tag, removes all whitespace after it&lt;/p&gt;
&lt;p&gt;&lt;em&gt;출처: &lt;a href=&quot;https://ejs.co/#docs&quot;&gt;EJS Docs&lt;/a&gt;&lt;/em&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h3&gt;2.&lt;/h3&gt;
&lt;p&gt;ejs 파일로 다른 파일의 코드를 불러오기 위해서는 &lt;code class=&quot;language-text&quot;&gt;include&lt;/code&gt; 를 사용한다. 중복 HTML escaping을 피하기 위해 &lt;code class=&quot;language-text&quot;&gt;&amp;lt;%-&lt;/code&gt; 태그를 사용해준다. include의 첫 번째 인자로는 불러올 파일이 위치한 경로, 두 번째 인자로는 options를 전달한다.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;ejs&quot;&gt;&lt;pre class=&quot;language-ejs&quot;&gt;&lt;code class=&quot;language-ejs&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;ul&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
    &lt;span class=&quot;token ejs language-ejs&quot;&gt;&lt;span class=&quot;token delimiter punctuation&quot;&gt;&amp;lt;%&lt;/span&gt;&lt;span class=&quot;token language-javascript&quot;&gt; list&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;forEach&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;listName&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
       &lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;%&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;-&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;include&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&apos;list&lt;span class=&quot;token operator&quot;&gt;/&lt;/span&gt;names&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;listName&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; name&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt; &lt;/span&gt;&lt;span class=&quot;token delimiter punctuation&quot;&gt;%&gt;&lt;/span&gt;&lt;/span&gt;
    &lt;span class=&quot;token ejs language-ejs&quot;&gt;&lt;span class=&quot;token delimiter punctuation&quot;&gt;&amp;lt;%&lt;/span&gt;&lt;span class=&quot;token language-javascript&quot;&gt; &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt; &lt;/span&gt;&lt;span class=&quot;token delimiter punctuation&quot;&gt;%&gt;&lt;/span&gt;&lt;/span&gt;&amp;lt;/%&gt;
&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;ul&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h3&gt;3.&lt;/h3&gt;
&lt;p&gt;기존 HTML 태그를 그대로 사용하면서 몇 몇 특수 문자만 추가한다는 점에서는 익숙하게 사용할 수 있다는 장점이 있을 것 같으나, 실수도 꽤 발생하고 가독성이 은근히 떨어지는 것 같기도 하다. 다음 기회에는 또 다른 템플릿 엔진인 &lt;code class=&quot;language-text&quot;&gt;pug&lt;/code&gt;를 사용해보고 싶다. 이름도 더 귀엽다.&lt;/p&gt;
&lt;h4&gt;참고&lt;/h4&gt;
&lt;p&gt;&lt;a href=&quot;https://ejs.co/&quot;&gt;EJS&lt;/a&gt;  &lt;/p&gt;</content:encoded></item><item><title><![CDATA[[TIL] 구글 계정으로 로그인하기(OAuth 2.0)]]></title><description><![CDATA[은 웹, 모바일 등의 애플리케이션 API 접근에 대한 사용자 인증을 허가하는 프로토콜이다. 사용자의 권한을 위임받은 한 서비스가 제 3의 서비스에서 사용자와 관련된 API…]]></description><link>https://42kim.github.io/TIL/OAuth2.0/</link><guid isPermaLink="false">https://42kim.github.io/TIL/OAuth2.0/</guid><pubDate>Mon, 10 May 2021 00:00:00 GMT</pubDate><content:encoded>&lt;p&gt;&lt;code class=&quot;language-text&quot;&gt;OAuth 2.0&lt;/code&gt;은 웹, 모바일 등의 애플리케이션 API 접근에 대한 사용자 인증을 허가하는 프로토콜이다. 사용자의 권한을 위임받은 한 서비스가 제 3의 서비스에서 사용자와 관련된 API를 활용할 수 있도록 만들어주는 ‘대리 인증 방식’이라고도 할 수 있을 것 같다. 쇼핑몰 사이트에서의 네이버 계정으로 로그인하기를 떠올리면 된다. &lt;code class=&quot;language-text&quot;&gt;passport.js&lt;/code&gt;는 OAuth 2.0을 쉽게 활용할 수 있도록 도와주는 &lt;code class=&quot;language-text&quot;&gt;OAuth 2.0 Strategy&lt;/code&gt;를 제공한다.&lt;/p&gt;
&lt;h4&gt;OAuth 2.0&lt;/h4&gt;
&lt;p&gt;OAuth 2.0에는 3자 간의 소통을 필요로 한다. 서비스를 사용하려는 User를 지칭하는 &lt;code class=&quot;language-text&quot;&gt;Resource Owner&lt;/code&gt;, 사용자 관련 정보 즉, API를 제공하는 제3의 애플리케이션을 지칭하는 &lt;code class=&quot;language-text&quot;&gt;Resource Server&lt;/code&gt;, 그리고 사용자가 이용하고자 하는 본래의 서비스인 &lt;code class=&quot;language-text&quot;&gt;Client&lt;/code&gt; 간의 상호작용이 일어난다. 이 글에서는 편의상 RO, RS, Client 라고 지칭한다.&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;사실 엄밀하게 따지면 Resource Server와 Authorization Server가 구분된다. 총 4자 간의 소통?&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;OAuth 2.0의 진행은 크게 3단계로 구분할 수 있다.&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;client와 RO 간의 인증 요청과 허가&lt;/li&gt;
&lt;li&gt;client와 RS 간의 인증 요청과 허가&lt;/li&gt;
&lt;li&gt;client와 RS 간의 정보 요청과 제공&lt;/li&gt;
&lt;/ol&gt;
&lt;h4&gt;Google 계정으로 로그인하기&lt;/h4&gt;
&lt;p&gt;’&lt;strong&gt;철수&lt;/strong&gt;가 &lt;strong&gt;B쇼핑몰&lt;/strong&gt;에서 &lt;strong&gt;Google 계정으로 로그인하기&lt;/strong&gt;’ 기능을 사용하기 위해서는 어떤 과정을 거쳐야 하는지 OAuth 2.0 진행흐름을 정리해본다.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;0. Client 등록&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;모든 진행 과정에 앞서, B쇼핑몰은는 Google의 API를 이용하려면 &lt;strong&gt;자격(Credential)&lt;/strong&gt;을 얻어야 한다. 자격은 &lt;strong&gt;등록&lt;/strong&gt;이라는 과정을 거쳐서 얻을 수 있다. 이를 위해 B쇼핑몰은 &lt;code class=&quot;language-text&quot;&gt;Google 클라우드 플랫폼&lt;/code&gt;에서 쇼핑몰 정보를 등록하여 OAuth 2.0을 사용하기 위한 자격을 얻어야 한다. 성공적으로 등록되면, Google은 쇼핑몰에 OAuth 2.0 &lt;code class=&quot;language-text&quot;&gt;클라이언트 ID, 클라이언트 SECRET&lt;/code&gt;이라는 Credential을 발급한다. &lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt; &lt;strong&gt;Redirect URI&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;등록&lt;/strong&gt; 과정에서 쇼핑몰이 구글에 제공해야 하는 정보 중에 Redirect URI이라는 것이 있다. 추후에 사용자가 구글에게 ‘나는 B쇼핑몰에 정보 제공하는 것을 동의하겠다’라고 말하면 구글은 그 허가 내용을 담은 코드(Authorization Code)를 발급하게 되는데, 쇼핑몰은 이 코드를 사용하여 구글에게 사용자A의 정보를 요청할 수 있게 되는 것이다. 따라서 구글이 발급하는 코드를 전달받을 주소가 필요한데, 그 주소가 Redirect URI인 것이다. 이 글에서는 Redirect URI을 &lt;strong&gt;&lt;a href=&quot;http://bshop.com/auth/google/callback&quot;&gt;http://bshop.com/auth/google/callback&lt;/a&gt;&lt;/strong&gt;라고 가정한다.&lt;/p&gt;
&lt;p&gt;이제 Google은 B쇼핑몰의 client ID, client Secret, Redirect URI 등의 정보를 보유하게 되었다.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;&lt;strong&gt;1. client와 RO 간의 인증 요청과 허가&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;등록을 마치면, 비로소 첫 번째 단계로 진입한다. &lt;/p&gt;
&lt;p&gt;첫 번째 단계는 &lt;strong&gt;철수-B쇼핑몰&lt;/strong&gt; 간에 동의를 구하는 과정이라고 할 수 있다. B쇼핑몰은 철수에게, 자신들이 철수의 Google 정보 중에서 어떤 것들을 활용할 것인지(&lt;strong&gt;&lt;code class=&quot;language-text&quot;&gt;scope&lt;/code&gt;&lt;/strong&gt;), Google의 어떤 기능을 이용할 것인지를 알려주고 이러한 사실에 대해서 철수에게 동의를 구해야 한다. 이를 위해서 B쇼핑몰은 ‘Google 계정으로 로그인하기’ 버튼 클릭 시, Google의 &lt;code class=&quot;language-text&quot;&gt;Authorization Server&lt;/code&gt;로 사용자를 보내줘야한다. 철수가 B쇼핑몰의 로그인 페이지에서 ‘Google 계정으로 로그인하기’ 버튼을 클릭했을 때 뜨는 아래의 화면이 바로 이 과정이다.&lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 630px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/698fbff29e80d301e9a43d9eb3d5b99d/7527b/oauth_img.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 114.55696202531647%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAXCAYAAAALHW+jAAAACXBIWXMAABJ0AAASdAHeZh94AAAChUlEQVQ4y51Uy27TQBT1D5W+WKDSFyC6QPwG/4LEmg9gzaJJmyZNkZDY8wOskEjpI36PPWN7bM/h3jEuSZq6pVc6moevz9y3s7e7jc2NNWysr9p1fW0Fb98c4ODgNZ5vPcOrl/sW+3s72NnewtrqCuk8uQH/93Rz3f77Yn8XzmHvEEdHffT7vQa9Hs7GpzgdjTAaDmkdYngywJjuvpydYUTnWVg9Wk8GAxwfH8ERcYw8zyGlRJIkUEpB6xIwBix1XeGhUhQFnDD0EQsBz/MQRRHiWFgwcVVVKMvSQmvdCdaVMoWTkXXGWlKTUeYW+L6+Od+tw5JlGRw2k6X5OO+C+XuhshyZVnN3y/Q4dAuE82Cp6HVJIVGpILfqTt0HEUqpcHF5Sbiy+0cT0g3KyuBXUGMapEjIyiAIHu7yMmFFXdaU5cpmsStxc4R8waWSUi0qldmajKg+mWTxgbswR8iBT1IJSWSKUi+pBvnMhNaCDqLWQtMSlrqAyAwmQYVAGkINL62hrXHdRDeEy2JYG6BJRYPHiCXktuGYxVGIKAyRJgJhGFEr+vD9gGIb2zWgb67rQYjEwvUjTL0QfigwpX2eF9TL7HKpLcHP82ucX/mYXHq27ibnv+FSf4fU3z6VS9vn06lLdzGuowIXQUGrxsQvkJemIWSXufllXkNpIJYaaZraImYX/kdU28ucAFXQC+Xyol0sj9nC//xd4ePXFN9+UC4qG8MCaW7gigqxqm+VSGeraYN3n0LsvHfxYZzyRJztFHOrlWbJ7mrPWcloKjltnMw9nbD4CGbMaM92HnJCeNNOkvvq7N90lhY8oLlTmslNLgvRjHvOLBN3oSVp9ZtqaM4MIWL8AZIJzkSmnFdtAAAAAElFTkSuQmCC&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;이미지&quot;
        title=&quot;이미지&quot;
        src=&quot;/static/698fbff29e80d301e9a43d9eb3d5b99d/f058b/oauth_img.png&quot;
        srcset=&quot;/static/698fbff29e80d301e9a43d9eb3d5b99d/c26ae/oauth_img.png 158w,
/static/698fbff29e80d301e9a43d9eb3d5b99d/6bdcf/oauth_img.png 315w,
/static/698fbff29e80d301e9a43d9eb3d5b99d/f058b/oauth_img.png 630w,
/static/698fbff29e80d301e9a43d9eb3d5b99d/7527b/oauth_img.png 754w&quot;
        sizes=&quot;(max-width: 630px) 100vw, 630px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;
&lt;em&gt;(Google에게 이름, 이메일 주소, 언어 환경설정, 프로필 사진을 공유하는 것에 대해 동의를 구하는 페이지)&lt;/em&gt;&lt;/p&gt;
&lt;p&gt;철수가 B쇼핑몰이 자신의 어떠어떠한 Google 계정 정보를 취할 것이며, Google에서 어떤 기능을 사용할 것인지에 대해서 확인하여 동의하기 버튼을 누르면, Google은 이러한 동의 내용을 담은 &lt;code class=&quot;language-text&quot;&gt;Authorization Code&lt;/code&gt;를 발급한다. 동시에 Google은 위에서 설명했던 redirect uri로 철수와 Authorization Code를 함께 보내주게 된다. 이 과정을 통해  철수는 B쇼핑몰이 아닌 Google에게 본인 인증을 한 것이고, B쇼핑몰은 Google이 철수를 인증했다는 사실을 전달받는 것이다. 따라서 B쇼핑몰은 철수를 직접적으로 인증할 필요도, 철수의 민감한 개인정보를 직접 관리할 필요도 없어지는 것이다.&lt;/p&gt;
&lt;p&gt;이렇게 B쇼핑몰은 철수에게 철수의 Google 계정 정보 중 특정한 내용들(scope)을 자신들이 활용하겠다는 동의를 얻었고, 그 증거로서 Authorization Code까지 획득하게 된 것이다.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;2. client와 RS 간의 인증 요청과 허가&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;이제 B쇼핑몰은 철수의 동의를 얻었다는 사실을 Google에게 증명하여, 실제 철수의 정보를 얻기위한 자격을 얻어내야 한다. 그 자격이 바로 &lt;code class=&quot;language-text&quot;&gt;Access Token&lt;/code&gt;이다. 이번 단계는 B쇼핑몰이 Google의 Authorization Server에 Access Token을 요청하는 과정인 것이다.&lt;/p&gt;
&lt;p&gt;B쇼핑몰이 Google Authorizaion Server에 Access Token을 요청하면, Google 서버는 B쇼핑몰의 client ID, client Secret, redirect URI 그리고 조금 전 단계에서 발급한 Authorization Code 등이 유효한지 검증한다. 이 검증을 통과하면 Google은 B쇼핑몰에 비로소 Access Token(그리고 Refresh Token이라는 것도)을 발행한다. 이때, Access Token은 redirect uri의 query string에 담겨서 B쇼핑몰에 전달된다. 이 토큰에는 “Google 계정을 사용하는 철수가 자신의 특정 정보를 Google로부터 client ID를 발급받은 B쇼핑몰에게 제공하는 허용했다”는 의미가 담긴 것으로 생각하자.&lt;/p&gt;
&lt;p&gt;이로써 B쇼핑몰은 Google에게 철수의 정보를 요청할 수 있는 자격까지 얻었다. 이제 남은 것은 B쇼핑몰이 발급받은 토큰을 사용하여 Google로부터 철수의 정보를 얻는 과정뿐이다.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;3. client와 RS 간의 정보 요청과 제공&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;B쇼핑몰은 Google의 Authorization Server로부터 발급받은 Access Token을 가지고 이제는 Google의 Resource Server에 철수의 정보를 요청해야 한다.&lt;/p&gt;
&lt;p&gt;이제 Google이 정해놓은 API 사용을 위한 요청 방식에 맞게 Access Token을 전송하면, Google은 scope를 통해 사용하기로 약속한 철수의 정보들을 B쇼핑몰에 응답해주는 것이다.&lt;/p&gt;
&lt;h4&gt;참고&lt;/h4&gt;
&lt;p&gt;&lt;a href=&quot;https://datatracker.ietf.org/doc/html/rfc6749#section-1.3.1&quot;&gt;The OAuth 2.0 Authorization Framework&lt;/a&gt;&lt;br&gt;
&lt;a href=&quot;http://www.passportjs.org/docs/oauth/&quot;&gt;Passport Documentation&lt;/a&gt;&lt;br&gt;
&lt;a href=&quot;https://www.opentutorials.org/course/3413&quot;&gt;Opentutorials.org&lt;/a&gt;&lt;/p&gt;</content:encoded></item><item><title><![CDATA[[Docs] Node.js + MySQL]]></title><description><![CDATA[프로젝트에서 회원가입 기능을 구현하는 단계에 돌입했다. 신규 유저로부터 입력받은 회원정보를 보관하고 관리하기 위해 을 에 연동해야 했다. 이 과정을 간단하게 설명하고, 익숙치 않은 SQL 문을 기억해두기 위해 자주 사용하는 내용을 정리해둔다. Node…]]></description><link>https://42kim.github.io/tutorials/Node.js+MySQL/</link><guid isPermaLink="false">https://42kim.github.io/tutorials/Node.js+MySQL/</guid><pubDate>Fri, 07 May 2021 00:00:00 GMT</pubDate><content:encoded>&lt;p&gt;프로젝트에서 회원가입 기능을 구현하는 단계에 돌입했다. 신규 유저로부터 입력받은 회원정보를 보관하고 관리하기 위해 &lt;code class=&quot;language-text&quot;&gt;MySQL&lt;/code&gt;을 &lt;code class=&quot;language-text&quot;&gt;Node.js&lt;/code&gt;에 연동해야 했다. 이 과정을 간단하게 설명하고, 익숙치 않은 SQL 문을 기억해두기 위해 자주 사용하는 내용을 정리해둔다.&lt;/p&gt;
&lt;h3&gt;Node.js에 MySQL 연동하기&lt;/h3&gt;
&lt;p&gt;먼저 &lt;code class=&quot;language-text&quot;&gt;npm&lt;/code&gt;을 통해 &lt;a href=&quot;https://www.npmjs.com/package/mysql&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;mysql&lt;/code&gt;&lt;/a&gt; 모듈을 설치한다.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;javascript&quot;&gt;&lt;pre class=&quot;language-javascript&quot;&gt;&lt;code class=&quot;language-javascript&quot;&gt;$ npm install mysql&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;MySQL 서버에 애플리케이션을 연결하는 방법은 다음과 같다.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;javascript&quot;&gt;&lt;pre class=&quot;language-javascript&quot;&gt;&lt;code class=&quot;language-javascript&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; mysql &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;require&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;mysql&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; db &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; mysql&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;createConnection&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token comment&quot;&gt;// MySQL 서버의 위치&lt;/span&gt;
    &lt;span class=&quot;token comment&quot;&gt;// MySQL User ID&lt;/span&gt;
    &lt;span class=&quot;token comment&quot;&gt;// MySQL PASSWORD&lt;/span&gt;
    &lt;span class=&quot;token comment&quot;&gt;// 사용할 DATABASE 명&lt;/span&gt;
  	host     &lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;localhost&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
  	user     &lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;me&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
	password &lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;secret&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
  	database &lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;my_db&apos;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

&lt;span class=&quot;token comment&quot;&gt;// MySQL 서버 접속&lt;/span&gt;
db&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;connect&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
 
&lt;span class=&quot;token comment&quot;&gt;// DB에 Query 날리기&lt;/span&gt;
db&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;query&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;SELECT 1 + 1 AS solution&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;error&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; results&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; fields&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;error&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;throw&lt;/span&gt; error&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  console&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;log&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;The solution is: &apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; results&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;solution&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
 
&lt;span class=&quot;token comment&quot;&gt;// MySQL 서버와의 연결 종료&lt;/span&gt;
connection&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;end&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;&lt;code class=&quot;language-text&quot;&gt;db.query()&lt;/code&gt;의 첫 번째 인자로는 실행할 SQL 명령어를, 두 번째 인자로는 콜백 함수가 위치한다. 콜백 함수의 첫 번째 인자로는 Query 처리 과정에서 발생하는 Error가, 두 번째 인자로는 Query의 결과가, 세 번째 인자로는 두 번째 인자의 자세한 필드 정보가 담긴다.&lt;/p&gt;
&lt;h4&gt;SQL Injection과 escape 방식&lt;/h4&gt;
&lt;p&gt;query() 메서드의 첫 번째 인자인 SQL문을 작성할 때, 주의할 점이 있다. SQL문에 데이터의 정보를 그대로 노출할 경우, &lt;code class=&quot;language-text&quot;&gt;SQL Injection&lt;/code&gt;이라는 해킹 기법에 취약하다. SQL Injection은 우리가 데이터베이스 서버에 날리는 query를 탈취하여 데이터를 훔치거나, 데이터베이스 전체를 삭제하는 등의 큰 문제를 일으킬 수 있다. 이 같은 피해를 방지하기 위해 query를 보호하기 위한 &lt;code class=&quot;language-text&quot;&gt;escape&lt;/code&gt;방식을 사용해야 한다. &lt;/p&gt;
&lt;p&gt;users 테이블에 회원의 id와 password를 저장하는 query를 날린다고 가정해보자.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;javascript&quot;&gt;&lt;pre class=&quot;language-javascript&quot;&gt;&lt;code class=&quot;language-javascript&quot;&gt;&lt;span class=&quot;token string&quot;&gt;&apos;INSERT INTO users (id, password) VALUES (&apos;&lt;/span&gt;abc123&lt;span class=&quot;token string&quot;&gt;&apos;, &apos;&lt;/span&gt;def456&lt;span class=&quot;token string&quot;&gt;&apos;)&apos;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;위와 같은 SQL문이 query() 메서드의 인자로 전달된다. 만약 이 query가 SQL Injection에 의해 탈취 당한다면, 회원 ID와 PASSWORD는 고스란히 노출될 수밖에 없다.  이를 방지하기 위해 쉽게 사용할 수 있는 escape 방식은 다음과 같은 것들이 있다.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;placeholder 사용하기&lt;/li&gt;
&lt;/ul&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;javascript&quot;&gt;&lt;pre class=&quot;language-javascript&quot;&gt;&lt;code class=&quot;language-javascript&quot;&gt;db&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;query&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;INSERT INTO users (id, password) VALUES (?, ?)&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
	     &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;my-id&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;my-password&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
         &lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;error&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; results&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; fields&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  			&lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;error&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;throw&lt;/span&gt; error&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  			console&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;log&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;The solution is: &apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; results&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;solution&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;값 대신 &lt;code class=&quot;language-text&quot;&gt;?&lt;/code&gt;를 위치시키고, query 메서드의 다음 인자로 값이 담긴 배열을 전달하는 방식이다. 이때, 물음표와 배열 의 요소가 순서대로 대입된다는 사실에 유의하여 값을 담아야 한다. 위의 코드에서 첫 번째 물음표에는 ‘my-id’가, 두 번째 물음표에는 ‘my-password’가 대입된다.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;mysql 모듈이 제공하는 escape() 메서드 사용하기&lt;/li&gt;
&lt;/ul&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;javascript&quot;&gt;&lt;pre class=&quot;language-javascript&quot;&gt;&lt;code class=&quot;language-javascript&quot;&gt;db&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;query&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;SELECT email FROM users WHERE id=&apos;&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;+&lt;/span&gt; db&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;escape&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;abc123&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
	&lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;error&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; results&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; fields&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  		&lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;error&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;throw&lt;/span&gt; error&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  		console&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;log&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;The solution is: &apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; results&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;solution&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h3&gt;SQL 문&lt;/h3&gt;
&lt;p&gt;&lt;strong&gt;DATABASE&lt;/strong&gt;&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;mysql&quot;&gt;&lt;pre class=&quot;language-mysql&quot;&gt;&lt;code class=&quot;language-mysql&quot;&gt;SHOW DATABASES; 			 // 목록 보기
CREATE DATABASE [DB명];		// 생성하기
USE [DB명];					// 사용하기&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;&lt;strong&gt;TABLE&lt;/strong&gt;&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;mysql&quot;&gt;&lt;pre class=&quot;language-mysql&quot;&gt;&lt;code class=&quot;language-mysql&quot;&gt;SHOW TABLES;									// 목록 보기
CREATE TABLE [테이블명] (
[컬럼명1] [데이터 타입](사이즈) [속성1] [속성2],
[컬럼명2] [데이터 타입](사이즈) [속성],
PRIMARY KEY(컬럼명)
);												// 생성하기
DESCRIBE [테이블명];							 // 정보 확인하기&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;&lt;strong&gt;DATA&lt;/strong&gt;&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;mysql&quot;&gt;&lt;pre class=&quot;language-mysql&quot;&gt;&lt;code class=&quot;language-mysql&quot;&gt;INSERT INTO [테이블명] ([컬럼명1], [컬럼명2]) VALUES (&amp;#39;값1&amp;#39;, &amp;#39;값2&amp;#39;);	// 데이터 추가하기

SELECT * FROM [테이블명];									 // 테이블의 모든 데이터 출력
SELECT [컬럼명] FROM [테이블명];							   // 테이블의 특정 컬럼 데이터 출력
SELECT [컬럼명] FROM [테이블명] WHERE [컬럼명]=&amp;#39;값&amp;#39;;		    // 특정 값을 포함하는 행 출력
SELECT [컬럼명] FROM [테이블명] LIMIT [숫자];				 // 출력 갯수 제한
SELECT * FROM [테이블명] ORDER BY [컬럼명] DESC;			  // 특정 컬럼을 기준으로 내림차순

UPDATE [테이블명] SET [컬럼명1]=&amp;#39;수정값&amp;#39; WHERE [컬럼명2]=&amp;#39;값&amp;#39;; // 컬럼의 값을 새로운 값으로 수정
DELETE FROM [테이블명] WHERE [칼럼명]=&amp;#39;값&amp;#39;					 // 특정 값을 가진 행 삭제&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;&lt;strong&gt;주의!&lt;/strong&gt;  UPDATE나 DELETE를 할 때는 &lt;strong&gt;WHERE&lt;/strong&gt;를 절대 절대 빠트려서는 안된다. 전체 데이터가 수정될 위험이 있다.&lt;/p&gt;
&lt;h4&gt;참고&lt;/h4&gt;
&lt;p&gt;&lt;a href=&quot;https://www.npmjs.com/package/mysql&quot;&gt;npm-mysql&lt;/a&gt;&lt;br&gt;
&lt;a href=&quot;https://dev.mysql.com/doc/&quot;&gt;MySQL DOCUMENTATION&lt;/a&gt;&lt;br&gt;
&lt;a href=&quot;https://blog.sqreen.com/preventing-sql-injection-in-node-js-and-other-vulnerabilities/&quot;&gt;Preventing SQL injection in Node.js (and other vulnerabilities)&lt;/a&gt;&lt;/p&gt;</content:encoded></item><item><title><![CDATA[[Docs] Passport.js]]></title><description><![CDATA[는 ‘인증(authentication)‘이라는 단일 목적을 위해 고안된 Node middleware이다. 모던 웹 애플리케이션에는 다양한 형태의 인증 방식이 존재한다. Passport…]]></description><link>https://42kim.github.io/tutorials/passport.js/</link><guid isPermaLink="false">https://42kim.github.io/tutorials/passport.js/</guid><pubDate>Wed, 05 May 2021 00:00:00 GMT</pubDate><content:encoded>&lt;p&gt;&lt;code class=&quot;language-text&quot;&gt;Passport&lt;/code&gt;는 ‘인증(authentication)‘이라는 단일 목적을 위해 고안된 Node middleware이다. 모던 웹 애플리케이션에는 다양한 형태의 인증 방식이 존재한다. Passport는 각 애플리케이션의 목적에 맞게, 다양한 &lt;code class=&quot;language-text&quot;&gt;Strategy&lt;/code&gt;라는 인증 메커니즘을 모듈로 패키지화 해놓았다. 덕분에 우리는 만들고자하는 애플리케이션에 맞는 strategy를 골라 사용할 수 있게 된 것이다. 한마디로, Passport는 웹 애플리케이션을 만드는 과정에서 사용자 인증을 간편하게 구현할 수 있도록 돕는 미들웨어인 것이다.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;javascript&quot;&gt;&lt;pre class=&quot;language-javascript&quot;&gt;&lt;code class=&quot;language-javascript&quot;&gt;$ npm install passport&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;역시나 npm을 사용해 passport를 설치하는 것으로 시작한다.&lt;/p&gt;
&lt;h3&gt;Authenticate&lt;/h3&gt;
&lt;p&gt;본격적으로 인증은 &lt;code class=&quot;language-text&quot;&gt;passport.authenticate()&lt;/code&gt;함수를 호출하고, 어떤 strategy를 사용할 것인지 명시하는 것으로 시작한다. 아래 예시 코드는 &lt;code class=&quot;language-text&quot;&gt;local&lt;/code&gt; strategy를 사용한다.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;javascript&quot;&gt;&lt;pre class=&quot;language-javascript&quot;&gt;&lt;code class=&quot;language-javascript&quot;&gt;app&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;post&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;/login&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
  passport&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;authenticate&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;local&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;req&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; res&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token comment&quot;&gt;// If this function gets called, authentication was successful.&lt;/span&gt;
    &lt;span class=&quot;token comment&quot;&gt;// `req.user` contains the authenticated user.&lt;/span&gt;
    res&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;redirect&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;/users/&apos;&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;+&lt;/span&gt; req&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;user&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;username&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;디폴트 값으로, 인증에 실패할 경우 Passport는 &lt;code class=&quot;language-text&quot;&gt;401 Unauthorized&lt;/code&gt; 상태 코드로 응답하고 다른 라우트 핸들러의 발동이 중지될 것이다. 인증에 성공한 경우, 다음 라우트 핸들러가 발동되며 인증된 사용자에게는 &lt;code class=&quot;language-text&quot;&gt;req.user&lt;/code&gt; 프로퍼티가 세팅된다.&lt;/p&gt;
&lt;h3&gt;Redirect &amp;#x26; Flash Messages&lt;/h3&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;javascript&quot;&gt;&lt;pre class=&quot;language-javascript&quot;&gt;&lt;code class=&quot;language-javascript&quot;&gt;app&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;post&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;/login&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
  passport&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;authenticate&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;local&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; successRedirect&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;/&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
                                   failureRedirect&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;/login&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
                                   failureFlash&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token boolean&quot;&gt;true&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;사용자 요청의 인증 후에는 Redirect가 일반적으로 수행된다. 또한 &lt;code class=&quot;language-text&quot;&gt;failureFlash: true&lt;/code&gt; 옵션을 추가하여 인증에 실패할 경우, Passport가 왜 인증에 실패했는지에 관한 에러 메시지를 보내도록 설정할 수도 있다. 원한다면 true의 위치에 직접 에러 메시지를 작성하여 담는 것도 가능하다. &lt;/p&gt;
&lt;p&gt;공식 문서에 따르면 &lt;strong&gt;Flash Message 기능을 사용하기 위한 &lt;code class=&quot;language-text&quot;&gt;req.flash()&lt;/code&gt;함수가 이전에는 내장 함수로 제공되었으나, Express 3.x 버전에서 제거되었다고 한다. 최신 버전에서는 &lt;a href=&quot;https://github.com/jaredhanson/connect-flash&quot;&gt;이 미들웨어&lt;/a&gt;를 사용하여 대체할 수 있다고 한다.&lt;/strong&gt;&lt;/p&gt;
&lt;h3&gt;Disable Sessions&lt;/h3&gt;
&lt;p&gt;인증에 성공하면 Passport는, 사용자의 편의를 위해 브라우저를 종료해도 소멸되지 않는 &lt;code class=&quot;language-text&quot;&gt;Persistent login session&lt;/code&gt;을 생성한다. 그러나 강화된 보안을 위해 세션을 비활성화 하고 싶다면 &lt;code class=&quot;language-text&quot;&gt;session&lt;/code&gt; 옵션을 &lt;code class=&quot;language-text&quot;&gt;false&lt;/code&gt;로 설정하면 된다.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;javascript&quot;&gt;&lt;pre class=&quot;language-javascript&quot;&gt;&lt;code class=&quot;language-javascript&quot;&gt;passport&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;authenticate&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;basic&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; session&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token boolean&quot;&gt;false&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;token operator&quot;&gt;...&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h3&gt;Configure&lt;/h3&gt;
&lt;p&gt;Passport를 사용하기 위해서는 세 가지 환경 설정이 필요하다.&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;&lt;strong&gt;Strategies&lt;/strong&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;Passport는 일반적인 ID/PASSWORD를 식별 방식, OAuth 같은 위임 인증 방식이나 OpenID 같은 다양한 인증 방식을 아우르는 용어로 &lt;code class=&quot;language-text&quot;&gt;strategies&lt;/code&gt;를 사용한다. &lt;/p&gt;
&lt;p&gt;Passport가 사용자 request를 인증하기 전에 &lt;strong&gt;반드시&lt;/strong&gt; 애플리케이션에는 어떤 strategy를 사용할 것인지 설정이 되어 있어야 한다. 설정하는 방법은 아래와 같다.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;javascript&quot;&gt;&lt;pre class=&quot;language-javascript&quot;&gt;&lt;code class=&quot;language-javascript&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;var&lt;/span&gt; passport &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;require&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;passport&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; LocalStrategy &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;require&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;passport-local&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;Strategy&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

passport&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;use&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;LocalStrategy&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;username&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; password&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; done&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    User&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;findOne&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; username&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; username &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;err&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; user&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
      &lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;err&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;done&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;err&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
      &lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;!&lt;/span&gt;user&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
        &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;done&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;null&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token boolean&quot;&gt;false&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; message&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;Incorrect username.&apos;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
      &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
      &lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;!&lt;/span&gt;user&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;validPassword&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;password&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
        &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;done&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;null&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token boolean&quot;&gt;false&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; message&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;Incorrect password.&apos;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
      &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
      &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;done&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;null&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; user&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;&lt;code class=&quot;language-text&quot;&gt;Strategies&lt;/code&gt;를 사용함에 있어서 한 가지 중요한 개념이 있다. 그것은 바로 &lt;strong&gt;Verify Callback&lt;/strong&gt;이다. Verify Callback은 유저의 &lt;code class=&quot;language-text&quot;&gt;credential&lt;/code&gt;을 판별하기 위한 목적으로 사용된다.&lt;/p&gt;
&lt;p&gt;Passport는 request를 인증할 때, request 안에 포함된 credential들을 parse한다. 이 과정에서 credential(ID와 비밀번호 등)을 인수로 사용하여 verify callback을 호출한다. 그리고 그 정보가 유효한 것이 인증되면 verify callback 은 &lt;code class=&quot;language-text&quot;&gt;done()&lt;/code&gt;함수를 호출하여 인증된 &lt;code class=&quot;language-text&quot;&gt;user&lt;/code&gt;를 Passport에 전달한다.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;javascript&quot;&gt;&lt;pre class=&quot;language-javascript&quot;&gt;&lt;code class=&quot;language-javascript&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;done&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;null&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; user&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;만약 credential 정보가 유효하지 않는 경우, done()의 인자로 user 대신 &lt;code class=&quot;language-text&quot;&gt;false&lt;/code&gt;가 전달되어 호출되어야 한다. 이때, 인증 실패의 원인을 설명하는 메시지를 옵션으로 함께 전달할 수 있다.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;javascript&quot;&gt;&lt;pre class=&quot;language-javascript&quot;&gt;&lt;code class=&quot;language-javascript&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;done&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;null&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token boolean&quot;&gt;false&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; message&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;Incorrect password.&apos;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;마지막으로 credential 검증 과정에서 예외적인 &lt;em&gt;서버측 오류&lt;/em&gt; 가 발생하는 경우(데이터베이스 사용 불가 상태 등등), done() 함수는 error를 호출해야 한다.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;javascript&quot;&gt;&lt;pre class=&quot;language-javascript&quot;&gt;&lt;code class=&quot;language-javascript&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;done&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;err&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;ol start=&quot;2&quot;&gt;
&lt;li&gt;&lt;strong&gt;Middleware&lt;/strong&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;Passport를 시작하기 위해서는 &lt;code class=&quot;language-text&quot;&gt;passport.initialize()&lt;/code&gt; 미들웨어가 필요하다.&lt;/p&gt;</content:encoded></item><item><title><![CDATA[[TIL] Function]]></title><description><![CDATA[함수의 동작 순서 함수를 호출하면 현재의 실행 흐름을 중단하고 호출된 함수로 실행 흐름을 옮긴다. 매개변수(parameter, 인자)에 인수(argument…]]></description><link>https://42kim.github.io/TIL/js_function/</link><guid isPermaLink="false">https://42kim.github.io/TIL/js_function/</guid><pubDate>Tue, 04 May 2021 00:00:00 GMT</pubDate><content:encoded>&lt;h4&gt;함수의 동작 순서&lt;/h4&gt;
&lt;ol&gt;
&lt;li&gt;함수를 호출하면 현재의 실행 흐름을 중단하고 호출된 함수로 실행 흐름을 옮긴다.&lt;/li&gt;
&lt;li&gt;매개변수(parameter, 인자)에 인수(argument)가 순서대로 할당된다.&lt;/li&gt;
&lt;/ol&gt;
&lt;blockquote&gt;
&lt;ul&gt;
&lt;li&gt;인수는 값으로 표현될 수 있는 표현식이어야 한다.&lt;/li&gt;
&lt;li&gt;매개변수는 함수 몸체 내부에서 변수와 동일하게 취급된다. 즉, 함수가 호출될 때마다 함수 몸체 내에서 암묵적으로 매개변수가 생성되고, 일반 변수와 마찬가지로 undefined로 초기화 된 이후에 인수가 순서대로 할당되는 것이다.&lt;/li&gt;
&lt;li&gt;매개변수의 스코프는 함수 내부다.&lt;/li&gt;
&lt;li&gt;함수는 매개변수와 인수의 개수가 일치하는지 체크하지 않는다. 따라서 인수가 부족하거나 초과하더라도 에러는 발생하지 않는다. 인수가 할당되지 않은 매개변수는 undefined로 평가된다.&lt;/li&gt;
&lt;li&gt;사실 (초과된 인수를 포함하여) 모든 인수는 암묵적으로 argument 객체의 프로퍼티로 보관된다.&lt;/li&gt;
&lt;/ul&gt;
&lt;/blockquote&gt;
&lt;ol start=&quot;3&quot;&gt;
&lt;li&gt;함수 몸체의 문들이 실행된다.&lt;/li&gt;
&lt;/ol&gt;
&lt;h4&gt;자바스크립트에서 함수를 정의하는 방법&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;함수 선언문&lt;/li&gt;
&lt;/ul&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;javascript&quot;&gt;&lt;pre class=&quot;language-javascript&quot;&gt;&lt;code class=&quot;language-javascript&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;add&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;x&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; y&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; x &lt;span class=&quot;token operator&quot;&gt;+&lt;/span&gt; y&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;&lt;strong&gt;“함수는 함수 이름으로 호출하는 것이 아니라 함수 객체를 가리키는 식별자로 호출한다”&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;함수 리터럴에서 함수의 이름은 함수 몸체 내부에서만 참조할 수 있는 식별자다. 즉, 함수 외부에서는 함수 객체를 가리키는 식별자가 없기 때문에 참조할 수 없다. 그런데  함수 선언문은 변수에 함수를 할당하지 않았는데 호출이 가능하다.&lt;/p&gt;
&lt;p&gt;이는 자바스크립트 엔진이 함수 선언문을 해석하여 암묵적으로 함수 이름과 동일한 이름의 식별자를 생성하고, 거기에 함수 객체를 할당하기 때문이다.&lt;/p&gt;
&lt;p&gt;함수 선언문은 &lt;strong&gt;표현식이 아닌 문&lt;/strong&gt;이다. 그래서 실행 시 완료값인 &lt;strong&gt;undefined&lt;/strong&gt;가 출력된다. 만약 표현식인 문이라면 표현식이 평가되어 생성된 함수가 출력되어야 한다&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;표현식이 아닌 문?&lt;/p&gt;
&lt;p&gt;표현식이 아닌 문은 ‘값’으로 평가될 수 없다. 따라서 변수에 할당할 수 없다. 변수에 할당할 수 없다는 것은 참조할 수도 없다는 의미이다. 표현식이 아닌 문을 실행하면 언제나 ‘완료값’인 undefined를 출력한다.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;표현식이 아닌 문은 변수에 할당할 수 없다고 했다. 그러나 함수 선언문은 변수에 할당된다(되는 것처럼 보인다)&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;javascript&quot;&gt;&lt;pre class=&quot;language-javascript&quot;&gt;&lt;code class=&quot;language-javascript&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;let&lt;/span&gt; &lt;span class=&quot;token function-variable function&quot;&gt;add&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;add&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;x&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; y&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; x &lt;span class=&quot;token operator&quot;&gt;+&lt;/span&gt; y&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;이는 자바스크립트 엔진이 문맥에 따라 해석을 다르게 하기 때문이다. (값으로 사용되어야하는 경우 즉, 피연산자로 사용되는 기명 함수 리터럴의 경우 객체 리터럴로 해석된다.)&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;함수 표현식&lt;/li&gt;
&lt;/ul&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;javascript&quot;&gt;&lt;pre class=&quot;language-javascript&quot;&gt;&lt;code class=&quot;language-javascript&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;let&lt;/span&gt; &lt;span class=&quot;token function-variable function&quot;&gt;add&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;x&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; y&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; x &lt;span class=&quot;token operator&quot;&gt;+&lt;/span&gt; y&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;함수 표현식은 함수 리터럴로 생성한 함수 객체를 변수에 할당하는 정의 방식을 뜻한다. 함수 표현식은 함수 리터럴에서 이름을 생략할 수 있다. 이러한 함수를 익명 함수라고 한다.&lt;/p&gt;
&lt;p&gt;표현식이 아닌 문인 함수 선언문과 달리, 함수 표현식은 &lt;strong&gt;표현식인 문&lt;/strong&gt;이다.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;함수 호이스팅⁉&lt;/strong&gt;&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;함수 선언문이 코드의 선두로 끌어 올려진 것처럼 동작하는 자바스크립트 고유의 특징&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;함수 선언문으로 정의한 함수는 함수 선언문 이전에 호출할 수 있다. 그러나 함수 표현식으로 정의한 함수는 함수 표현식 이전에 호출할 수 없다. 이러한 차이는 두 함수의 &lt;strong&gt;생성 시점&lt;/strong&gt;이 다르기 때문에 발생한다.&lt;/p&gt;
&lt;p&gt;모든 선언문과 마찬가지로 함수 선언문도 런타임 이전에 자바스크립트 엔진에 의해 먼저 실행된다. 이 시점에, 자바스크립트 엔진은 함수 이름과 동일한 이름의 식별자를 암묵적으로 생성하고, 생성된 함수 객체를 할당한다.&lt;/p&gt;
&lt;p&gt;반면 var 키워드를 사용해 함수 표현식으로 함수를 정의하고 함수 표현식 이전에 함수를 참조하면 undefined로 평가된다. 따라서 함수를 호출하면 undefined를 호출하는 것과 마찬가지이므로 타입 에러가 발생한다. 함수 표현식으로 정의된 함수는 함수 호이스팅이 아니라 ‘변수 호이스팅’이 발생하기 때문이다. var 키워드를 사용한 변수 선언문은 런타임 이전에 실행되어 undefined로 초기화되고, 변수 할당문의 값은 런타임에 평가되어 함수 객체가 되기 때문이다.&lt;/p&gt;
&lt;h4&gt;함수의 인수&lt;/h4&gt;
&lt;p&gt;자바스크립트 함수의 인수에 관하여 알아둘 것이 있다.&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;&lt;strong&gt;자바스크립트 함수는 매개변수와 인수의 개수가 일치하는지 확인하지 않는다.&lt;/strong&gt;&lt;br&gt;
따라서 매개변수의 개수보다 인수의 개수가 적은 경우, 할당되지 않은 매개변수의 값은 undefined이다. 반면 초과된 인수의 경우 무시된다. 단, 무시된 인수가 사라지는 것은 아니다. 모든 인수는 암묵적으로 &lt;code class=&quot;language-text&quot;&gt;arguments&lt;/code&gt; 객체에 보관된다. &lt;/li&gt;
&lt;li&gt;&lt;strong&gt;동적 타입 언어인 자바스크립트의 함수는 매개변수의 타입을 사전에 지정할 수 없다.&lt;/strong&gt;&lt;br&gt;
따라서 자바스크립트에서 함수를 정의할 때는 조건문을 사용하여 인수의 타입을 확인하는 등, 오류를 방지하디 위해 적절한 인수가 전달되었는지 주의를 기울여 체크해야 한다. (ES6에서 도입된 &lt;strong&gt;매개변수 기본값&lt;/strong&gt; 참고)&lt;/li&gt;
&lt;/ol&gt;
&lt;h4&gt;return 반환문&lt;/h4&gt;
&lt;p&gt;함수는 return 키워드를 사용해 실행 결과를 함수 외부로 반환할 수 있다. 함수 호출은 표현식이다. 따라서 함수 호출 표현식이은 return 키워드의 반환값으로 평가되는 것이다.&lt;/p&gt;
&lt;p&gt;return 반환문의 역할은 두 가지이다.&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;반환문은 함수의 실행을 중단하고 함수 몸체를 빠져나간다. 반환문 이후의 문은 무시된다.&lt;/li&gt;
&lt;li&gt;반환문은 return 키워드 뒤에 오는 표현식을 평가해 반환한다. 지정하지 않으면 undefined를 반환한다. 만약 return과 표현식 사이에 줄바꿈이 있는 경우, 세미콜론이 자동으로 추가되어 undefined가 반환된다.&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;만약 함수의 반환문이 생략되는 경우, 함수는 undefined를 반환한다. 또한 함수 몸체의 내부가 아닌 곳에서 return 키워드를 사용하면 문법 에러가 발생한다.&lt;/p&gt;
&lt;h4&gt;매개변수의 참조&lt;/h4&gt;
&lt;p&gt;매개변수는 함수 몸체 내부에서 변수와 동일하게 취급된다. 따라서 변수와 마찬가지로 값의 타입에 따라 다른 방식의 전달이 발생한다. 규칙은 동일하다. 관련 내용 &lt;a href=&quot;https://42kim.github.io/TIL/js_objecttype/&quot;&gt;👉링크&lt;/a&gt;&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;javascript&quot;&gt;&lt;pre class=&quot;language-javascript&quot;&gt;&lt;code class=&quot;language-javascript&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;copy&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;primitive&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; obj&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    primitive &lt;span class=&quot;token operator&quot;&gt;+=&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    obj&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;name &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;LEE&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;

&lt;span class=&quot;token keyword&quot;&gt;let&lt;/span&gt; val1 &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;let&lt;/span&gt; val2 &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; name&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;KIM&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

&lt;span class=&quot;token function&quot;&gt;copy&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;val1&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; val2&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

console&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;log&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;val1&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;	&lt;span class=&quot;token comment&quot;&gt;// 0				-&gt; 원본 값은 변경되지 않았다.&lt;/span&gt;
console&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;log&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;val2&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;	&lt;span class=&quot;token comment&quot;&gt;// { name: &apos;Lee&apos;}	-&gt; 변경되었다.&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;따라서 의도치 않게 원본 객체를 훼손하지 않도록 주의하여 사용해야 한다.&lt;/p&gt;
&lt;h4&gt;참고&lt;/h4&gt;
&lt;p&gt;&lt;a href=&quot;https://ko.javascript.info/function-basics&quot;&gt;함수&lt;/a&gt;&lt;br&gt;
모던 자바스크립트 Deep Dive | 위키북스&lt;/p&gt;</content:encoded></item><item><title><![CDATA[[TIL] Express 프레임워크를 도입한 계기 : 정적 파일 서빙]]></title><description><![CDATA[…]]></description><link>https://42kim.github.io/TIL/express_static/</link><guid isPermaLink="false">https://42kim.github.io/TIL/express_static/</guid><pubDate>Sat, 01 May 2021 00:00:00 GMT</pubDate><content:encoded>&lt;p&gt;프로젝트를 시작하기에 앞서 “꼭 필요한 순간이 오기 전까지는 무작정 라이브러리를 도입하지 말자”고 뜻을 모았다. 서버 개발은 처음이다보니 지나치게 라이브러리에 의존하기 보다는 각각의 작동원리를 보다 정확하게 알고 넘어가길 희망하는 차원에서 정한 규칙이었다.&lt;/p&gt;
&lt;p&gt;Express 프레임워크도 마찬가지다. Node.js에서 거의 필수적으로 그리고 가장 대중적으로 사용되는 만큼, Express의 장점은 수도 없을 테지만 필요한 순간이 오기 전까지는 일단 Node.js의 내장 모듈만을 사용하고 있었다. &lt;/p&gt;
&lt;p&gt;변화의 시점은 생각보다 빨리 찾아왔다. 프로젝트의 view 를 구성하는 HTML, CSS, JS 파일들 즉, &lt;code class=&quot;language-text&quot;&gt;정적 파일&lt;/code&gt;을 serving 하는 데 있어서 Express의 도움 없이는 그 과정이 너무나 불편했기 때문이다.&lt;/p&gt;
&lt;h4&gt;외부 모듈 없이 정적 파일 제공하기&lt;/h4&gt;
&lt;p&gt;로컬 포트 3000번에 프로젝트의 서버를 열었다고 가정했을 때, 해당 경로로 GET 요청을 보내면 메인 페이지의 HTML 파일이 서빙되어야 한다.&lt;/p&gt;
&lt;p&gt;&lt;code class=&quot;language-text&quot;&gt;main.html&lt;/code&gt;이 메인 페이지에 해당되는 html 파일이고 내부에서 &amp;#x3C;script&gt; 태그를 사용하여 메인 페이지의 자바스크립트 파일인 &lt;code class=&quot;language-text&quot;&gt;script.js&lt;/code&gt;를 참조하고 있다고 가정한다면, 서버가 위치한 &lt;code class=&quot;language-text&quot;&gt;server.js&lt;/code&gt;의 코드는 다음과 같을 것이다. (js 파일은 public 디렉토리에 위치한 상태)&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;javascript&quot;&gt;&lt;pre class=&quot;language-javascript&quot;&gt;&lt;code class=&quot;language-javascript&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; http &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;require&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;http&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; fs &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;require&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;fs&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; app &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; http&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;createServer&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;req&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; res&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;req&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;url &lt;span class=&quot;token operator&quot;&gt;===&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;/&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
        fs&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;readFile&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;./main.html&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;err&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; data&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
            res&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;writeHead&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;200&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
                &lt;span class=&quot;token string&quot;&gt;&quot;Content-Type&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;text/html&quot;&lt;/span&gt;
            &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
            res&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;end&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;data&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
        &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;listen&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;3000&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;지정된 경로로 GET 요청을 보내면, 브라우저는 main.html을 렌더링하여 화면에 출력한다. 동시에 페이지를 로드하는 데 오류가 발생한다.&lt;/p&gt;
&lt;p&gt;오류의 원인을 찾기 위해 개발자 도구 - Network 탭을 확인해보니, &lt;code class=&quot;language-text&quot;&gt;script.js&lt;/code&gt; 파일에 대한 요청이 pending 상태에 멈춰있음을 알 수 있었다.&lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 630px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/c644e8e91b50b0e1d6d060e05f13e28c/22475/staticfile.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 22.78481012658228%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAFCAYAAABFA8wzAAAACXBIWXMAABJ0AAASdAHeZh94AAAA20lEQVQY01WPYZaDIAyEvci2FRAEUQG1WrV7/1vNJtntvvbHvEzyJYRUrvUwTQulLbo4Yl42bI8T+/HEuh3IeUYui/hEnnkuM+7rTn7FmCZiu9Qf+4kqBIdaWVIDbRy+LrX4y1VJvN60iD0zXszsVpt/pv4Y91TOWXmQG3/lPuLr97yMBzh/r7F/faaxHlVKBT5EUvemiLYNdE7Gcl8RukjnHOiHJPkwJuExDuJznlCmBdv5jarvBxhDm435kNYG1jp6rINzDiklyVPOaL0nrmVOKY1SJuIZNc38AH3zlG6RNT4pAAAAAElFTkSuQmCC&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;사진1&quot;
        title=&quot;사진1&quot;
        src=&quot;/static/c644e8e91b50b0e1d6d060e05f13e28c/f058b/staticfile.png&quot;
        srcset=&quot;/static/c644e8e91b50b0e1d6d060e05f13e28c/c26ae/staticfile.png 158w,
/static/c644e8e91b50b0e1d6d060e05f13e28c/6bdcf/staticfile.png 315w,
/static/c644e8e91b50b0e1d6d060e05f13e28c/f058b/staticfile.png 630w,
/static/c644e8e91b50b0e1d6d060e05f13e28c/40601/staticfile.png 945w,
/static/c644e8e91b50b0e1d6d060e05f13e28c/22475/staticfile.png 1039w&quot;
        sizes=&quot;(max-width: 630px) 100vw, 630px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;즉, 이를 통해서 우리는 브라우저가 &lt;code class=&quot;language-text&quot;&gt;main.html&lt;/code&gt; 파일 내부에 &amp;#x3C;script&gt; 태그로 참조하고 있는 &lt;code class=&quot;language-text&quot;&gt;script.js&lt;/code&gt; 파일을 자동으로 함께 요청하고 있음을 알 수 있었다. 이는 &lt;code class=&quot;language-text&quot;&gt;main.html&lt;/code&gt; 파일을 서빙할 때 &lt;code class=&quot;language-text&quot;&gt;script.js&lt;/code&gt;가 함께 서빙되는 것이 아니라, 해당 파일을 서빙해 줄 별개의 처리가 필요하다는 것을 뜻한다. 따라서 public 디렉토리에 위치한 메인 페이지의 자바스크립트 파일을 서빙하기 위해서는 &lt;code class=&quot;language-text&quot;&gt;server.js&lt;/code&gt;에서 ‘/script.js’라는 주소에 대해서도 추가적인 처리가 필요하다.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;javascript&quot;&gt;&lt;pre class=&quot;language-javascript&quot;&gt;&lt;code class=&quot;language-javascript&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; http &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;require&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;http&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; fs &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;require&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;fs&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; app &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; http&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;createServer&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;req&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; res&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;req&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;url &lt;span class=&quot;token operator&quot;&gt;===&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;/&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
        fs&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;readFile&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;./main.html&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;err&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; data&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
            res&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;writeHead&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;200&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
                &lt;span class=&quot;token string&quot;&gt;&quot;Content-Type&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;text/html&quot;&lt;/span&gt;
            &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
            res&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;end&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;data&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
        &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
    &lt;span class=&quot;token comment&quot;&gt;// script.js 파일 서빙&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;req&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;url &lt;span class=&quot;token operator&quot;&gt;===&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;/script.js&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
        fs&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;readFile&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;./public/script.js&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;err&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; data&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
            res&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;writeHead&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;200&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
                &lt;span class=&quot;token string&quot;&gt;&quot;Content-Type&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;text/javascript&quot;&lt;/span&gt;
            &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
            res&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;end&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;data&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
        &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;listen&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;3000&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;이제 localhost:3000에 접속하면, 의도한 대로 &lt;code class=&quot;language-text&quot;&gt;main.html&lt;/code&gt;과 함께 &lt;code class=&quot;language-text&quot;&gt;script.js&lt;/code&gt;가 서빙되는 것을 확인할 수 있다. 브라우저가 제공된 &lt;code class=&quot;language-text&quot;&gt;main.html&lt;/code&gt;을 파싱하며 &lt;code class=&quot;language-text&quot;&gt;script.js&lt;/code&gt; 파일 참조를 발견하면, localhost:3000/script.js 로 요청을 보내고, &lt;code class=&quot;language-text&quot;&gt;script.js&lt;/code&gt;를 제공하는 응답이 성공적으로 처리되었기 때문이다.&lt;/p&gt;
&lt;p&gt;따라서 위와 같은 방식을 사용한 프로젝트의 규모가 커지게 된다면, 매 요청마다 HTML 파일, JS 파일, 그리고 CSS 파일이나 이미지 파일까지 일일이 주소와 연결하여 응답처리를 해줘야 하는 불편함이 생긴다.&lt;/p&gt;
&lt;h4&gt;외부 모듈을 사용한 정적 파일 제공&lt;/h4&gt;
&lt;p&gt;이처럼 모듈을 사용하지 않고 Node.js만으로 정적 파일을 한 번에 제공하기 위해서는 각 파일의 주소에 대한 처리를 개별적으로 해야 하기 때문에 코드의 양이 지나치게 많아지고 복잡해집니다. &lt;/p&gt;
&lt;p&gt;따라서 보다 쉽게 정적 파일을 제공하는 것을 도와주는 커스텀 모듈들이 존재한다.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;&lt;a href=&quot;https://www.npmjs.com/package/node-static&quot;&gt;node-static&lt;/a&gt;&lt;/strong&gt; 또는 &lt;strong&gt;&lt;a href=&quot;https://www.npmjs.com/package/serve-static&quot;&gt;serve-static&lt;/a&gt;&lt;/strong&gt; 같은 모듈을 npm 레지스트리를 통해 설치하여 사용하면 된다. &lt;code class=&quot;language-text&quot;&gt;node-static&lt;/code&gt;을 사용하여 정적 파일을 서빙하는 방법은 다음과 같다.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;javascript&quot;&gt;&lt;pre class=&quot;language-javascript&quot;&gt;&lt;code class=&quot;language-javascript&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; http &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;require&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;http&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;static&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;require&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;node-static&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; fileServer &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;static&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;Server&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;./public&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; fs &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;require&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;fs&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; app &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; http&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;createServer&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;req&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; res&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;req&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;url &lt;span class=&quot;token operator&quot;&gt;===&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;/&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
        fs&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;readFile&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;./public/main.html&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;err&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; data&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
            res&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;writeHead&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;200&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
                &lt;span class=&quot;token string&quot;&gt;&quot;Content-Type&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;text/html&quot;&lt;/span&gt;
            &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
            res&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;end&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;data&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
        &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
	req&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;addListener&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;end&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
        fileServer&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;serve&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;req&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; res&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;resume&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;listen&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;3000&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;node-static은 &lt;code class=&quot;language-text&quot;&gt;new static.Server(&amp;#39;./public&amp;#39;)&lt;/code&gt;을 통해 public 디렉토리에 위치한 정적 파일을 서빙하는 서버 인스턴스를 생성한다. 그리고 생성된 서버 인스턴스에 &lt;code class=&quot;language-text&quot;&gt;.serve()&lt;/code&gt; 메서드를 호출하여 HTTP 요청과 응답 객체를 전달한다.&lt;/p&gt;
&lt;p&gt;이제 모든 정적 파일의 주소에 대하여 일일이 응답 처리를 해줄 필요 없이 정적 파일을 제공할 수 있다.&lt;/p&gt;
&lt;h4&gt;Express의 정적 파일 제공&lt;/h4&gt;
&lt;p&gt;외부 모듈을 설치하고 호출하여 훨씬 간단하게 정적 파일을 서빙할 수 있었다. 그러나 여전히 모듈을 설치해야 하고, 그에 맞는 메서드의 정확한 사용이 필요하다.&lt;/p&gt;
&lt;p&gt;Express 프레임워크를 사용하면 더욱 간단하게 정적 파일을 제공할 수 있다. Express에 내장된 &lt;code class=&quot;language-text&quot;&gt;express.static&lt;/code&gt; 미들웨어 함수를 사용하면, 지정한 디렉토리에 위치한 모든 정적 파일을 알아서 대신 검색하여 제공하기 때문이다.&lt;/p&gt;
&lt;p&gt;&lt;code class=&quot;language-text&quot;&gt;server.js&lt;/code&gt;에서 다음과 같이 static 미들웨어 함수를 호출한다.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;javascript&quot;&gt;&lt;pre class=&quot;language-javascript&quot;&gt;&lt;code class=&quot;language-javascript&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; express &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;require&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;express&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; app &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;express&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

app&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;use&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;express&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;static&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;public&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

app&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;get&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;/&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;req&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; res&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
        fs&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;readFile&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;./main.html&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;err&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; data&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
            res&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;writeHead&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;200&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
                &lt;span class=&quot;token string&quot;&gt;&quot;Content-Type&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;text/html&quot;&lt;/span&gt;
            &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
            res&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;end&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;data&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
        &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;이처럼 Express 프레임워크를 사용하면, 추가적인 모듈 설치 없이도 정적 파일을 제공할 수 있다. &lt;/p&gt;
&lt;p&gt;게다가 Express는 정적 파일 제공뿐만이 아니라, 라우팅에 있어서도 쉽고 깔끔하게 라우터를 분리하여 코드를 더 효율적으로 관리할 수 있는 등 점점 코드의 규모가 늘어나는 프로젝트의 유지 보수에도 훨씬 이점이 많아보였다.&lt;/p&gt;</content:encoded></item><item><title><![CDATA[[알고리즘] 정렬 - 가장 큰 수]]></title><description><![CDATA[프로그래머스 Level 2 정렬 문제 문제 설명 0 또는 양의 정수가 주어졌을 때, 정수를 이어 붙여 만들 수 있는 가장 큰 수를 알아내 주세요. 예를 들어, 주어진 정수가 6, 10, 2라면 6102, 6210, 1062, 1026, 261…]]></description><link>https://42kim.github.io/algorithm/sort-programmers/</link><guid isPermaLink="false">https://42kim.github.io/algorithm/sort-programmers/</guid><pubDate>Sat, 24 Apr 2021 00:00:00 GMT</pubDate><content:encoded>&lt;p&gt;&lt;a href=&quot;https://programmers.co.kr/learn/courses/30/lessons/42746&quot;&gt;프로그래머스 Level 2 정렬 문제&lt;/a&gt;&lt;/p&gt;
&lt;h4&gt;문제 설명&lt;/h4&gt;
&lt;p&gt;0 또는 양의 정수가 주어졌을 때, 정수를 이어 붙여 만들 수 있는 가장 큰 수를 알아내 주세요.&lt;/p&gt;
&lt;p&gt;예를 들어, 주어진 정수가 [6, 10, 2]라면 [6102, 6210, 1062, 1026, 2610, 2106]를 만들 수 있고, 이중 가장 큰 수는 6210입니다.&lt;/p&gt;
&lt;p&gt;0 또는 양의 정수가 담긴 배열 numbers가 매개변수로 주어질 때, 순서를 재배치하여 만들 수 있는 가장 큰 수를 문자열로 바꾸어 return 하도록 solution 함수를 작성해주세요.&lt;/p&gt;
&lt;h4&gt;제한 사항&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;numbers의 길이는 1 이상 100,000 이하입니다.&lt;/li&gt;
&lt;li&gt;numbers의 원소는 0 이상 1,000 이하입니다.&lt;/li&gt;
&lt;li&gt;정답이 너무 클 수 있으니 문자열로 바꾸어 return 합니다.&lt;/li&gt;
&lt;/ul&gt;
&lt;h4&gt;입출력 예&lt;/h4&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;numbers&lt;/th&gt;
&lt;th&gt;return&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;[6, 10, 2]&lt;/td&gt;
&lt;td&gt;“6210”&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;[3, 30, 34, 5, 9]&lt;/td&gt;
&lt;td&gt;“9534330”&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;h4&gt;풀이&lt;/h4&gt;
&lt;p&gt;일단 나는 배열 각 요소의 맨 앞자리 수를 기준으로 내림차순 정렬을 하려고 했다. 그 경우, 앞자리 숫자가 같을 때 그 다음 자리수를 반복하여 계속 비교해야한다. 만약 두 요소의 자리수가 다른 경우 비교하는 방법은 더 복잡해진다. 문자열의 형태로 이어붙였을 때 어떻게 해야 더 큰 수가 나오게끔 정렬할 수 있을까. 도저히 방법을 찾지 못해 구글링해보니 매우 매우 간단한 방법으로 해결할 수 있었음..  &lt;/p&gt;
&lt;p&gt;문자열 형태로 이어붙였을 때 커지는 숫자를 만들어야하는 게 이 문제의 핵심이기 때문에, 두 요소의 비교 또한 문자열 형태로 이어붙진 다음에 큰 순서대로 정렬하면 되는 것이었다. 두 수의 크기를 비교하는 아이디어, 배열의 sort() 메서드 작동원리를 잘 이해하고 있는 것이 중요했다. 풀이 순서는,  &lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;number 타입의 요소들을 string 타입으로 변환 후,&lt;/li&gt;
&lt;li&gt;요소를 앞뒤로 더했을 때, 큰 값을 만들어내는 순으로 정렬한다.&lt;/li&gt;
&lt;li&gt;배열의 요소를 하나의 문자열로 합친다.&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&lt;strong&gt;그런데&lt;/strong&gt;, 테스트 케이스 하나를 통과하지 못했다. 문제를 다시 잘 읽어보면, 모든 요소가 0인 경우도 가능하다. 이때 answer는 ‘0000..’이 반환되기 때문에 이 부분도 처리해줘야 한다.&lt;/p&gt;
&lt;h4&gt;코드&lt;/h4&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;javascript&quot;&gt;&lt;pre class=&quot;language-javascript&quot;&gt;&lt;code class=&quot;language-javascript&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;solution&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;numbers&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;var&lt;/span&gt; answer &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    
    answer &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; numbers&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;map&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;el&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt;el&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;toString&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
                    &lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;sort&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;a&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;b&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;b&lt;span class=&quot;token operator&quot;&gt;+&lt;/span&gt;a&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;a&lt;span class=&quot;token operator&quot;&gt;+&lt;/span&gt;b&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
                    &lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;join&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;answer&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;===&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;0&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;0&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; answer&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;프로그래머스 정답 풀이를 보니 신박한 방법들이 많다.&lt;br&gt;
숫자를 문자열로 바꿀 때 &lt;code class=&quot;language-text&quot;&gt;el + &amp;#39;&amp;#39;&lt;/code&gt;를 사용하거나 sort() 함수 내에서 a,b를 &lt;code class=&quot;language-text&quot;&gt;템플릿 리터럴&lt;/code&gt;로 감싸는 방법,&lt;br&gt;
마지막 0을 처리할 때 &lt;code class=&quot;language-text&quot;&gt;삼항연산자&lt;/code&gt;, &lt;code class=&quot;language-text&quot;&gt;정규표현식&lt;/code&gt;을 사용하는 방법 등등&lt;/p&gt;
&lt;p&gt;갈 길이 멀다.&lt;/p&gt;</content:encoded></item><item><title><![CDATA[[Docs] npm이 뭐지?]]></title><description><![CDATA[0. 프로젝트를 위해 Node.js에 대해 알아보기 시작했다. HTML, CSS, JS만 다뤄보다가 Node.js를 접하니 제일 먼저 이라는 게 눈에 띈다. , ,   등등 뭐만 하려고 하면 일단 npm…]]></description><link>https://42kim.github.io/tutorials/npm/</link><guid isPermaLink="false">https://42kim.github.io/tutorials/npm/</guid><pubDate>Thu, 22 Apr 2021 00:00:00 GMT</pubDate><content:encoded>&lt;h3&gt;0.&lt;/h3&gt;
&lt;p&gt;프로젝트를 위해 Node.js에 대해 알아보기 시작했다. HTML, CSS, JS만 다뤄보다가 Node.js를 접하니 제일 먼저 &lt;code class=&quot;language-text&quot;&gt;npm&lt;/code&gt;이라는 게 눈에 띈다. &lt;code class=&quot;language-text&quot;&gt;express&lt;/code&gt;, &lt;code class=&quot;language-text&quot;&gt;nodemon&lt;/code&gt;, &lt;code class=&quot;language-text&quot;&gt;ejs&lt;/code&gt;  등등 뭐만 하려고 하면 일단 npm을 사용한다. 블로그를 만들 때 &lt;code class=&quot;language-text&quot;&gt;gatsby&lt;/code&gt; 프레임워크도 npm을 통해 설치했다. 어떻게 npm은 모든 걸 설치해주는 걸까. npm이 도대체 뭐지?&lt;/p&gt;
&lt;h3&gt;1.&lt;/h3&gt;
&lt;p&gt;이번에도 &lt;a href=&quot;https://docs.npmjs.com/about-npm&quot;&gt;npm Docs&lt;/a&gt;를 읽어보기로 한다.  설명에 따르면,&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;npm은 가장 방대한 소프트웨어 레지스트리이다. 전세계의 오픈소스 개발자들이 &lt;code class=&quot;language-text&quot;&gt;package&lt;/code&gt;를 공유하기 위해 사용하며, 다양한 조직들이 내부 개발에 npm을 사용하기도 한다. npm은 다음 세 가지 요소로 구성된다.&lt;/p&gt;
&lt;blockquote&gt;
&lt;ol&gt;
&lt;li&gt;웹사이트&lt;br&gt;
: npm 웹사이트에서 다양한 패키지를 검색하고, 만들고, 관리할 수 있다.&lt;/li&gt;
&lt;li&gt;CLI (Command Line Interface)&lt;br&gt;
: npm은 터미널에서 구동한다.&lt;/li&gt;
&lt;li&gt;레지스트리&lt;br&gt;
: 레지스트리는 자바스크립트 소프트웨어, 관련 메타정보가 담긴 거대한 데이터베이스다. &lt;/li&gt;
&lt;/ol&gt;
&lt;/blockquote&gt;
&lt;/blockquote&gt;
&lt;p&gt;라고 한다.  npm은 &lt;code class=&quot;language-text&quot;&gt;Node Package Manager&lt;/code&gt; 의 준말이다. 근데 여기서 Package란 뭘 뜻하는 걸까?  &lt;/p&gt;
&lt;h3&gt;2.&lt;/h3&gt;
&lt;p&gt;패키지는 공개적으로 사용할 수 있는 코드다. 일반적으로 애플리케이션에 특정 기능들을 추가할 수 있도록 미리 누군가에 의해 만들어진 코드 파일이라고 생각하면 된다. Node.js에서의 패키지는 &lt;code class=&quot;language-text&quot;&gt;module&lt;/code&gt;에 필요한 파일들로 구성되어 있다. 그리고 모듈이란 프로젝트에 추가할 수 있는 &lt;code class=&quot;language-text&quot;&gt;JavaScript Libraries&lt;/code&gt;를 의미한다.  &lt;/p&gt;
&lt;p&gt;결론적으로 npm은 Node.js 환경에서 자바스크립트 라이브러리를 모아두고, 설치와 관리를 돕는 프로그램 정도로 이해하면 될 것 같다. npm을 통해 자신이 작성한 패키지를 공개할 수도 있고, 필요한 패키지를 검색하여 사용할 수도 있는 것이다.&lt;/p&gt;
&lt;h3&gt;3.&lt;/h3&gt;
&lt;p&gt;기본적인 npm 사용법에 대해서 알아보자. npm을 사용하기 위해서는 당연하게도 &lt;code class=&quot;language-text&quot;&gt;Node.js&lt;/code&gt;와 npm 설치가 필요하다. 본인의 컴퓨터에 이미 설치가 되어있는지 여부를 확인하고자 한다면,&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;nodejs&quot;&gt;&lt;pre class=&quot;language-nodejs&quot;&gt;&lt;code class=&quot;language-nodejs&quot;&gt;node -v
npm -v&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;를 통해 버전 정보를 확인해보면 된다.  &lt;/p&gt;
&lt;p&gt;패키지를 설치하기 위해서는,&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;nodejs&quot;&gt;&lt;pre class=&quot;language-nodejs&quot;&gt;&lt;code class=&quot;language-nodejs&quot;&gt;npm install &amp;#39;패키지 이름&amp;#39;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;이렇게 npm install 명령어 뒤에 설치할 패키지 이름을 지정하면 된다.  &lt;/p&gt;
&lt;p&gt;npm을 사용하다 보면 &lt;code class=&quot;language-text&quot;&gt;npm install -g &amp;#39;패키지 이름&amp;#39;&lt;/code&gt; 처럼 명령어 사이에 &lt;code class=&quot;language-text&quot;&gt;-g&lt;/code&gt; 옵션을 추가하는 경우가 있는데, 이는 &lt;strong&gt;패키지의 사용범위&lt;/strong&gt;를 나타내는 옵션이다.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;지역(local) 설치&lt;br&gt;
: 옵션을 별도로 지정하지 않으면 지역으로 설치되며, 프로젝트 루트 디렉토리에 &lt;code class=&quot;language-text&quot;&gt;node_modules&lt;/code&gt; 디렉토리가 자동 생성되고 그 안에 패키지가 설치된다. 지역 설치된 패키지는 &lt;strong&gt;해당 프로젝트 내에서만&lt;/strong&gt; 사용할 수 있다.&lt;/li&gt;
&lt;li&gt;전역(global) 설치&lt;br&gt;
: &lt;code class=&quot;language-text&quot;&gt;-g&lt;/code&gt; 옵션을 지정하여 전역에 설치된 패키지는 &lt;strong&gt;모든 프로젝트가 공통으로&lt;/strong&gt; 사용할 수 있다. 윈도우의 경우 &lt;code class=&quot;language-text&quot;&gt;c:\Users\%USERNAME%\AppData\Roaming\npm\node_modules&lt;/code&gt; 디렉토리에 전역 패키지가 설치된다.&lt;/li&gt;
&lt;/ul&gt;
&lt;h3&gt;4.&lt;/h3&gt;
&lt;p&gt;패키지가 npm 레지스트리에 추가되기 위해서는 패키지의 설명이 담긴 &lt;code class=&quot;language-text&quot;&gt;package.json&lt;/code&gt; 파일이 필수적으로 포함되어야 한다. 특히 패키지의 &lt;strong&gt;name&lt;/strong&gt;과 &lt;strong&gt;version&lt;/strong&gt; 정보가 필수적이다.  &lt;/p&gt;
&lt;p&gt; 또한 Node.js의 패키지는 빈번하게 업데이트된다. 따라서 프로젝트에서 이를 일괄적으로 관리할 필요가 있다. 위에서 언급했던 &lt;code class=&quot;language-text&quot;&gt;package.json&lt;/code&gt; 파일이 그러한 역할을 수행한다. &lt;/p&gt;
&lt;p&gt;패키지를 설치하면 &lt;code class=&quot;language-text&quot;&gt;package.json&lt;/code&gt; - &lt;code class=&quot;language-text&quot;&gt;dependencies&lt;/code&gt;에 패키지의 이름과 버전이 기록된다.&lt;/p&gt;
&lt;h3&gt;5.&lt;/h3&gt;
&lt;p&gt;자주 사용하는 &lt;code class=&quot;language-text&quot;&gt;npm 명령어&lt;/code&gt;로는,&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;nodejs&quot;&gt;&lt;pre class=&quot;language-nodejs&quot;&gt;&lt;code class=&quot;language-nodejs&quot;&gt;// package.json 생성 (프로젝트에 대한 여러 가지 정보를 입력하도록 요구받는다)
npm init

// 기본 설정값으로 package.json 생성
npm init -y

// 패키지 제거
npm uninstall 패키지 이름

// 패키지 업데이트
npm update 패키지 이름

// 패키지 Docs URL로 연결
npm docs 패키지 이름

// 패키지 정보 확인
npm view 패키지 이름

// 전역 패키지 설치 폴더 확인
npm root -g&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;등이 있다.&lt;/p&gt;
&lt;h4&gt;참고&lt;/h4&gt;
&lt;p&gt;&lt;a href=&quot;https://docs.npmjs.com/&quot;&gt;npm Docs&lt;/a&gt;&lt;br&gt;
&lt;a href=&quot;https://poiemaweb.com/&quot;&gt;Poiemaweb&lt;/a&gt;&lt;/p&gt;</content:encoded></item><item><title><![CDATA[[Docs] Gatsby로 Github 블로그 만들기]]></title><description><![CDATA[…]]></description><link>https://42kim.github.io/tutorials/gatsby-tutorial/</link><guid isPermaLink="false">https://42kim.github.io/tutorials/gatsby-tutorial/</guid><pubDate>Tue, 20 Apr 2021 00:00:00 GMT</pubDate><content:encoded>&lt;h3&gt;0.&lt;/h3&gt;
&lt;p&gt;중구난방으로 보고 듣고 읽는 것들을 조금이라도 붙잡아두기 위해 제대로 된 기록의 필요성을 느낀다. 어디에 기록해야할지, 시작부터 선택의 기로에 놓였다. 결론적으로는 블로그 글 하나 쓰는 데도 커밋과 푸시를 반복해야하는 귀찮음보다 깃허브와 외부 블로그를 이원화하여 관리하는 것이 더 귀찮을 것 같았다. 그리고 기왕이면 나의 산물(?)들을 한 곳에서 모아보면 더 뿌듯할 것만 같다는 판단 아래 이래 저래 검색해보다 Github 블로그 용으로 많이 쓰인다는 Gatsby를 골랐다. 근데 Gatsby가 도대체 뭐지?&lt;/p&gt;
&lt;h3&gt;1.&lt;/h3&gt;
&lt;p&gt;&lt;a href=&quot;https://www.gatsbyjs.com/docs/&quot;&gt;Gatsby Documentation&lt;/a&gt;을 읽어봤다. 영어다. 설명에 따르면,&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;Gatsby는 웹사이트와 앱을 만들기 위한 React 기반의 오픈 소스 프레임워크이다. 포트폴리오 사이트 혹은 블로그를 만들거나 기업 홈페이지, 높은 트래픽의 이커머스 스토어 등에 적합하다.
라고 한다. 아직은 잘 모르겠지만 좋다고 하니 좋은 것 같다. 튜토리얼을 따라가보기로 한다.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h3&gt;2.&lt;/h3&gt;
&lt;p&gt;개발 환경 구축을 위해 먼저 &lt;code class=&quot;language-text&quot;&gt;Node.js&lt;/code&gt;의 설치를 요구한다. Gatsby는 &lt;code class=&quot;language-text&quot;&gt;JavaScript&lt;/code&gt;를 사용하여 만들어졌기 때문에 Node.js 런타임을 필요로 한다. Node.js를 설치하면 &lt;code class=&quot;language-text&quot;&gt;npm&lt;/code&gt;도 따라온다.
다음으로 필요한 것은 &lt;code class=&quot;language-text&quot;&gt;Git&lt;/code&gt;의 설치다. Gatsby-starter-site를 설치하면 Git을 이용해 필요한 파일들을 다운로드하고 설치하게 된다.&lt;/p&gt;
&lt;h3&gt;3.&lt;/h3&gt;
&lt;p&gt;새로운 Gatsby 사이트를 생성하고 개발을 돕는 &lt;code class=&quot;language-text&quot;&gt;Gatsby CLI tool&lt;/code&gt;을 사용하려면, &lt;code class=&quot;language-text&quot;&gt;npm&lt;/code&gt;을 통해 설치해야 한다. 터미널에서 아래 명령을 실행한다.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;nodejs&quot;&gt;&lt;pre class=&quot;language-nodejs&quot;&gt;&lt;code class=&quot;language-nodejs&quot;&gt;npm install -g gatsby-cli
// gatsby --help 명령을 통해 다양한 도움을 받아보자...!&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h3&gt;4.&lt;/h3&gt;
&lt;p&gt;이제 Gatsby CLI tool을 사용해 새로운 사이트를 생성해보자. 기본 구성이 갖춰진 틀인 &lt;code class=&quot;language-text&quot;&gt;starter&lt;/code&gt;가 제공된다. &lt;code class=&quot;language-text&quot;&gt;gatsby-starter-default&lt;/code&gt;, &lt;code class=&quot;language-text&quot;&gt;gatsby-starter-blog&lt;/code&gt; 등 용도에 맞는 몇 가지 기본 starter가 존재한다. 이를 설치해 본인이 직접 커스터마이즈 해도 되고, 다른 사람들이 만들어둔 테마 중 마음에 드는 것을 골라 사용해도 된다.  &lt;/p&gt;
&lt;p&gt;새로운 starter를 생성하는 명령은 다음과 같다.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;nodejs&quot;&gt;&lt;pre class=&quot;language-nodejs&quot;&gt;&lt;code class=&quot;language-nodejs&quot;&gt;gatsby new &amp;quot;생성할 프로젝트 디렉토리 이름&amp;quot; &amp;quot;사용하고자 하는 starter의 GitHub URL&amp;quot;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;(URL부분을 생략하면 default-starter가 생성된다) 이렇게 선택한 starter 설치를 완료했다면,&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;nodejs&quot;&gt;&lt;pre class=&quot;language-nodejs&quot;&gt;&lt;code class=&quot;language-nodejs&quot;&gt;cd &amp;quot;바로 위에서 생성한 디렉토리 이름&amp;quot;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;명령을 통해 해당 디렉토리로 이동한다. 프로젝트에 대해 어떠한 명령을 하고자 할 때는 언제나 이처럼 해당 디렉토리에 위치한 상태여야 한다.  &lt;/p&gt;
&lt;h3&gt;5.&lt;/h3&gt;
&lt;p&gt;이제 개발 서버를 구동시켜보자.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;nodejs&quot;&gt;&lt;pre class=&quot;language-nodejs&quot;&gt;&lt;code class=&quot;language-nodejs&quot;&gt;gatsby develop&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;이 명령은 개발 서버를 시작시켜준다. 이제 &lt;code class=&quot;language-text&quot;&gt;http://localhost:8000/&lt;/code&gt; 주소를 통해 내 블로그의 개발자 환경으로 접속할 수 있다. 물론 아직 인터넷에 배포된 상태가 아니라, 나만 볼 수 있는 로컬 환경에서의 접속이다. 이제 Gatsby를 통해 생성한 내 블로그가 실제로 어떤 모습을 하고 있는지 확인할 수 있게 된 것이다.  &lt;/p&gt;
&lt;p&gt;만약, 개발 서버 구동을 중단하고 싶다면 터미널에서 &lt;code class=&quot;language-text&quot;&gt;ctrl + c&lt;/code&gt; 를 입력하면 된다. 다시 시작하고 싶다면 위에서 했던 것처럼 gatsby develop 명령을 실행하면 된다.&lt;/p&gt;
&lt;h3&gt;중간점검.&lt;/h3&gt;
&lt;p&gt;이로써 Gatsby를 사용해 블로그를 생성했다. 생성&lt;strong&gt;만&lt;/strong&gt; 했다.&lt;br&gt;
커스터마이즈를 위해 블로그의 내/외부 구조를 수정하는 것은 React를 공부한 뒤에 시도해볼 예정.
우선은 블로그에 포스팅을 하는 방법까지만 알아본다.  &lt;/p&gt;
&lt;h3&gt;6.&lt;/h3&gt;
&lt;p&gt;블로그 포스팅에는 &lt;code class=&quot;language-text&quot;&gt;Markdown&lt;/code&gt; 파일을 사용하려고 한다. &lt;a href=&quot;https://www.gatsbyjs.com/docs/how-to/routing/adding-markdown-pages/&quot;&gt;👉마크다운 작성법&lt;/a&gt;
Gatsby가 마크다운 파일을 읽고 해석하기 위해서는 두 가지 플러그인이 필요하다.
&lt;code class=&quot;language-text&quot;&gt;gatsby-source-filesystem&lt;/code&gt; 플러그인은 filesystem으로부터 파일을 읽어들이고, &lt;code class=&quot;language-text&quot;&gt;gatsby-transformer-remark&lt;/code&gt; 플러그인이 마크다운을 parse하여 HTML로 변환시켜준다.
나의 경우 gatsby-starter-blog를 설치했기 때문에, 해당 플러그인들이 이미 포함되어 있다. Default 스타터를 생성한 경우 npm을 통해 설치가 필요한 것으로 보인다.&lt;/p&gt;
&lt;h3&gt;7.&lt;/h3&gt;
&lt;p&gt;VS Code에서 프로젝트 폴더를 열어보자. 나의 경우 blog-starter를 생성했기 때문에 default-starter와는 이미 조금 다른 구조를 가지고 있다. 특히 &lt;code class=&quot;language-text&quot;&gt;content\blog&lt;/code&gt; 디렉토리가 생성되어 있는데 여기에 마크다운 파일을 추가하면 바로 포스팅되도록 준비되어 있다.&lt;/p&gt;
&lt;p&gt;포스팅에 앞서 임의로 생성된 블로그 이름과 소개를 변경해줄 필요가 있다. 이를 위해 &lt;code class=&quot;language-text&quot;&gt;gatsby-config.js&lt;/code&gt; 디렉토리를 살펴본다. 맨 위에서부터 살펴보면 &lt;code class=&quot;language-text&quot;&gt;siteMetadata&lt;/code&gt;라는 key가 있는데 여기에 해당하는 &lt;code class=&quot;language-text&quot;&gt;title&lt;/code&gt;, &lt;code class=&quot;language-text&quot;&gt;author&lt;/code&gt;, &lt;code class=&quot;language-text&quot;&gt;description&lt;/code&gt; 등등의 값들을 수정하면 블로그의 기본 정보를 변경할 수 있다.&lt;/p&gt;
&lt;p&gt;다시 &lt;code class=&quot;language-text&quot;&gt;content\blog&lt;/code&gt; 디렉토리로 돌아와 보면, 디폴트로 생성된 몇 개의 마크다운 파일과 이미지가 존재하는 것이 보인다. 여기에 내가 작성한 마크다운 파일을 추가하기만 하면 블로그에 글이 포스팅된다.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;이때&lt;/strong&gt;, 마크다운 파일에 포함되어야 하는 &lt;code class=&quot;language-text&quot;&gt;metadata&lt;/code&gt;가 있다.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;markdown&quot;&gt;&lt;pre class=&quot;language-markdown&quot;&gt;&lt;code class=&quot;language-markdown&quot;&gt;&lt;span class=&quot;token front-matter-block&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;---&lt;/span&gt;
&lt;span class=&quot;token font-matter yaml language-yaml&quot;&gt;title: 제목
data: 날짜&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;---&lt;/span&gt;&lt;/span&gt;
포스팅 내용 blah blah&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;위와 같이 3개의 대시로 감싼 블록 내의 key, value 쌍을 &lt;code class=&quot;language-text&quot;&gt;frontmatter&lt;/code&gt;라고 부른다. 마크다운 파일에 포함될 이 블록은 앞에 언급했던 transformer 플러그인에 의해 frontmatter로 parse된다. frontmatter는 데이터베이스에 파일에 대한 추가적인 정보를 전달하는 기능을 담당한다. (지금은 &lt;code class=&quot;language-text&quot;&gt;GraphQL&lt;/code&gt;과 &lt;code class=&quot;language-text&quot;&gt;React&lt;/code&gt; 둘 다 모르니 우선 넘어가도록 한다..)&lt;/p&gt;
&lt;h3&gt;8.&lt;/h3&gt;
&lt;p&gt;블로그를 생성했고 포스팅 방법을 알아보았으니, 마지막으로 배포가 남아있다.
Gatsby를 선택했던 주요한 이유 중 하나인 Gihub Pages를 통해 블로그를 호스팅하는 방법을 알아보자.
&lt;em&gt;단, 깃헙 페이지를 통해 배포하는 방법은 repository setting에 따라 조금씩 다르다&lt;/em&gt;.&lt;br&gt;
나는 &lt;code class=&quot;language-text&quot;&gt;username.github.io&lt;/code&gt;  경로를 사용하는 방식에 맞게 배포할 것이기 때문에 이에 해당하는 방법을 따른다.&lt;/p&gt;
&lt;p&gt;먼저 npm을 통해 &lt;code class=&quot;language-text&quot;&gt;gh-pages&lt;/code&gt; 패키지를 설치한다.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;nodejs&quot;&gt;&lt;pre class=&quot;language-nodejs&quot;&gt;&lt;code class=&quot;language-nodejs&quot;&gt;npm install gh-pages --save-dev&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;username.github.io 경로로 배포하는 경우, 블로그는 &lt;code class=&quot;language-text&quot;&gt;master&lt;/code&gt; 브랜치에 &lt;code class=&quot;language-text&quot;&gt;push&lt;/code&gt; 되어야 한다. 이는 깃헙 페이지가 master 브랜치를 배포하기 때문이다. 나는 master 브랜치에서 블로그를 개발하고 있었기에 다음의 두 가지 방법 중 하나를 선택해야 한다.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;디폴트 브랜치를 master에서 새로운 브랜치로 바꾸고, master 브랜치를 배포용 디렉토리로만 사용한다.&lt;/li&gt;
&lt;li&gt;username.github.io를 배포용도로만 사용하고, 소스코드를 위한 새로운 repository를 생성한다.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;나는 첫 번째 방법을 택하여 &lt;code class=&quot;language-text&quot;&gt;source&lt;/code&gt;라는 새로운 브랜치를 생성했다.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;nodejs&quot;&gt;&lt;pre class=&quot;language-nodejs&quot;&gt;&lt;code class=&quot;language-nodejs&quot;&gt;git checkout -b source master&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;그리고 package.json 파일에 다음과 같은 deploy script를 추가한다.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;nodejs&quot;&gt;&lt;pre class=&quot;language-nodejs&quot;&gt;&lt;code class=&quot;language-nodejs&quot;&gt;{
  &amp;quot;scripts&amp;quot;: {
    &amp;quot;deploy&amp;quot;: &amp;quot;gatsby build &amp;amp;&amp;amp; gh-pages -d public -b master&amp;quot;
  }
}&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;마지막으로 master 브랜치를 배포시켜주자.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;nodejs&quot;&gt;&lt;pre class=&quot;language-nodejs&quot;&gt;&lt;code class=&quot;language-nodejs&quot;&gt;npm run deploy&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h3&gt;9.&lt;/h3&gt;
&lt;p&gt;이제 &lt;code class=&quot;language-text&quot;&gt;username.github.io&lt;/code&gt; 로 접속하면 나의 Gatsby 블로그가 배포된 것을 확인할 수 있다.&lt;/p&gt;</content:encoded></item></channel></rss>